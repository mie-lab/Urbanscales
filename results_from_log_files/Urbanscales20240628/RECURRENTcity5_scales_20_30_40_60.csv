Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         4.191617
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (167, 17) (167,)
X.shape, Y.shape, "Inside the model-fitting function" : (167, 17) (167,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.2,
 'xgbregressor__max_depth': 20,
 'xgbregressor__n_estimators': 300}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 0.006992840688674873 0.23527194771237622 33.64468864468864
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg -0.0030622820798706747 0.042168161482289315 -13.770175438596482
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings 0.0059066595211425404 0.1880249313844786 31.832701836199362
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.01132893088655021 0.20206675348723663 17.83634797588286
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_6 0.005845542765336179 0.23793691486148463 40.703990102072375
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.006846565691367939 0.07444125235208002 10.87278727872787
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 -0.010513340635612784 0.041549693120947015 -3.9520923520923503
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg 0.00039243265561444637 0.006551678341824601 16.695038621509198
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 n 0.01577514958644246 0.053981514760879895 3.4219336219336327
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 mean_lanes -0.00116631113988805 0.0280573264709456 -24.056467876692594
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.005121358628432087 0.1341620152815694 26.196567164179115
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.031622284440960456 0.09398925146207643 2.9722473604826547
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 non_metered_count 0.003226935054582558 0.0886050623552538 27.457962697274027
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_avg 0.004591135147721677 0.20277683019415343 44.167035748180965
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 global_betweenness -0.024084240235766663 0.07050176875912506 -2.927298850574715
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.1093
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0209
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0942
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1011
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.1131
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0363
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0207
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0031
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0268
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0140
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0662
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0458
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0443
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0931
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0351
RECURRENT MexicoCity 20 LR 0.5626919774204265 XpVar
RECURRENT MexicoCity 20 RF 0.6225720536499245 XpVar
RECURRENT MexicoCity 20 GBM 0.5850444845337721 XpVar
RECURRENT MexicoCity 20 LLR 7.930164461608261e-17 XpVar
RECURRENT MexicoCity 20 RLR 0.5722464784292071 XpVar
RECURRENT MexicoCity 20 LR 0.2951384845233775 MSE
RECURRENT MexicoCity 20 RF 0.25893239308711574 MSE
RECURRENT MexicoCity 20 GBM 0.299569980155234 MSE
RECURRENT MexicoCity 20 LLR 0.6887474962090862 MSE
RECURRENT MexicoCity 20 RLR 0.2880150045361197 MSE
RECURRENT MexicoCity 20 LR 0.5528401726074178 R2
RECURRENT MexicoCity 20 RF 0.6086832421260139 R2
RECURRENT MexicoCity 20 GBM 0.5485055114075627 R2
RECURRENT MexicoCity 20 LLR -0.03636212057141514 R2
RECURRENT MexicoCity 20 RLR 0.5632114407329843 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 119.53259563446045 seconds
sorted_percentage_nan_per_column : maxspeed                         10.434783
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (345, 17) (345,)
X.shape, Y.shape, "Inside the model-fitting function" : (345, 17) (345,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.1,
 'xgbregressor__max_depth': 20,
 'xgbregressor__n_estimators': 100}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 0.006272410234537566 0.3637820631452496 57.997173262387776
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg -0.0015405804869101038 0.04792666209579734 -31.109482758620686
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings 0.0037166989706984505 0.18772082050952077 50.50740508969545
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.037499305713838686 0.22054748345314543 5.881375114946593
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_6 0.004671523516937805 0.2098300296709905 44.916830432341385
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.010135405236968766 0.05872069347894161 -5.793620689655171
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 -0.012645945247590194 0.0662993780900085 -5.242738031199565
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.00014518713289080176 0.0066702554895249 -45.94246994698722
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 n -0.0038492023477144552 0.05942490828599853 -15.438239644970423
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 mean_lanes -0.0007283578280185712 0.039423581371218534 -54.126666666666665
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.006980463427544354 0.18042562411309 25.847227191413225
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness -0.016173300365532373 0.062196307633540115 -3.8456163076083953
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 non_metered_count 0.0023021627633294773 0.07301064619559287 31.713937588844516
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_avg 0.00268995238282143 0.1635688647475166 60.807345807345826
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 global_betweenness -0.0015069379448613804 0.0830052809923191 -55.08208302496129
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.1467
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0238
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0899
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1078
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.1005
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0290
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0331
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0029
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0297
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0192
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0865
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0308
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0359
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0739
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0415
RECURRENT MexicoCity 30 LR 0.462445636950127 XpVar
RECURRENT MexicoCity 30 RF 0.5052676155888464 XpVar
RECURRENT MexicoCity 30 GBM 0.33729291576882664 XpVar
RECURRENT MexicoCity 30 LLR -1.586032892321652e-17 XpVar
RECURRENT MexicoCity 30 RLR 0.4658307499869572 XpVar
RECURRENT MexicoCity 30 LR 0.39505591301018195 MSE
RECURRENT MexicoCity 30 RF 0.36691254013205565 MSE
RECURRENT MexicoCity 30 GBM 0.495231236628667 MSE
RECURRENT MexicoCity 30 LLR 0.7519100515994415 MSE
RECURRENT MexicoCity 30 RLR 0.39242980974057723 MSE
RECURRENT MexicoCity 30 LR 0.4555152996657463 R2
RECURRENT MexicoCity 30 RF 0.49574685940486196 R2
RECURRENT MexicoCity 30 GBM 0.31240051396114005 R2
RECURRENT MexicoCity 30 LLR -0.030123410714092698 R2
RECURRENT MexicoCity 30 RLR 0.45893274763431474 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 240.8991768360138 seconds
sorted_percentage_nan_per_column : maxspeed                         17.12204
n                                 0.00000
lane_density                      0.00000
streets_per_node_proportion_6     0.00000
streets_per_node_count_6          0.00000
streets_per_node_proportion_5     0.00000
streets_per_node_count_5          0.00000
streets_per_node_proportion_4     0.00000
streets_per_node_count_4          0.00000
streets_per_node_proportion_3     0.00000
streets_per_node_count_3          0.00000
streets_per_node_proportion_2     0.00000
streets_per_node_count_2          0.00000
streets_per_node_proportion_1     0.00000
streets_per_node_count_1          0.00000
mean_lanes                        0.00000
m                                 0.00000
betweenness                       0.00000
total_crossings                   0.00000
non_metered_count                 0.00000
metered_count                     0.00000
self_loop_proportion              0.00000
circuity_avg                      0.00000
street_length_avg                 0.00000
street_segment_count              0.00000
street_length_total               0.00000
streets_per_node_avg              0.00000
edge_length_avg                   0.00000
edge_length_total                 0.00000
k_avg                             0.00000
global_betweenness                0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (549, 17) (549,)
X.shape, Y.shape, "Inside the model-fitting function" : (549, 17) (549,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 10,
 'xgbregressor__n_estimators': 200}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 0.00482104327396567 0.25304216948967306 52.48701476216513
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg 0.01124099164070437 0.0703745239821994 6.260526315789491
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings 0.0036593072782776085 0.17745389863340605 48.493850102943924
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.02178469985896024 0.3190149036564456 14.643988933601577
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_6 0.0021800440114841707 0.17382979578118452 79.73682864450129
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.0039468936673336215 0.06474635328783339 -16.404382470119515
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 -0.003924228192954611 0.0551112606209361 -14.043847072879316
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.00013618251156954827 0.007519745491853715 -55.21814368956905
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 n -0.0026020050356815047 0.05045721837541814 -19.391668226423178
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 mean_lanes -0.0015018341650115765 0.0400235210898392 -26.649760687479557
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0149494961338165 0.21700000861176968 14.515539966655126
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness -0.006193205458946318 0.059037452468149135 -9.532616487455186
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 non_metered_count 0.0014535473953492183 0.04703450138069089 32.358422939068134
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_avg 0.001823647820613015 0.1962089666552697 107.59147925245486
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 global_betweenness -0.0022451039975037246 0.06994138685503122 -31.15284945944478
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.1095
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0353
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0879
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1546
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0811
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0325
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0275
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0032
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0251
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0193
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0952
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0295
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0235
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0849
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0343
RECURRENT MexicoCity 40 LR 0.434064886879972 XpVar
RECURRENT MexicoCity 40 RF 0.46552346589301036 XpVar
RECURRENT MexicoCity 40 GBM 0.4004381034623613 XpVar
RECURRENT MexicoCity 40 LLR 0.0 XpVar
RECURRENT MexicoCity 40 RLR 0.4347273466871733 XpVar
RECURRENT MexicoCity 40 LR 0.44421217738048446 MSE
RECURRENT MexicoCity 40 RF 0.4175724234222883 MSE
RECURRENT MexicoCity 40 GBM 0.46749122610402843 MSE
RECURRENT MexicoCity 40 LLR 0.7794657732325964 MSE
RECURRENT MexicoCity 40 RLR 0.4434276613948375 MSE
RECURRENT MexicoCity 40 LR 0.4101477174083322 R2
RECURRENT MexicoCity 40 RF 0.44512978605041875 R2
RECURRENT MexicoCity 40 GBM 0.38416295070707296 R2
RECURRENT MexicoCity 40 LLR -0.029823963797076525 R2
RECURRENT MexicoCity 40 RLR 0.41102780487236457 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 340.06990361213684 seconds
sorted_percentage_nan_per_column : maxspeed                         26.320845
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1041, 17) (1041,)
X.shape, Y.shape, "Inside the model-fitting function" : (1041, 17) (1041,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 10,
 'xgbregressor__n_estimators': 200}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 0.0017496716171386572 0.20285262290837475 115.93753989112071
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg 0.0026008671651422902 0.09361531392157926 35.99388510733792
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings 0.0024780494214575607 0.1999149063560406 80.6743015796888
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.07426807428859188 0.30656700291798006 4.127843704775728
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_6 0.0017442547057050955 0.24977600353725377 143.19927171203165
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.0028449651801311844 0.06463497162258386 22.719073004472932
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.004242835018208338 0.0868458136656178 20.46881702750983
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.00018053766725335753 0.00890908342226629 -49.34750491576767
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 n 0.01245869667777438 0.06266520648771934 5.029836435420293
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 mean_lanes 0.001075478129681763 0.04279735961747419 39.793798159464245
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0034946070621222247 0.19526187799276573 55.87520271139897
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness -0.003875556227391828 0.09015218515139087 -23.261740989386055
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 non_metered_count 0.000755879177526748 0.038487708107621546 50.91780439508085
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_avg 0.0011257543697648406 0.1729088731143837 153.5937836514929
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 global_betweenness -0.0008355613171752703 0.0723691590591756 -86.61142823584686
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0762
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0465
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0988
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1423
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.1077
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0309
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0432
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0042
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0309
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0199
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0872
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0444
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0190
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0786
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0342
RECURRENT MexicoCity 60 LR 0.3782898262404887 XpVar
RECURRENT MexicoCity 60 RF 0.4465051370746407 XpVar
RECURRENT MexicoCity 60 GBM 0.35482212161295645 XpVar
RECURRENT MexicoCity 60 LLR -3.172065784643304e-17 XpVar
RECURRENT MexicoCity 60 RLR 0.3789480223668808 XpVar
RECURRENT MexicoCity 60 LR 0.5022334178350433 MSE
RECURRENT MexicoCity 60 RF 0.44723074287771375 MSE
RECURRENT MexicoCity 60 GBM 0.5204826108105187 MSE
RECURRENT MexicoCity 60 LLR 0.8077556075596516 MSE
RECURRENT MexicoCity 60 RLR 0.5016946375712592 MSE
RECURRENT MexicoCity 60 LR 0.3764512688060381 R2
RECURRENT MexicoCity 60 RF 0.44379583333626477 R2
RECURRENT MexicoCity 60 GBM 0.35271304149414096 R2
RECURRENT MexicoCity 60 LLR -0.0035102184033527018 R2
RECURRENT MexicoCity 60 RLR 0.37710108901305134 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 538.526620388031 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

