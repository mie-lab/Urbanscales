Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         29.779132
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1313, 17) (1313,)
X.shape, Y.shape, "Inside the model-fitting function" : (1313, 17) (1313,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 10,
 'xgbregressor__n_estimators': 200}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 metered_count 0.0821500548902324 0.33027273590888523 4.02035928460657
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -0.0009403039118922236 0.026763359782742066 -28.46245713142332
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.0021852840033150258 0.207668648112607 95.03050761254758
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_2 -0.0026107576294397083 0.056084826533657386 -21.48220344210722
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 global_betweenness -0.0009295861879789907 0.07734987954517164 -83.20893806881713
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.0008877259063795282 0.04218281936319788 -47.51784200512395
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_6 0.0013597385675482802 0.2181670674065323 160.4478041686391
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.0006528956759356822 0.04582374912463724 -70.1854075828669
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_3 0.0016741410947905516 0.2720976087006651 162.52967539435895
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.0010155749552171916 0.023769553189118255 23.40502103464621
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.014952525758830723 0.05670730618813538 -3.7924901185771205
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.0025300995237736226 0.1440841206240634 56.94800511608457
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_avg 0.0012252822833844002 0.2092522518823247 170.7788113154961
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 circuity_avg -0.00014043633792314711 0.01914450798676622 -136.321612126079
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 k_avg 0.0021927921357478408 0.09442327985400648 43.0607526881721
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1490
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0134
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0929
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0281
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0346
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0209
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.1028
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0215
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0978
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0114
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0284
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0692
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0905
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0063
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0473
RECURRENT MexicoCity 70 LR 0.3688178463784201 XpVar
RECURRENT MexicoCity 70 RF 0.4404604353741818 XpVar
RECURRENT MexicoCity 70 GBM 0.36562473718141447 XpVar
RECURRENT MexicoCity 70 LLR 0.0 XpVar
RECURRENT MexicoCity 70 RLR 0.3690711121865712 XpVar
RECURRENT MexicoCity 70 LR 0.5111113593037875 MSE
RECURRENT MexicoCity 70 RF 0.45315569800617067 MSE
RECURRENT MexicoCity 70 GBM 0.5138457425813573 MSE
RECURRENT MexicoCity 70 LLR 0.8144163239527759 MSE
RECURRENT MexicoCity 70 RLR 0.5108713809898727 MSE
RECURRENT MexicoCity 70 LR 0.3649291144480352 R2
RECURRENT MexicoCity 70 RF 0.43641430665297765 R2
RECURRENT MexicoCity 70 GBM 0.36212836935040993 R2
RECURRENT MexicoCity 70 LLR -0.008543970264921232 R2
RECURRENT MexicoCity 70 RLR 0.3652249670438524 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 591.9939134120941 seconds
sorted_percentage_nan_per_column : maxspeed                         31.957473
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1599, 17) (1599,)
X.shape, Y.shape, "Inside the model-fitting function" : (1599, 17) (1599,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 10,
 'xgbregressor__n_estimators': 200}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 metered_count -0.010700085631784829 0.34098954822762795 -31.867927039266988
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes 0.004345429088249415 0.03264172473164487 7.511737982311615
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.003016288360115539 0.20904982944227385 69.30697747819647
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_2 -0.005365586744084936 0.06962047223426399 -12.975369806669164
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 global_betweenness -0.001640989715614728 0.07968690243963031 -48.56026925786
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.001213701793810757 0.04586923442870709 -37.79283730370685
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_6 0.0011350945385256118 0.211857418523603 186.64297231029514
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.0011799631685465459 0.044571998203489574 -37.774058878797405
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_3 0.0009648177600957414 0.1651190908496456 171.14018592823209
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.0010216396618352283 0.034077110817031596 33.355313120691676
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m 0.0018587820223752057 0.07091491974805819 38.15128341807451
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.001983116116194138 0.16978813236518986 85.61683855962792
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_avg 0.0011211579526253844 0.283104791390369 252.51106744364643
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 circuity_avg -8.573183363884931e-05 0.011234251075167517 -131.039435392138
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 k_avg 0.0011931875470267733 0.09210431091445584 77.19181376302879
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1381
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0159
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0956
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0347
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0390
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0228
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.1033
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0222
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0745
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0161
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0353
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0826
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.1198
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0047
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0458
RECURRENT MexicoCity 80 LR 0.35528792138030596 XpVar
RECURRENT MexicoCity 80 RF 0.4201995504905603 XpVar
RECURRENT MexicoCity 80 GBM 0.3286425636586087 XpVar
RECURRENT MexicoCity 80 LLR 1.586032892321652e-17 XpVar
RECURRENT MexicoCity 80 RLR 0.355394189286832 XpVar
RECURRENT MexicoCity 80 LR 0.5477329088489248 MSE
RECURRENT MexicoCity 80 RF 0.49377254086597544 MSE
RECURRENT MexicoCity 80 GBM 0.5726198206939055 MSE
RECURRENT MexicoCity 80 LLR 0.855797499270823 MSE
RECURRENT MexicoCity 80 RLR 0.5476488472161481 MSE
RECURRENT MexicoCity 80 LR 0.35152075850205416 R2
RECURRENT MexicoCity 80 RF 0.4157405498528642 R2
RECURRENT MexicoCity 80 GBM 0.32271632750602874 R2
RECURRENT MexicoCity 80 LLR -0.010989212776426616 R2
RECURRENT MexicoCity 80 RLR 0.3516270083695742 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 881.1570708751678 seconds
sorted_percentage_nan_per_column : maxspeed                         34.717785
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1878, 17) (1878,)
X.shape, Y.shape, "Inside the model-fitting function" : (1878, 17) (1878,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 10,
 'xgbregressor__n_estimators': 200}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 metered_count 0.03671887221554348 0.30004963061541357 8.171537209914618
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes 0.0011476488437725766 0.030755115564387304 26.798367576695682
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.0019052978854754443 0.18699698722657418 98.14580105929804
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_2 -0.010719019908789061 0.06137292496556687 -5.725609756097583
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 global_betweenness -0.0007161109538751754 0.07456014124614978 -104.11814097057686
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n 0.004607055779379809 0.04619100829170755 10.026144788272063
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_6 0.001496235649312849 0.26268867572564814 175.56637943113356
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.00035021507399943377 0.03345761421314147 -95.534477802619
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_3 0.0008712589354971652 0.16875280657059866 193.68846584546475
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.0012272351120041732 0.03245103509938446 26.44239460064773
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m 0.003340899079562602 0.0740846705509346 22.17506987988213
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.0022062933227885786 0.15149519954277205 68.66503106273024
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_avg 0.0011116355500489338 0.293888388890403 264.3747664218422
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 circuity_avg -6.336707237347724e-05 0.00867382880385512 -136.88227148530245
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 k_avg 0.0010803381872021155 0.12198977604033345 112.91813756603881
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1231
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0153
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0777
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0299
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0359
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0215
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.1270
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0167
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0763
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0153
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0367
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0750
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.1041
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0037
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0600
RECURRENT MexicoCity 90 LR 0.34692852031964844 XpVar
RECURRENT MexicoCity 90 RF 0.4124013385263791 XpVar
RECURRENT MexicoCity 90 GBM 0.3522168313276332 XpVar
RECURRENT MexicoCity 90 LLR -3.172065784643304e-17 XpVar
RECURRENT MexicoCity 90 RLR 0.3470005809641095 XpVar
RECURRENT MexicoCity 90 LR 0.5431859230401679 MSE
RECURRENT MexicoCity 90 RF 0.48741040183173967 MSE
RECURRENT MexicoCity 90 GBM 0.5389926015338645 MSE
RECURRENT MexicoCity 90 LLR 0.8352720022341273 MSE
RECURRENT MexicoCity 90 RLR 0.5431304802211964 MSE
RECURRENT MexicoCity 90 LR 0.34380733193622576 R2
RECURRENT MexicoCity 90 RF 0.410655196529431 R2
RECURRENT MexicoCity 90 GBM 0.3494121146192213 R2
RECURRENT MexicoCity 90 LLR -0.0068061074887865326 R2
RECURRENT MexicoCity 90 RLR 0.34387676279719187 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 956.2337653636932 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

