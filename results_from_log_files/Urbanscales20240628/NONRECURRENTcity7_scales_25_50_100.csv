Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         11.894273
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (454, 17) (454,)
X.shape, Y.shape, "Inside the model-fitting function" : (454, 17) (454,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 20,
 'xgbregressor__n_estimators': 100}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_avg -0.00026610375487896897 0.005942199036829434 -22.33038402457757
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.0011589703148671847 0.014995834509371385 12.938928906984017
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m -8.002791124152618e-05 0.007198012196728075 -89.94377192982458
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_2 -0.0003455128910731367 0.004535150498813723 -13.125850340136054
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_5 0.0004813360884150762 0.01672799577420188 34.75325490196079
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 k_avg -0.009848362806024568 0.04230817819324775 -4.295960559796441
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -8.588429164184992e-05 0.004163210315876028 -48.474642292413904
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 betweenness 0.0015981417773632876 0.01816549282110421 11.366634098681004
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings -0.0008982192153176652 0.028859225820106273 -32.1293792517007
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness -0.0018288327544455705 0.02921979672186854 -15.977292975992668
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.0005184517921704504 0.023767395249960077 -45.843018789577485
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n -7.71293401344606e-05 0.00402623624605899 -52.20109803921568
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_3 0.0005792323726345983 0.006421942087901384 11.086987522281646
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 metered_count -0.0005887029913369076 0.015400690683977165 -26.16037443431901
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 streets_per_node_count_6 0.026118501544435027 0.006395150973917334 0.24485137338515983
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0029
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0075
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0031
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0022
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0083
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0205
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0010
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0086
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0133
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0119
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0112
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0019
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0030
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0074
SHAP-- non-recurrent-mmm-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0027
NON-RECURRENT-MMM NewYorkCity 25 LR 0.19384368601540647 XpVar
NON-RECURRENT-MMM NewYorkCity 25 RF 0.39584113917249203 XpVar
NON-RECURRENT-MMM NewYorkCity 25 GBM 0.2537285138402389 XpVar
NON-RECURRENT-MMM NewYorkCity 25 LLR -4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM NewYorkCity 25 RLR 0.21562863372588845 XpVar
NON-RECURRENT-MMM NewYorkCity 25 LR 0.010866131716786426 MSE
NON-RECURRENT-MMM NewYorkCity 25 RF 0.008556911909095773 MSE
NON-RECURRENT-MMM NewYorkCity 25 GBM 0.010519300819105763 MSE
NON-RECURRENT-MMM NewYorkCity 25 LLR 0.01386350431234173 MSE
NON-RECURRENT-MMM NewYorkCity 25 RLR 0.010611899346643198 MSE
NON-RECURRENT-MMM NewYorkCity 25 LR 0.18061568186086482 R2
NON-RECURRENT-MMM NewYorkCity 25 RF 0.37643086210710414 R2
NON-RECURRENT-MMM NewYorkCity 25 GBM 0.2266303995213778 R2
NON-RECURRENT-MMM NewYorkCity 25 LLR -0.039744800093869416 R2
NON-RECURRENT-MMM NewYorkCity 25 RLR 0.20222661102426936 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 256.29133462905884 seconds
sorted_percentage_nan_per_column : maxspeed                         29.269802
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1616, 17) (1616,)
X.shape, Y.shape, "Inside the model-fitting function" : (1616, 17) (1616,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.001,
 'xgbregressor__max_depth': 10,
 'xgbregressor__n_estimators': 1000}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_avg -0.0001213798187378804 0.0057334397902717585 -47.23552770047479
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.0023961076337856903 0.029566442981225412 -12.339363459442097
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m -4.1103099575793164e-05 0.008622181403621386 -209.76961573718506
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_2 0.0001285790344775746 0.005728620596207359 44.553302328666064
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_5 0.0003081148891463723 0.01961022539385987 63.64582201200892
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 k_avg -0.0018243095712957564 0.04967888974342567 -27.231611632745057
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.00012004617637556893 0.005082775685015326 -42.340171411321535
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 betweenness 0.00017881697980006472 0.015809494254671246 88.41159420289864
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings -0.00012590862084773142 0.025017100883310318 -198.69251775511816
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness -0.0006222741751591721 0.029663423703348332 -47.66937933067959
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.00010008514612017137 0.02191012329948097 -218.91483550589692
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n -0.00019148177930875836 0.00531940347498922 -27.780207047333988
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_3 -0.00013675302584258822 0.005028352042387143 -36.76958525345617
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 metered_count -0.00019482348183297863 0.018559819449317057 -95.26479700854702
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 streets_per_node_count_6 -0.00014856058103666607 0.00532783888424433 -35.86307247229581
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0028
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0137
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0042
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0026
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0089
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0246
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0013
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0078
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0120
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0125
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0110
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0023
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0025
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0087
SHAP-- non-recurrent-mmm-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0027
NON-RECURRENT-MMM NewYorkCity 50 LR 0.307697344295976 XpVar
NON-RECURRENT-MMM NewYorkCity 50 RF 0.3262858373047751 XpVar
NON-RECURRENT-MMM NewYorkCity 50 GBM 0.22101938820086195 XpVar
NON-RECURRENT-MMM NewYorkCity 50 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM NewYorkCity 50 RLR 0.30817251256250383 XpVar
NON-RECURRENT-MMM NewYorkCity 50 LR 0.013924519827443443 MSE
NON-RECURRENT-MMM NewYorkCity 50 RF 0.013566249229957571 MSE
NON-RECURRENT-MMM NewYorkCity 50 GBM 0.01562836408755949 MSE
NON-RECURRENT-MMM NewYorkCity 50 LLR 0.02008726529458271 MSE
NON-RECURRENT-MMM NewYorkCity 50 RLR 0.013912315588461604 MSE
NON-RECURRENT-MMM NewYorkCity 50 LR 0.30456852290039177 R2
NON-RECURRENT-MMM NewYorkCity 50 RF 0.32367374018802114 R2
NON-RECURRENT-MMM NewYorkCity 50 GBM 0.21668704724724777 R2
NON-RECURRENT-MMM NewYorkCity 50 LLR -0.005046923821476217 R2
NON-RECURRENT-MMM NewYorkCity 50 RLR 0.30507211581185356 R2
t_spatial, t_non_spatial, "seconds" : 4.0531158447265625e-06 748.0721020698547 seconds
sorted_percentage_nan_per_column : maxspeed                         44.953235
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_count_6          0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_count_5          0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_count_4          0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_count_3          0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_count_2          0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (5132, 17) (5132,)
X.shape, Y.shape, "Inside the model-fitting function" : (5132, 17) (5132,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 10,
 'xgbregressor__n_estimators': 200}
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_avg 0.0003647420851957858 0.006166438478317946 16.906298254581543
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.00012280327632939987 0.03698907529623031 -301.2059319737782
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m -1.3754237437391828e-05 0.005856261881379998 -425.77873968202357
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_2 2.5859564431528233e-05 0.006074536244467917 234.90481676720674
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_5 0.00010909854639570972 0.020591771468828707 188.74469137416918
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 k_avg -0.00032933621021660075 0.044586694638980545 -135.38351768138818
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg 7.06196651467003e-05 0.0029665481237328845 42.00739436487538
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 betweenness 0.0001311846453489049 0.022097664285810666 168.44703301242816
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings -4.112186138166411e-05 0.029530606379829304 -718.1242625606619
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness -0.00026396661238677174 0.020993407601295082 -79.53054142519704
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -3.6408903394506786e-05 0.023622311637545718 -648.8059083127932
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n -9.078107501806072e-05 0.003749023419627683 -41.297411590266165
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_3 -1.4541800085535435e-05 0.002999789365912976 -206.28734738946332
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 metered_count -4.981572649117083e-05 0.02085472293258354 -418.6373340611576
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : NON-RECURRENT-MMM non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 streets_per_node_count_6 -0.00044107899196772115 0.0036313798386961526 -8.232946716632341
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0027
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0164
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0030
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0029
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0101
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0222
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0009
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0106
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0139
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0092
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0108
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0019
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0015
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0085
SHAP-- non-recurrent-mmm-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0019
NON-RECURRENT-MMM NewYorkCity 100 LR 0.24996672527706013 XpVar
NON-RECURRENT-MMM NewYorkCity 100 RF 0.2975964952374955 XpVar
NON-RECURRENT-MMM NewYorkCity 100 GBM 0.255036180312349 XpVar
NON-RECURRENT-MMM NewYorkCity 100 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM NewYorkCity 100 RLR 0.2499449186477737 XpVar
NON-RECURRENT-MMM NewYorkCity 100 LR 0.01620398035900465 MSE
NON-RECURRENT-MMM NewYorkCity 100 RF 0.015169278615749852 MSE
NON-RECURRENT-MMM NewYorkCity 100 GBM 0.01604673285143033 MSE
NON-RECURRENT-MMM NewYorkCity 100 LLR 0.02149225786083195 MSE
NON-RECURRENT-MMM NewYorkCity 100 RLR 0.016203893762797107 MSE
NON-RECURRENT-MMM NewYorkCity 100 LR 0.249490847707257 R2
NON-RECURRENT-MMM NewYorkCity 100 RF 0.2969278051856163 R2
NON-RECURRENT-MMM NewYorkCity 100 GBM 0.2543713546842011 R2
NON-RECURRENT-MMM NewYorkCity 100 LLR -0.0008987715642524906 R2
NON-RECURRENT-MMM NewYorkCity 100 RLR 0.24946913428674092 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 1885.7559962272644 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

