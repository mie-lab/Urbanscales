Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         1.025641
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (195, 16) (195,)
X.shape, Y.shape, "Inside the model-fitting function" : (195, 16) (195,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness -0.003693710480290991 0.023819585932749136 -6.4486878600384046
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 -0.0006689750368322584 0.009231722979662418 -13.799801893022234
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.008274190971178251 0.16407252954056686 -19.82943469785576
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.007483407641033372 0.10423317785725056 -13.92857142857143
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.009485994542439213 0.015959706727020517 1.6824494949494948
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.0011045791948696042 0.029535678604246503 -26.739303747010368
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.001607963106309468 0.028570783855479787 -17.768308080808083
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.0011840707602361075 0.0200914531933371 16.968118686868678
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0019482647761127265 0.022078550004024707 11.332417582417577
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.0016507892641132972 0.03841553887369617 -23.27101327153993
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0016303332717030339 0.030218130229818597 -18.534940526762952
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.0008273110271997153 0.024768163143923563 -29.93815183119088
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.05145085306092577 0.019082047151717137 -0.370879120879124
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.003994065791336032 0.08045535627281429 -20.14372333258477
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0037718468011156544 0.07959586778989436 -21.102624784853703
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0122
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0049
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0810
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0502
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0080
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0135
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0143
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0101
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0109
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0191
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0152
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0118
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0094
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0384
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0393
RECURRENT Capetown 20 LR 0.5604760480730283 XpVar
RECURRENT Capetown 20 RF 0.6406854457508088 XpVar
RECURRENT Capetown 20 GBM 0.022862202421729743 XpVar
RECURRENT Capetown 20 LLR -4.7580986769649563e-17 XpVar
RECURRENT Capetown 20 RLR 0.5722315344408837 XpVar
RECURRENT Capetown 20 LR 0.050681291740125645 MSE
RECURRENT Capetown 20 RF 0.04262090226434418 MSE
RECURRENT Capetown 20 GBM 0.11166090888018754 MSE
RECURRENT Capetown 20 LLR 0.11419690472585271 MSE
RECURRENT Capetown 20 RLR 0.04966320170969717 MSE
RECURRENT Capetown 20 LR 0.5515291545353967 R2
RECURRENT Capetown 20 RF 0.6266184463609046 R2
RECURRENT Capetown 20 GBM -0.0019132112487853434 R2
RECURRENT Capetown 20 LLR -0.025257500561968436 R2
RECURRENT Capetown 20 RLR 0.5637093781431595 R2
t_spatial, t_non_spatial, "seconds" : 9.5367431640625e-07 56.369333028793335 seconds
sorted_percentage_nan_per_column : maxspeed                         3.157895
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (380, 16) (380,)
X.shape, Y.shape, "Inside the model-fitting function" : (380, 16) (380,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness 0.00042061173496268434 0.019424699546944833 46.18201997780244
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 0.0003026616004090042 0.012654908729711284 41.812072336265885
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.0037230119244954464 0.16089930003113792 -43.21750864468248
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.002654195671426578 0.09720267462616239 -36.62227155012948
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.00134385443554436 0.017836558534662234 -13.272686433063797
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.0012154664624217024 0.015822853886438712 -13.017927170868347
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.0009985794161178829 0.025776559274022642 -25.813229131271925
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.0007319722876609882 0.018959992592502806 25.902609855749205
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0008594930740621569 0.022499537279362908 26.17768305336662
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.0008328977196318766 0.041181595937411296 -49.443761180679786
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0010331939108130593 0.06534694820738604 -63.247515808491414
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.0008381887714201024 0.023666014746246432 -28.2347074468085
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg 0.0005066034294873398 0.015547115329829834 30.68892633743681
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0015896336459420364 0.08007543490211846 -50.373515373515374
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0024717050491658006 0.10500327625087064 -42.482122325359654
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0103
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0070
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0801
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0480
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0088
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0079
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0129
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0094
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0112
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0205
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0323
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0118
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0077
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0400
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0522
RECURRENT Capetown 30 LR 0.466243742193962 XpVar
RECURRENT Capetown 30 RF 0.5365627667350255 XpVar
RECURRENT Capetown 30 GBM 0.020973805283699472 XpVar
RECURRENT Capetown 30 LLR 1.586032892321652e-17 XpVar
RECURRENT Capetown 30 RLR 0.47365138253251393 XpVar
RECURRENT Capetown 30 LR 0.07518650185938182 MSE
RECURRENT Capetown 30 RF 0.06671327231585042 MSE
RECURRENT Capetown 30 GBM 0.13693356452489266 MSE
RECURRENT Capetown 30 LLR 0.13975166064099068 MSE
RECURRENT Capetown 30 RLR 0.07392514390888143 MSE
RECURRENT Capetown 30 LR 0.45538569485669905 R2
RECURRENT Capetown 30 RF 0.5142738476350937 R2
RECURRENT Capetown 30 GBM 0.0059493420686443765 R2
RECURRENT Capetown 30 LLR -0.015091637037559526 R2
RECURRENT Capetown 30 RLR 0.46197194596665997 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 110.27540993690491 seconds
sorted_percentage_nan_per_column : maxspeed                         2.755267
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (617, 16) (617,)
X.shape, Y.shape, "Inside the model-fitting function" : (617, 16) (617,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness 0.0057576684124620945 0.0280442816468919 4.870770533813982
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 0.00017591611484504686 0.016477220978844093 93.66521647751154
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.003416166011813326 0.156814582074151 -45.90367726037783
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.003094829067638309 0.15148166548263364 -48.946698564593305
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.0005075974158827506 0.02826601699783464 -55.68589617163019
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 0.007947543218296958 0.014984882141481384 1.885473501670674
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.0010562947048593694 0.016055713004499875 -15.20003170577047
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.00032769215571765327 0.019552367709755488 59.66687749035481
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0005867356100803542 0.021961233101341654 37.42952144720522
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.0006361851637537208 0.031904720729388526 -50.150054649403046
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0013139785185813542 0.08303676659491108 -63.19491941509233
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.0005244607311498413 0.021103104185983008 -40.237720257369915
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg 0.0018064664369066904 0.01914908584773073 10.600299820970235
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0013455050473540752 0.10472849136226436 -77.83582199725828
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0013909178749460312 0.06513620498101852 -46.82965554925079
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0138
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0082
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0785
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0752
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0137
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0076
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0081
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0097
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0108
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0159
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0410
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0105
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0093
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0522
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0326
RECURRENT Capetown 40 LR 0.3478994305093031 XpVar
RECURRENT Capetown 40 RF 0.4728899639322447 XpVar
RECURRENT Capetown 40 GBM 0.017995083501951288 XpVar
RECURRENT Capetown 40 LLR 0.0 XpVar
RECURRENT Capetown 40 RLR 0.35744586647952686 XpVar
RECURRENT Capetown 40 LR 0.1050802124888625 MSE
RECURRENT Capetown 40 RF 0.08530093675111758 MSE
RECURRENT Capetown 40 GBM 0.15828369084416188 MSE
RECURRENT Capetown 40 LLR 0.16115143654581257 MSE
RECURRENT Capetown 40 RLR 0.10365449829657582 MSE
RECURRENT Capetown 40 LR 0.3372686397148801 R2
RECURRENT Capetown 40 RF 0.46461824133472096 R2
RECURRENT Capetown 40 GBM 0.0071941191525428504 R2
RECURRENT Capetown 40 LLR -0.010882069819374436 R2
RECURRENT Capetown 40 RLR 0.34712926538503347 R2
t_spatial, t_non_spatial, "seconds" : 2.384185791015625e-06 191.26448559761047 seconds
sorted_percentage_nan_per_column : maxspeed                         3.599649
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1139, 16) (1139,)
X.shape, Y.shape, "Inside the model-fitting function" : (1139, 16) (1139,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness -0.0006921132651148893 0.017056796857719908 -24.64451660941438
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 7.125162306627116e-05 0.00961980813638464 135.01177548527215
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.0022586427921252395 0.1713243405401979 -75.85278253715921
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.001987698417070545 0.17225437833625237 -86.66021809793438
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.0003193894795582107 0.030774126852116224 -96.35297597993502
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.00017767889798297337 0.024779169843437806 -139.46039808178205
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.00032042298263373355 0.04045167391516463 -126.24460824460834
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes -0.0016649591405782811 0.018192214838899233 -10.92652329749103
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0005868187139435693 0.02919362012526732 49.74895897419299
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.00036988542720982755 0.054726851117666495 -147.95622398668115
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0004527050616016337 0.04583162548029951 -101.23948099486881
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.00028428369422145477 0.030262274203254884 -106.4509671795696
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.003106137436473387 0.013290927121909896 -4.278924353392426
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.000651879727619084 0.07611825721738863 -116.7673329793547
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0010019015024465081 0.0701840932942837 -70.0508913529959
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0087
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0048
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0855
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0861
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0147
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0121
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0197
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0091
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0138
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0269
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0222
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0151
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0066
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0378
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0348
RECURRENT Capetown 60 LR 0.33312288574068866 XpVar
RECURRENT Capetown 60 RF 0.43606272420267367 XpVar
RECURRENT Capetown 60 GBM 0.015874177125303274 XpVar
RECURRENT Capetown 60 LLR 6.344131569286608e-17 XpVar
RECURRENT Capetown 60 RLR 0.33247896198578125 XpVar
RECURRENT Capetown 60 LR 0.1272848284485272 MSE
RECURRENT Capetown 60 RF 0.10669984212252351 MSE
RECURRENT Capetown 60 GBM 0.18670720515065767 MSE
RECURRENT Capetown 60 LLR 0.18970652178462122 MSE
RECURRENT Capetown 60 RLR 0.1273901391709692 MSE
RECURRENT Capetown 60 LR 0.3298543325143094 R2
RECURRENT Capetown 60 RF 0.43382693330662125 R2
RECURRENT Capetown 60 GBM 0.011339984029168455 R2
RECURRENT Capetown 60 LLR -0.004596086948100574 R2
RECURRENT Capetown 60 RLR 0.32927746867953606 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 166.7402753829956 seconds
sorted_percentage_nan_per_column : maxspeed                         4.132231
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1452, 16) (1452,)
X.shape, Y.shape, "Inside the model-fitting function" : (1452, 16) (1452,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness -0.0002467083301994922 0.032356264887220446 -131.15189447010835
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 7.71805454986178e-05 0.012745580880204197 165.1398133799463
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.0015899867538148428 0.15582781233565496 -98.00572989792431
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.003353949718509853 0.18098318469500457 -53.96120988224436
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.0005836653182652244 0.022589161282741244 -38.70225037506248
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.00014738346785328105 0.020088630051051014 -136.30178705693822
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.00018615151251325727 0.03135256415787126 -168.42497670083878
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes -0.0009795297043447468 0.018506105661360378 -18.892847842465358
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.000527252770013064 0.02049123396370321 38.86415611092093
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.0003190474564099551 0.05574943658169591 -174.73712910615257
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.000746205443256201 0.07131925189968134 -95.57589340070615
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.0002203744119602468 0.02661834818515887 -120.78692779432367
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.0016110156012563708 0.017542073779157535 -10.888829236338324
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0006622599710938385 0.10044276228256555 -151.66666666666674
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0006331881898938196 0.06340600456871422 -100.13769299668536
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0149
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0064
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0779
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0903
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0111
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0100
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0155
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0094
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0103
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0278
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0355
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0132
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0083
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0502
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0318
RECURRENT Capetown 70 LR 0.3119710298884624 XpVar
RECURRENT Capetown 70 RF 0.4193549025268589 XpVar
RECURRENT Capetown 70 GBM 0.014199754886316243 XpVar
RECURRENT Capetown 70 LLR -7.930164461608261e-17 XpVar
RECURRENT Capetown 70 RLR 0.3121076968782855 XpVar
RECURRENT Capetown 70 LR 0.1452344125363027 MSE
RECURRENT Capetown 70 RF 0.12237435548426509 MSE
RECURRENT Capetown 70 GBM 0.20748615858717662 MSE
RECURRENT Capetown 70 LLR 0.21047036596516436 MSE
RECURRENT Capetown 70 RLR 0.14520469763507485 MSE
RECURRENT Capetown 70 LR 0.3103381088102965 R2
RECURRENT Capetown 70 RF 0.41800363713978644 R2
RECURRENT Capetown 70 GBM 0.011697073634657202 R2
RECURRENT Capetown 70 LLR -0.002540756895248083 R2
RECURRENT Capetown 70 RLR 0.31048565255823396 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 164.30686259269714 seconds
sorted_percentage_nan_per_column : maxspeed                         4.089862
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1736, 16) (1736,)
X.shape, Y.shape, "Inside the model-fitting function" : (1736, 16) (1736,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness -0.00016998639206119927 0.0243139635665839 -143.03476455827285
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 5.2456970053569264e-05 0.00831570185763862 158.52425043128858
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.001654200376487713 0.1638950628401561 -99.07811965811959
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.0030118991155294976 0.18054621170481422 -59.944309148307525
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.0008423455556333914 0.03799709514735987 -45.10867884711331
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.00012968019889690642 0.018284441518834172 -140.99640249140884
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.00015214101252822328 0.031589520555538896 -207.63316893055912
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.00031922213326435395 0.020415033392729938 63.9524370818732
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0003669157032267839 0.023818217986920513 64.91468688163206
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.00039628351581288485 0.0761771135471819 -192.22882231404958
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0006720481333201529 0.04960682439578476 -73.81439205955337
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.0001783404678304176 0.030798314390579794 -172.6939194746626
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.0017230645654710132 0.019778736610843055 -11.47881339283208
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0005292870206065532 0.08900794889837274 -168.16575021312872
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0007003603061313084 0.07049412074368593 -100.65407780330315
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0112
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0043
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0815
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0894
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0162
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0092
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0158
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0102
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0118
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0381
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0247
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0154
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0094
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0443
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0351
RECURRENT Capetown 80 LR 0.2728666683151526 XpVar
RECURRENT Capetown 80 RF 0.40170620611329033 XpVar
RECURRENT Capetown 80 GBM 0.013775213105770647 XpVar
RECURRENT Capetown 80 LLR 1.586032892321652e-17 XpVar
RECURRENT Capetown 80 RLR 0.27502138686736205 XpVar
RECURRENT Capetown 80 LR 0.156935901598364 MSE
RECURRENT Capetown 80 RF 0.13028077443733294 MSE
RECURRENT Capetown 80 GBM 0.21295096714556205 MSE
RECURRENT Capetown 80 LLR 0.21589950102094752 MSE
RECURRENT Capetown 80 RLR 0.15645390912449056 MSE
RECURRENT Capetown 80 LR 0.26790948853125524 R2
RECURRENT Capetown 80 RF 0.39689292286764827 R2
RECURRENT Capetown 80 GBM 0.009710325760706231 R2
RECURRENT Capetown 80 LLR -0.004104857850860487 R2
RECURRENT Capetown 80 RLR 0.27009072632257475 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 338.3929967880249 seconds
sorted_percentage_nan_per_column : maxspeed                         4.53202
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2030, 16) (2030,)
X.shape, Y.shape, "Inside the model-fitting function" : (2030, 16) (2030,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness -0.00022413592511385345 0.024384691870472215 -108.79421430583079
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 -0.0007188514269017412 0.008011697970885537 -11.14513746660566
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.0013353519847322842 0.13513915902988127 -101.20115188728641
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.0035051810796012757 0.20866040888651233 -59.5291381951223
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.00012631633698355222 0.029607369846733525 -234.39066199797048
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.0001276729863603268 0.018207445410622358 -142.61000646790035
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.000146192774129605 0.027087606501626817 -185.28690397250898
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes -0.0005000782145817008 0.018566622248440037 -37.127436683020505
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0002737496596200391 0.028150493052307313 102.83297919485938
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.00029034929213084444 0.06209749205381711 -213.871683991684
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.00040832243690079145 0.04996036240808408 -122.35517300319884
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.0002020400060678163 0.04294880986994111 -212.57577004588393
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.0002981584268232217 0.020789336978363 -69.72580718199526
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0005166434304269626 0.10132966783753261 -196.13075841067428
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0007145999584240603 0.06135124099049845 -85.85396663861991
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0115
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0040
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0676
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1029
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0142
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0092
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0134
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0095
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0137
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0310
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0251
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0212
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0097
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0508
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0284
RECURRENT Capetown 90 LR 0.26832613619987594 XpVar
RECURRENT Capetown 90 RF 0.3929577612384397 XpVar
RECURRENT Capetown 90 GBM 0.014058321388541144 XpVar
RECURRENT Capetown 90 LLR 0.0 XpVar
RECURRENT Capetown 90 RLR 0.26999507985920274 XpVar
RECURRENT Capetown 90 LR 0.16434856503994358 MSE
RECURRENT Capetown 90 RF 0.1365102276600465 MSE
RECURRENT Capetown 90 GBM 0.22164719165374597 MSE
RECURRENT Capetown 90 LLR 0.2247946035582928 MSE
RECURRENT Capetown 90 RLR 0.16399450239829896 MSE
RECURRENT Capetown 90 LR 0.2675498632157071 R2
RECURRENT Capetown 90 RF 0.39187153540577524 R2
RECURRENT Capetown 90 GBM 0.012836139919193348 R2
RECURRENT Capetown 90 LLR -0.0012457145780376663 R2
RECURRENT Capetown 90 RLR 0.2692060294650188 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 285.84702610969543 seconds
sorted_percentage_nan_per_column : maxspeed                         2.631579
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (304, 16) (304,)
X.shape, Y.shape, "Inside the model-fitting function" : (304, 16) (304,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness -0.023702977161993082 0.0130683824977951 -0.5513392857142776
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 0.00034422024298011943 0.011686779915510957 33.95146030440148
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.0032791398926517996 0.1431660826450144 -43.65964470312298
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.0021010802263217894 0.11121495863772822 -52.93227609515144
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.03410448054379068 0.01303137517007583 0.38210155857214545
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.0007649637519230284 0.04364344761929636 -57.052961672473884
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.0010226879703276748 0.04839073586706527 -47.317204534595845
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.0006690359522072107 0.019976453261294404 29.858564693556843
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0005513195312713015 0.016716496018049903 30.320884840598552
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.0007317220566386767 0.029357220828998647 -40.12072693811825
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0011999129365965718 0.04529055527558963 -37.74486789354199
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.0004814042526827547 0.024067414621998958 -49.9941878117545
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg 0.0007242405602982661 0.014661038823672368 20.24332746240347
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0012708444102683594 0.06486110600080439 -51.0378024852845
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0020327400048484098 0.09361096152451329 -46.051615701583174
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0069
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0062
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0713
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0556
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0063
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0221
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0240
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0102
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0084
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0143
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0220
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0120
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0070
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0323
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0470
RECURRENT Capetown 25 LR 0.45292552622327253 XpVar
RECURRENT Capetown 25 RF 0.5384302556260848 XpVar
RECURRENT Capetown 25 GBM 0.021435467515880356 XpVar
RECURRENT Capetown 25 LLR 3.172065784643304e-17 XpVar
RECURRENT Capetown 25 RLR 0.45231832913494535 XpVar
RECURRENT Capetown 25 LR 0.070087612635923 MSE
RECURRENT Capetown 25 RF 0.058492821358009386 MSE
RECURRENT Capetown 25 GBM 0.12494609803382913 MSE
RECURRENT Capetown 25 LLR 0.12760092348369792 MSE
RECURRENT Capetown 25 RLR 0.07007207922291069 MSE
RECURRENT Capetown 25 LR 0.437121728531458 R2
RECURRENT Capetown 25 RF 0.5262109151474443 R2
RECURRENT Capetown 25 GBM 0.004730029116383237 R2
RECURRENT Capetown 25 LLR -0.016680372792287006 R2
RECURRENT Capetown 25 RLR 0.4383347079855445 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 63.86190319061279 seconds
sorted_percentage_nan_per_column : maxspeed                         3.378378
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (888, 16) (888,)
X.shape, Y.shape, "Inside the model-fitting function" : (888, 16) (888,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness 0.0014198523533041148 0.015718445267628698 11.070478723404278
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 0.0003877336538913932 0.012986246757811468 33.492699505132464
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.00228875445479862 0.16831040483098297 -73.53799114540317
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.002371997608773774 0.14726514080330322 -62.0848605658727
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.0005515124467796859 0.02124292038872848 -38.51757201993746
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.00018610029090284432 0.015728133156874675 -84.51428571428573
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.0002578139898081641 0.02486111793467532 -96.43044566035434
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes -0.0008586125117316948 0.017248313420020797 -20.08858848939144
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0003546561642292028 0.023999023787122507 67.66842425897528
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.0007187446804028907 0.069783303565543 -97.09053224077587
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0008072869010012452 0.06629616786435913 -82.12218949933992
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.00029517551416807065 0.024523874879441254 -83.08234830575259
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg 0.0006334195974948823 0.014017824611634363 22.130392976588666
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0007841777285159802 0.06958168477541204 -88.73203388100825
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0011212658446774788 0.07620569286315432 -67.96398305084745
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0079
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0063
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0834
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0736
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0103
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0079
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0125
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0086
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0117
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0348
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0330
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0115
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0068
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0345
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0381
RECURRENT Capetown 50 LR 0.36378579880512035 XpVar
RECURRENT Capetown 50 RF 0.47133163828257685 XpVar
RECURRENT Capetown 50 GBM 0.01669469567879811 XpVar
RECURRENT Capetown 50 LLR -6.344131569286608e-17 XpVar
RECURRENT Capetown 50 RLR 0.3628629658822656 XpVar
RECURRENT Capetown 50 LR 0.11429316472341663 MSE
RECURRENT Capetown 50 RF 0.09436628287762645 MSE
RECURRENT Capetown 50 GBM 0.17534356942431592 MSE
RECURRENT Capetown 50 LLR 0.1783202403795326 MSE
RECURRENT Capetown 50 RLR 0.11431658040230055 MSE
RECURRENT Capetown 50 LR 0.3616852854803843 R2
RECURRENT Capetown 50 RF 0.47020847469799876 R2
RECURRENT Capetown 50 GBM 0.011925657587918257 R2
RECURRENT Capetown 50 LLR -0.004967666940128591 R2
RECURRENT Capetown 50 RLR 0.36098561260645334 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 175.25689125061035 seconds
sorted_percentage_nan_per_column : maxspeed                         5.21666
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2377, 16) (2377,)
X.shape, Y.shape, "Inside the model-fitting function" : (2377, 16) (2377,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 betweenness -0.00012658118546602124 0.02438203150827025 -192.61971215157587
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_2 4.978227192931872e-05 0.012108741867876423 243.23401481291398
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 total_crossings -0.0011508215696298721 0.15532655058608136 -134.97014192742108
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.0030483317870914814 0.20616259811087356 -67.63128573598624
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.00019596873860365226 0.033502890574955105 -170.96038283287044
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -6.704074969455966e-05 0.018001644560684392 -268.51794830309336
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n -0.00010550131543413425 0.030114106039743176 -285.43820440365766
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes -0.0005037069320550369 0.02315736291082446 -45.973881710038086
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 global_betweenness 0.0002623354762303833 0.023984409131929424 91.426479851571
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 -0.0002187068829171467 0.06101071545597509 -278.9611128932231
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_avg -0.0005453853560350569 0.08385606617765107 -153.75562480680333
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 m -0.00011963947774724435 0.030356219673231197 -253.73079392207887
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.0009104211456383153 0.017669239360429467 -19.4077646867936
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.00034201194610076655 0.06787040003474468 -198.44453039879522
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 non_metered_count -0.0005339923644424471 0.07707621707764636 -144.33954904603047
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0117
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0061
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0766
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1001
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0159
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0089
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0151
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0117
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0118
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0306
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0415
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0152
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0080
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0340
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0378
RECURRENT Capetown 100 LR 0.2792366954545179 XpVar
RECURRENT Capetown 100 RF 0.3724332002546057 XpVar
RECURRENT Capetown 100 GBM 0.012954674848748142 XpVar
RECURRENT Capetown 100 LLR 0.0 XpVar
RECURRENT Capetown 100 RLR 0.2792951046976216 XpVar
RECURRENT Capetown 100 LR 0.16814675385267197 MSE
RECURRENT Capetown 100 RF 0.14694902385065908 MSE
RECURRENT Capetown 100 GBM 0.2310630719148215 MSE
RECURRENT Capetown 100 LLR 0.23408502520711752 MSE
RECURRENT Capetown 100 RLR 0.16809791948163735 MSE
RECURRENT Capetown 100 LR 0.27883004180281906 R2
RECURRENT Capetown 100 RF 0.371833777843473 R2
RECURRENT Capetown 100 GBM 0.012125350299902424 R2
RECURRENT Capetown 100 LLR -0.000866413396748105 R2
RECURRENT Capetown 100 RLR 0.27890947654672377 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 464.69715905189514 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

