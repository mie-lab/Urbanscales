Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         53.424658
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (657, 16) (657,)
X.shape, Y.shape, "Inside the model-fitting function" : (657, 16) (657,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.00022430284402274984 0.016148399363347114 -71.99373433583958
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.0008398906162016776 0.05020349135940885 -59.77384482094726
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -0.00022712350705780422 0.01706896719762343 -75.15279866332497
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.00043161837853646296 0.0753445175873777 -174.56281134936108
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.0010777388221706187 0.03961592253916513 -36.75837013960091
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.00046684559536268344 0.088379380636632 -189.31180140614103
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -0.00021719237748143934 0.03716100290492709 -171.0971781599599
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.0007047229520581922 0.13653357137219913 -193.7407756813417
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg -0.0020675976856630715 0.027486757354390295 -13.294055001602203
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -0.0004843955519933058 0.01898044877288016 -39.183780063163056
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.0006178786381373474 0.11419675403950609 -184.820686443802
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.00029570497344183434 0.038609203437726516 -130.56663534717657
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -0.00034688964462265974 0.06531249029474515 -188.2803113531708
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0006756105837664815 0.13675171007046585 -202.41203047484052
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -0.00015568536570368811 0.019338785991426653 -124.21710867952521
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0080
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0240
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0086
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0299
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0186
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0432
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0187
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0546
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0135
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0088
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0545
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0187
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0267
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0653
SHAP-- recurrent-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0097
RECURRENT Istanbul 30 LR 0.4563830447683154 XpVar
RECURRENT Istanbul 30 RF 0.5133887735134829 XpVar
RECURRENT Istanbul 30 GBM 0.01615315335857226 XpVar
RECURRENT Istanbul 30 LLR 1.586032892321652e-17 XpVar
RECURRENT Istanbul 30 RLR 0.4552305338907034 XpVar
RECURRENT Istanbul 30 LR 0.10441914774985428 MSE
RECURRENT Istanbul 30 RF 0.09360412836123899 MSE
RECURRENT Istanbul 30 GBM 0.18552393654875526 MSE
RECURRENT Istanbul 30 LLR 0.18846101259822348 MSE
RECURRENT Istanbul 30 RLR 0.1048096417121378 MSE
RECURRENT Istanbul 30 LR 0.4500799976872454 R2
RECURRENT Istanbul 30 RF 0.5060851193008052 R2
RECURRENT Istanbul 30 GBM 0.009739967509827387 R2
RECURRENT Istanbul 30 LLR -0.0063507757568541335 R2
RECURRENT Istanbul 30 RLR 0.44879498415183766 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 100.10405921936035 seconds
sorted_percentage_nan_per_column : maxspeed                         60.031847
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 45 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1256, 16) (1256,)
X.shape, Y.shape, "Inside the model-fitting function" : (1256, 16) (1256,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0001336776851762846 0.017476323816657587 -130.73478788633315
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.0006872443252071478 0.04898775353135251 -71.28142311918941
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -0.00012131424511218163 0.03626402397361862 -298.92634570725454
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.0003607717896324554 0.11199572794557523 -310.4337178349601
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.0007923922553583161 0.0392379571643637 -49.51835015931658
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.0002748149787425267 0.08957909485979695 -325.9614714950575
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -0.0001225980581202178 0.0311266159231713 -253.89159013146042
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.0003716977902158804 0.12748177947313624 -342.97158290635895
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg -0.00040334452055631396 0.02513991076864846 -62.328628473678464
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -0.0012875045407989346 0.02562500837731013 -19.90284893396108
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.000393121051981237 0.139228133211228 -354.16097029032454
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.00024828351068715735 0.0507675930747498 -204.47428399189215
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -0.00019032734817055037 0.0598254599115122 -314.3292883895131
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.00039587054566139784 0.14873103864621018 -375.706251137525
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -5.202981785057777e-05 0.010131179483121762 -194.71871902794408
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0090
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0221
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0176
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0396
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0195
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0446
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0155
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0530
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0126
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0115
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0670
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0225
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0244
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0693
SHAP-- recurrent-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0051
RECURRENT Istanbul 45 LR 0.3760918212689873 XpVar
RECURRENT Istanbul 45 RF 0.42227121006010854 XpVar
RECURRENT Istanbul 45 GBM 0.013697771105002778 XpVar
RECURRENT Istanbul 45 LLR 1.586032892321652e-17 XpVar
RECURRENT Istanbul 45 RLR 0.37124070117848945 XpVar
RECURRENT Istanbul 45 LR 0.14868450270083763 MSE
RECURRENT Istanbul 45 RF 0.13764333146656788 MSE
RECURRENT Istanbul 45 GBM 0.23216838060784134 MSE
RECURRENT Istanbul 45 LLR 0.23534596535660124 MSE
RECURRENT Istanbul 45 RLR 0.14979768208528524 MSE
RECURRENT Istanbul 45 LR 0.36846502191819896 R2
RECURRENT Istanbul 45 RF 0.41572378623644063 R2
RECURRENT Istanbul 45 GBM 0.00754187878602305 R2
RECURRENT Istanbul 45 LLR -0.006160422842620449 R2
RECURRENT Istanbul 45 RLR 0.3637533842280596 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 173.82227659225464 seconds
sorted_percentage_nan_per_column : maxspeed                         64.870361
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1967, 16) (1967,)
X.shape, Y.shape, "Inside the model-fitting function" : (1967, 16) (1967,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -6.0442044353322245e-05 0.01822779893949193 -301.5748248510397
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.0005009277872628236 0.06381672938748367 -127.39706402831416
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -9.099067388282135e-05 0.03610702644342363 -396.821178508059
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.00020455198853354923 0.09074817747288731 -443.6435848092643
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.0001728045029940859 0.04367322603477043 -252.7319906487918
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.00018160241502767483 0.09723118763231628 -535.4069086443536
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -7.47259775233628e-05 0.033408572785310196 -447.08110743502994
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.0002342546689352346 0.10959730086636152 -467.85535316976905
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg -0.00105543191653461 0.023523341695715606 -22.287881697714624
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -0.00016242162139517143 0.01721500723124286 -105.98962800253537
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.00023848533109642635 0.13241343447220677 -555.2267464981663
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.00014172067903425506 0.06904191410414993 -487.1689479236967
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -0.0001346384804569974 0.06320794006067632 -469.46415204726327
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0002903013208530868 0.1623034487819196 -559.086153328447
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -6.913933130783001e-05 0.021900393822502404 -316.7573855320494
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0094
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0284
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0178
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0283
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0219
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0483
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0169
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0445
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0120
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0083
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0656
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0331
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0244
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0749
SHAP-- recurrent-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0108
RECURRENT Istanbul 60 LR 0.36227871269007933 XpVar
RECURRENT Istanbul 60 RF 0.41489196300278436 XpVar
RECURRENT Istanbul 60 GBM 0.012028565660119879 XpVar
RECURRENT Istanbul 60 LLR 1.586032892321652e-17 XpVar
RECURRENT Istanbul 60 RLR 0.358598439849884 XpVar
RECURRENT Istanbul 60 LR 0.16448071655150304 MSE
RECURRENT Istanbul 60 RF 0.1512667809112711 MSE
RECURRENT Istanbul 60 GBM 0.2534049927213692 MSE
RECURRENT Istanbul 60 LLR 0.2564630733881635 MSE
RECURRENT Istanbul 60 RLR 0.16541243791638965 MSE
RECURRENT Istanbul 60 LR 0.35932384288856223 R2
RECURRENT Istanbul 60 RF 0.4120254537174547 R2
RECURRENT Istanbul 60 GBM 0.009676725542439892 R2
RECURRENT Istanbul 60 LLR -0.002380302498909811 R2
RECURRENT Istanbul 60 RLR 0.35578905610240613 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 265.4024875164032 seconds
sorted_percentage_nan_per_column : maxspeed                         70.606061
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (3630, 16) (3630,)
X.shape, Y.shape, "Inside the model-fitting function" : (3630, 16) (3630,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.00010218021027348057 0.017016226909056652 -166.53153153153153
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.0004882426808397021 0.06403534749861746 -131.15475154381534
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -9.447421460965743e-05 0.03885330212390635 -411.2582706766916
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.00020419685512475976 0.14295221028243926 -700.0705774586911
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -5.208081133759026e-05 0.026461474439381766 -508.08491188543985
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.00013124302315742028 0.12396899083697119 -944.5758551925142
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -4.444045799809108e-05 0.03415673399071385 -768.5954539933193
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.00018042729262214658 0.14131000693648235 -783.1964049497533
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg 0.00036272367359693194 0.029264048291309887 80.67862789631113
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg 0.00012339929811729133 0.014924446152090043 120.94433582518695
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.00014730569562041037 0.14229153171560738 -965.9608280339417
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -9.162701901177823e-05 0.07188212892922649 -784.5079945249161
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -8.929678148131562e-05 0.06803799008070308 -761.9310455768139
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.0001512304899387486 0.14988112992892352 -991.0774605678287
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -3.1642517471467775e-05 0.014879618750355702 -470.24130629848696
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0096
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0269
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0192
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0371
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0132
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0618
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0172
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0507
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0148
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0070
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0714
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0345
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0223
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0717
SHAP-- recurrent-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0075
RECURRENT Istanbul 90 LR 0.3173565774311385 XpVar
RECURRENT Istanbul 90 RF 0.37617921780983615 XpVar
RECURRENT Istanbul 90 GBM 0.010638434834622235 XpVar
RECURRENT Istanbul 90 LLR 0.0 XpVar
RECURRENT Istanbul 90 RLR 0.31392230818305367 XpVar
RECURRENT Istanbul 90 LR 0.20819235705201924 MSE
RECURRENT Istanbul 90 RF 0.19030136732634986 MSE
RECURRENT Istanbul 90 GBM 0.3019844171683817 MSE
RECURRENT Istanbul 90 LLR 0.3052250635020955 MSE
RECURRENT Istanbul 90 RLR 0.20919897421028638 MSE
RECURRENT Istanbul 90 LR 0.3152222953432112 R2
RECURRENT Istanbul 90 RF 0.3741205882790397 R2
RECURRENT Istanbul 90 GBM 0.005285306508046388 R2
RECURRENT Istanbul 90 LLR -0.00544945571107431 R2
RECURRENT Istanbul 90 RLR 0.31197163140228595 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 485.8600537776947 seconds
sorted_percentage_nan_per_column : maxspeed                         72.267074
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 105 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (4583, 16) (4583,)
X.shape, Y.shape, "Inside the model-fitting function" : (4583, 16) (4583,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -8.33658183245519e-05 0.022094249918038125 -265.0276859518476
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.007898400381089174 0.06426420929954488 -8.136357515302734
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -7.14698439632726e-05 0.03344805386093957 -468.00233505656
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.00017871145398703627 0.1475529647801332 -825.6491763020219
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -3.055929388071545e-05 0.016896090741542 -552.8953256411576
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.0001070493216191923 0.12661826025988493 -1182.80301401914
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -3.548019035464799e-05 0.030975252944463568 -873.0295027970653
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.00014580853991739162 0.13269044577931738 -910.0320588526135
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg 0.0019071209942935184 0.0400909127696278 21.021693374247207
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -3.0271813285503157e-05 0.013518259933151826 -446.56260943660004
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.0001419871102794947 0.16665703824174943 -1173.7476585986797
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -8.4317401306547e-05 0.060843099924463045 -721.5960048775692
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -6.776500100737336e-05 0.059542670693787714 -878.6640567939933
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.00013578391542812786 0.16332625415622343 -1202.8394794866117
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -2.0471508635142144e-05 0.01054710691283495 -515.2090693857999
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0130
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0260
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0163
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0348
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0084
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0632
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0165
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0437
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0203
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0064
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0841
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0297
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0173
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0799
SHAP-- recurrent-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0054
RECURRENT Istanbul 105 LR 0.30654427423655245 XpVar
RECURRENT Istanbul 105 RF 0.36254819690585943 XpVar
RECURRENT Istanbul 105 GBM 0.009619928903769392 XpVar
RECURRENT Istanbul 105 LLR -3.172065784643304e-17 XpVar
RECURRENT Istanbul 105 RLR 0.303692036257189 XpVar
RECURRENT Istanbul 105 LR 0.22750673502534655 MSE
RECURRENT Istanbul 105 RF 0.20920519507093327 MSE
RECURRENT Istanbul 105 GBM 0.32457564724808863 MSE
RECURRENT Istanbul 105 LLR 0.32771666321952975 MSE
RECURRENT Istanbul 105 RLR 0.22839991608967397 MSE
RECURRENT Istanbul 105 LR 0.30577578117372617 R2
RECURRENT Istanbul 105 RF 0.36122469117208994 R2
RECURRENT Istanbul 105 GBM 0.008412182619687363 R2
RECURRENT Istanbul 105 LLR -0.0012106724155625606 R2
RECURRENT Istanbul 105 RLR 0.30301592713775793 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 857.9143798351288 seconds
sorted_percentage_nan_per_column : maxspeed                         74.101366
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 120 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (5564, 16) (5564,)
X.shape, Y.shape, "Inside the model-fitting function" : (5564, 16) (5564,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 0.00013509323618627247 0.01968661726076374 145.7261504463404
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness 0.0010052952944863836 0.08414150065373631 83.69829354142666
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -0.0002133656547388124 0.03004790714374998 -140.8282283319336
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.00016634336139231717 0.15389780759350793 -925.1815419945935
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -4.968403170423356e-05 0.023755709848753956 -478.1357114931907
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.0001127442430625461 0.15894766756543643 -1409.8073945758674
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -3.6116348564077434e-05 0.02796348106051627 -774.2610250563844
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.00013741661505062964 0.14318204494708917 -1041.9558427802585
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg 0.00022077637889154718 0.037865042494840004 171.50857661924329
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -8.480448316037715e-05 0.017811495426470474 -210.0301158935954
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.00011812081106291239 0.16476565396061896 -1394.8909804967648
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -8.447026878164997e-05 0.0872259443915139 -1032.6230240487002
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -7.540297791059343e-05 0.07629213341008269 -1011.7920475308488
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.00010691676791301885 0.14827854984178052 -1386.8596361088203
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -2.6762140887785425e-05 0.013449500749394591 -502.55698173732844
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0113
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0323
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0148
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0350
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0117
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0790
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0145
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0448
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0196
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0080
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0826
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0436
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0210
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0722
SHAP-- recurrent-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0068
RECURRENT Istanbul 120 LR 0.288562227956293 XpVar
RECURRENT Istanbul 120 RF 0.33572018976106527 XpVar
RECURRENT Istanbul 120 GBM 0.008665876988673969 XpVar
RECURRENT Istanbul 120 LLR 0.0 XpVar
RECURRENT Istanbul 120 RLR 0.2868089640575314 XpVar
RECURRENT Istanbul 120 LR 0.24893757067042296 MSE
RECURRENT Istanbul 120 RF 0.23249949745074466 MSE
RECURRENT Istanbul 120 GBM 0.3467182474197131 MSE
RECURRENT Istanbul 120 LLR 0.3497344213851355 MSE
RECURRENT Istanbul 120 RLR 0.24957799229764852 MSE
RECURRENT Istanbul 120 LR 0.2882427402276556 R2
RECURRENT Istanbul 120 RF 0.33548084815310425 R2
RECURRENT Istanbul 120 GBM 0.008134703220858186 R2
RECURRENT Istanbul 120 LLR -0.0005398512733487364 R2
RECURRENT Istanbul 120 RLR 0.2864725817626508 R2
t_spatial, t_non_spatial, "seconds" : 9.5367431640625e-07 456.7741470336914 seconds
sorted_percentage_nan_per_column : maxspeed                         75.199278
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 135 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (6649, 16) (6649,)
X.shape, Y.shape, "Inside the model-fitting function" : (6649, 16) (6649,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 0.00020493273243296666 0.015911208324571914 77.64112709411347
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.006565765221175497 0.07013273262049041 -10.681577890464723
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -5.4727960771250006e-05 0.042183272388869306 -770.7810010532908
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.00013422728464065336 0.1377921951863063 -1026.55876229037
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -4.1688991884725556e-05 0.024382515418811805 -584.8669952545752
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -8.523649440895378e-05 0.14146033001530556 -1659.6216326846693
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -2.023944069922253e-05 0.029596156904972006 -1462.3011250557383
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.00015190926409525577 0.18281225279723573 -1203.4305734152067
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg 0.00017617822452427578 0.03769560983783418 213.96293406646328
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg 0.00021975268598795162 0.017107698164723024 77.84977957293768
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -9.903069782529986e-05 0.15570088515459274 -1572.2486923122042
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -5.0746224915596596e-05 0.06379339712820924 -1257.1062622749432
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -6.989118362026378e-05 0.08152159920302027 -1166.407477743508
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.00010421615827228572 0.17188990210639954 -1649.359417541592
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -1.694606610158931e-05 0.010350326048028182 -610.7804599592268
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0093
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0280
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0194
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0279
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0122
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0704
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0150
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0532
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0192
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0076
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0781
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0319
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0221
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0845
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0053
RECURRENT Istanbul 135 LR 0.274352436477968 XpVar
RECURRENT Istanbul 135 RF 0.33139080599625226 XpVar
RECURRENT Istanbul 135 GBM 0.008828637748177453 XpVar
RECURRENT Istanbul 135 LLR 3.172065784643304e-17 XpVar
RECURRENT Istanbul 135 RLR 0.2733580114395591 XpVar
RECURRENT Istanbul 135 LR 0.26656446200129397 MSE
RECURRENT Istanbul 135 RF 0.24562788496988325 MSE
RECURRENT Istanbul 135 GBM 0.3643428922992897 MSE
RECURRENT Istanbul 135 LLR 0.36758902654041714 MSE
RECURRENT Istanbul 135 RLR 0.26690113504242036 MSE
RECURRENT Istanbul 135 LR 0.27405810500594674 R2
RECURRENT Istanbul 135 RF 0.3310046972641357 R2
RECURRENT Istanbul 135 GBM 0.00793259251567624 R2
RECURRENT Istanbul 135 LLR -0.0009082222163111021 R2
RECURRENT Istanbul 135 RLR 0.27306457871030937 R2
t_spatial, t_non_spatial, "seconds" : 2.384185791015625e-06 1334.124799489975 seconds
sorted_percentage_nan_per_column : maxspeed                         57.467532
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 37 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (924, 16) (924,)
X.shape, Y.shape, "Inside the model-fitting function" : (924, 16) (924,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.00019101431684620136 0.025916519830599588 -135.67841541148323
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.0010425142847227552 0.05615836647358361 -53.86819854321544
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -0.0001915983025922742 0.0255076425269722 -133.13083770503476
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.0005080851984382807 0.12060128020930358 -237.36428571428564
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.0006980024312254053 0.041165155214469173 -58.975661649487506
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.0003663634327965049 0.09244239051526634 -252.3242830476837
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -0.00020254299306473 0.040965319087539184 -202.25493100344983
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.0005556884673485969 0.14770093333315343 -265.79809013833113
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg -0.001367954064518205 0.032989218354779554 -24.115735469815206
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -0.0012356101511042923 0.021797871235287813 -17.64138245044893
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.00042771065649153077 0.1213585860883705 -283.73991680231507
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0002309202539159037 0.04612761331522961 -199.75559758404006
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -0.0002449278932718961 0.05928667868416877 -242.05768437469976
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.00040607483366723884 0.11334945386734416 -279.1343970856102
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -0.00012265706070652385 0.020332780040116988 -165.76934032983502
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0135
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0260
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0129
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0439
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0203
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0460
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0206
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0580
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0165
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0107
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0579
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0229
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0251
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0552
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0102
RECURRENT Istanbul 37 LR 0.4045462018244904 XpVar
RECURRENT Istanbul 37 RF 0.4642873879426828 XpVar
RECURRENT Istanbul 37 GBM 0.015097876029823012 XpVar
RECURRENT Istanbul 37 LLR -6.344131569286608e-17 XpVar
RECURRENT Istanbul 37 RLR 0.4024242239241151 XpVar
RECURRENT Istanbul 37 LR 0.1261011835045735 MSE
RECURRENT Istanbul 37 RF 0.11358845731050629 MSE
RECURRENT Istanbul 37 GBM 0.20853075631437856 MSE
RECURRENT Istanbul 37 LLR 0.21169630640332635 MSE
RECURRENT Istanbul 37 RLR 0.12657264022064066 MSE
RECURRENT Istanbul 37 LR 0.40006844033015937 R2
RECURRENT Istanbul 37 RF 0.460027510923027 R2
RECURRENT Istanbul 37 GBM 0.010129107587005184 R2
RECURRENT Istanbul 37 LLR -0.005030892171179342 R2
RECURRENT Istanbul 37 RLR 0.3980157530078718 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 163.26753973960876 seconds
sorted_percentage_nan_per_column : maxspeed                         68.208092
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 75 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2768, 16) (2768,)
X.shape, Y.shape, "Inside the model-fitting function" : (2768, 16) (2768,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 0.0005516299742770991 0.018934760539063303 34.32511179958442
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness -0.0007253504406293901 0.058204058266631525 -80.24267306727984
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -7.295159741991574e-05 0.03361338025872236 -460.76277213288176
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.0002668005497789453 0.15764262055842018 -590.8631773399015
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -6.142569854102467e-05 0.019561137045165496 -318.45200803212856
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -0.00017771331410239025 0.13167693116869755 -740.9514128628052
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -5.624296563968135e-05 0.031394335905742796 -558.1913319946452
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.00021489168214918887 0.13763929031657132 -640.5054348311864
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg 0.003285688161343267 0.03426734998694658 10.429276396375144
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -0.00033125137042703845 0.014104571473962883 -42.57966225401492
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -0.00016266790821249294 0.12358108012216645 -759.7139563676727
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.00010478031369410782 0.054597905172954125 -521.0702587925575
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -9.40379322125353e-05 0.05872279471743705 -624.4585917171972
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -0.00020412364800399962 0.16005396927024884 -784.1030220423688
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -3.31181679427081e-05 0.01421726293264039 -429.28893159896916
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0108
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0254
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0162
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0451
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0098
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0647
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0159
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0521
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0171
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0067
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0621
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0260
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0207
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0766
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0072
RECURRENT Istanbul 75 LR 0.3276946109550854 XpVar
RECURRENT Istanbul 75 RF 0.3948703323548865 XpVar
RECURRENT Istanbul 75 GBM 0.011653605483289023 XpVar
RECURRENT Istanbul 75 LLR 1.586032892321652e-17 XpVar
RECURRENT Istanbul 75 RLR 0.3253850474748813 XpVar
RECURRENT Istanbul 75 LR 0.19518575341685424 MSE
RECURRENT Istanbul 75 RF 0.1753828497634051 MSE
RECURRENT Istanbul 75 GBM 0.28537485265328055 MSE
RECURRENT Istanbul 75 LLR 0.2886977275664456 MSE
RECURRENT Istanbul 75 RLR 0.19577550868324073 MSE
RECURRENT Istanbul 75 LR 0.32547723756974595 R2
RECURRENT Istanbul 75 RF 0.3937907042107351 R2
RECURRENT Istanbul 75 GBM 0.009939415181641351 R2
RECURRENT Istanbul 75 LLR -0.0017109341503909509 R2
RECURRENT Istanbul 75 RLR 0.32329883995425923 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 507.44160318374634 seconds
sorted_percentage_nan_per_column : maxspeed                         76.588069
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 150 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (7761, 16) (7761,)
X.shape, Y.shape, "Inside the model-fitting function" : (7761, 16) (7761,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.002641029360364158 0.017481569936864526 -6.619225897001797
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 global_betweenness 0.0006467932191887742 0.07302774819318225 112.90741156002787
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 mean_lanes -0.00030504860038977114 0.03523633577585188 -115.51056366372177
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count -0.00012401358312150426 0.14412523702526087 -1162.1729926475223
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -2.6523339443213934e-05 0.029445385053431458 -1110.1688426705687
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg -8.232321436549645e-05 0.1592551988493009 -1934.5114264154436
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 m -2.4999679577928987e-05 0.028437915792643972 -1137.5312113100217
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings -0.00012337376843377074 0.1662406254148362 -1347.4551967185566
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 k_avg 0.0004326316448187056 0.056501395471456134 130.59931271355117
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 circuity_avg -0.0005163603750268406 0.017452597310312387 -33.79925756194052
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_4 -9.097224466604993e-05 0.1590967982040577 -1748.8498694089194
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -5.324484344203256e-05 0.07315101839691443 -1373.8610852815004
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 non_metered_count -5.93311901267811e-05 0.07802113071939423 -1315.010377386258
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_5 -8.695828382834519e-05 0.16681491790155145 -1918.3326827245405
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 streets_per_node_count_2 -3.2509537220815213e-05 0.014972946030752112 -460.5708758340993
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0106
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0286
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0169
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0270
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0139
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0790
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0151
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0466
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0288
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0074
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0802
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0365
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0195
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0829
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0074
RECURRENT Istanbul 150 LR 0.26595529667544887 XpVar
RECURRENT Istanbul 150 RF 0.323074810440062 XpVar
RECURRENT Istanbul 150 GBM 0.007971250303123099 XpVar
RECURRENT Istanbul 150 LLR -3.172065784643304e-17 XpVar
RECURRENT Istanbul 150 RLR 0.26505579593768497 XpVar
RECURRENT Istanbul 150 LR 0.28244948055080166 MSE
RECURRENT Istanbul 150 RF 0.2605442997402875 MSE
RECURRENT Istanbul 150 GBM 0.3821196787760502 MSE
RECURRENT Istanbul 150 LLR 0.38519276023718907 MSE
RECURRENT Istanbul 150 RLR 0.28279498370953143 MSE
RECURRENT Istanbul 150 LR 0.2655289370925063 R2
RECURRENT Istanbul 150 RF 0.3225086824051493 R2
RECURRENT Istanbul 150 GBM 0.00668373666956141 R2
RECURRENT Istanbul 150 LLR -0.0013093808108806432 R2
RECURRENT Istanbul 150 RLR 0.2646363587938417 R2
t_spatial, t_non_spatial, "seconds" : 9.5367431640625e-07 1053.0626637935638 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

