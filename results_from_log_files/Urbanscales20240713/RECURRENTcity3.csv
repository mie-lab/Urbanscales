Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         1.775148
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (169, 16) (169,)
X.shape, Y.shape, "Inside the model-fitting function" : (169, 16) (169,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.007720537405479217 0.04164162196359536 -5.393617021276597
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.009853329716565298 0.08486086964688946 -8.612405358182869
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.008820752112134705 0.04627662188866995 -5.246335153779825
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.007633989955719163 0.03794542066225112 -4.970588235294116
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.024539315275660882 0.16502689522881964 -6.7250000000000085
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings -0.05087648815422214 0.09979736815660069 -1.9615616520952557
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0023995728229678367 0.03491378457418202 -14.549999999999997
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0046554980895483515 0.05808288092674606 -12.476190476190467
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.006575142131445265 0.06304675291995739 -9.588652482269495
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0007551181525727892 0.015298185740563339 -20.259327217125374
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.000463474446691553 0.014060272178253683 -30.336671802773495
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0008769177097689297 0.018096021372469087 -20.635940146809716
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.0005904036617189559 0.012040747082499581 -20.394092827004215
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0017323673061864137 0.01846183588222009 -10.656998556998559
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.0003890973108342925 0.00886712129377721 -22.788955479452056
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0178
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0410
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0227
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0170
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0794
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0476
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0168
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0288
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0313
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0074
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0069
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0090
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0060
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0092
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0045
RECURRENT Auckland 20 LR 0.412472399498753 XpVar
RECURRENT Auckland 20 RF 0.5836060588831486 XpVar
RECURRENT Auckland 20 GBM 0.019914522174433347 XpVar
RECURRENT Auckland 20 LLR 0.0 XpVar
RECURRENT Auckland 20 RLR 0.3911172101708678 XpVar
RECURRENT Auckland 20 LR 0.06441390188873472 MSE
RECURRENT Auckland 20 RF 0.04634551644476937 MSE
RECURRENT Auckland 20 GBM 0.1143276934704487 MSE
RECURRENT Auckland 20 LLR 0.11666926229940112 MSE
RECURRENT Auckland 20 RLR 0.06667754817813346 MSE
RECURRENT Auckland 20 LR 0.40301472922057935 R2
RECURRENT Auckland 20 RF 0.579533833185215 R2
RECURRENT Auckland 20 GBM -0.011930219813528773 R2
RECURRENT Auckland 20 LLR -0.032767478625726536 R2
RECURRENT Auckland 20 RLR 0.3830758627911936 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 66.05469679832458 seconds
sorted_percentage_nan_per_column : maxspeed                         3.012048
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (332, 16) (332,)
X.shape, Y.shape, "Inside the model-fitting function" : (332, 16) (332,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0015546982807996862 0.023047127646342813 -14.824180312650839
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.0016418261996463631 0.019634753966529295 -11.959094069005886
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.005855414868644782 0.06415846233939339 -10.95711640911324
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.0017466520618220655 0.02038446152554889 -11.67059082407306
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.0113518307692275 0.1561267412533113 -13.753441574951864
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.011735641862366461 0.0716048791132068 6.101488095238096
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0008036796570223236 0.018448578538049473 -22.955139372822316
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0018790226347030498 0.06133246990262519 -32.64062325269319
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.007482084719915556 0.09157373015506559 -12.239066193853404
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0008222729364049171 0.011452383346240717 -13.927715286741659
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0004918433823612895 0.030351915870372927 -61.710530137981124
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0008813508136728013 0.026646809053419554 -30.23405508911472
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.0005979221459485719 0.01997435854197408 -33.4062865497076
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0028828511738794985 0.045983391649480794 -15.95066442073741
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.0008436067903331793 0.02063023831085814 -24.454803526072027
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0115
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0097
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0314
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0100
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0781
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0345
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0092
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0299
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0451
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0057
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0152
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0132
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0101
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0223
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0101
RECURRENT Auckland 30 LR 0.37707020265990315 XpVar
RECURRENT Auckland 30 RF 0.5296744619015188 XpVar
RECURRENT Auckland 30 GBM 0.020545278972102947 XpVar
RECURRENT Auckland 30 LLR -3.172065784643304e-17 XpVar
RECURRENT Auckland 30 RLR 0.3531691781517526 XpVar
RECURRENT Auckland 30 LR 0.0729782592621225 MSE
RECURRENT Auckland 30 RF 0.05413484108730486 MSE
RECURRENT Auckland 30 GBM 0.11401628302710719 MSE
RECURRENT Auckland 30 LLR 0.11639019083643455 MSE
RECURRENT Auckland 30 RLR 0.07631695765607285 MSE
RECURRENT Auckland 30 LR 0.36414770659603374 R2
RECURRENT Auckland 30 RF 0.5214070586796814 R2
RECURRENT Auckland 30 GBM -0.006336506065742383 R2
RECURRENT Auckland 30 LLR -0.02738535683398489 R2
RECURRENT Auckland 30 RLR 0.3361086018211771 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 67.22751975059509 seconds
sorted_percentage_nan_per_column : maxspeed                         2.45283
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (530, 16) (530,)
X.shape, Y.shape, "Inside the model-fitting function" : (530, 16) (530,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0008495850216898125 0.0291786785063423 -34.34462444771722
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.0007947353313490174 0.02249866953938638 -28.30963800388261
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.01404294191570209 0.1166711598675927 -8.30817079269815
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.0009761552976635092 0.024141392089479546 -24.73109775387536
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.00853394504658749 0.16801595493171434 -19.68795838436992
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings -0.00839753747085263 0.06720943914629834 -8.003469991003726
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0003492120943047019 0.017896246537398307 -51.24749923976887
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0037089622377629067 0.1040783233041032 -28.061305732484072
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.0035786553731051492 0.07527314629052873 -21.033918732782382
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0011634687508646796 0.03468560195485252 -29.812233400402448
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0003147724689481021 0.02890372881484668 -91.82419578000693
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.000527665790966234 0.02133206825242542 -40.42723371049553
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.00027297898546511495 0.015300823018699377 -56.05128538604936
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0029546616091447406 0.060068434010164276 -20.330055335017448
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.0004051530104275843 0.017421822692219785 -43.00060037523454
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0137
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0112
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0524
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0112
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0813
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0334
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0095
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0502
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0370
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0148
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0146
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0107
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0078
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0291
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0091
RECURRENT Auckland 40 LR 0.3412312882177793 XpVar
RECURRENT Auckland 40 RF 0.4517256849866914 XpVar
RECURRENT Auckland 40 GBM 0.016835546642134585 XpVar
RECURRENT Auckland 40 LLR 0.0 XpVar
RECURRENT Auckland 40 RLR 0.3479335059138311 XpVar
RECURRENT Auckland 40 LR 0.1038430642607033 MSE
RECURRENT Auckland 40 RF 0.08966974632877102 MSE
RECURRENT Auckland 40 GBM 0.15124409479016163 MSE
RECURRENT Auckland 40 LLR 0.1536048912402623 MSE
RECURRENT Auckland 40 RLR 0.10306085943837719 MSE
RECURRENT Auckland 40 LR 0.32702970790656866 R2
RECURRENT Auckland 40 RF 0.43658442296107014 R2
RECURRENT Auckland 40 GBM -0.018613897099952665 R2
RECURRENT Auckland 40 LLR -0.03616836338128742 R2
RECURRENT Auckland 40 RLR 0.3340505110217464 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 166.02022528648376 seconds
sorted_percentage_nan_per_column : maxspeed                         3.769841
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1008, 16) (1008,)
X.shape, Y.shape, "Inside the model-fitting function" : (1008, 16) (1008,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0010382266097384012 0.022967605448117684 -22.121957993260025
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.0003957162656171576 0.020703400320677544 -52.31880041218068
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.010679621755985282 0.23367630065956724 -21.880578357431602
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.0003517754619466837 0.016855691391609785 -47.91605218377765
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.0043679749111264245 0.14549574422473072 -33.30965657657816
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings -0.014370553041936598 0.09886487350575066 -6.8796846730421635
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0016870300360935365 0.016919830558405333 -10.029359404640275
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0009871513558152617 0.0722479447488367 -73.18831537152585
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.003073340237892809 0.09319607185920484 -30.32403334656607
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0002538342993353427 0.013896598484347643 -54.74673249728448
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0001550607990758404 0.02511135227114073 -161.94520098441347
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0005357280313359131 0.03945948210188739 -73.65581002638527
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.0006865114204295004 0.05194541903559964 -75.66577552796014
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0029210599508873994 0.06438676420491656 -22.042260442260442
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.0006742405962517603 0.04318766547810662 -64.05378987589233
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0111
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0104
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0892
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0084
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0668
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0477
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0086
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0360
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0475
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0069
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0115
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0221
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0272
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0296
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0245
RECURRENT Auckland 60 LR 0.31228765749172765 XpVar
RECURRENT Auckland 60 RF 0.4408885364095764 XpVar
RECURRENT Auckland 60 GBM 0.01143928114911146 XpVar
RECURRENT Auckland 60 LLR 0.0 XpVar
RECURRENT Auckland 60 RLR 0.31571390642271185 XpVar
RECURRENT Auckland 60 LR 0.12605724295260923 MSE
RECURRENT Auckland 60 RF 0.10698779360466264 MSE
RECURRENT Auckland 60 GBM 0.1696137341255583 MSE
RECURRENT Auckland 60 LLR 0.1713222389652232 MSE
RECURRENT Auckland 60 RLR 0.12566645647208455 MSE
RECURRENT Auckland 60 LR 0.3038074984780348 R2
RECURRENT Auckland 60 RF 0.43465194701243137 R2
RECURRENT Auckland 60 GBM 0.005046112772536827 R2
RECURRENT Auckland 60 LLR -0.006425910586997485 R2
RECURRENT Auckland 60 RLR 0.3070741649057462 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 150.5726284980774 seconds
sorted_percentage_nan_per_column : maxspeed                         3.294118
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1275, 16) (1275,)
X.shape, Y.shape, "Inside the model-fitting function" : (1275, 16) (1275,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0008705309377807398 0.02568669878928609 -29.50693384289093
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.0005855235835103109 0.012429979977359215 -21.228828910424795
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.007362663594035831 0.15373454108839646 -20.880288651640967
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.0009906352569671178 0.022522259017423316 -22.735168023775373
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.0042288013971567865 0.15976047761998247 -37.77913943355122
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.0033299976610694578 0.07621588234139406 22.887668430648887
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0009473139227530636 0.024064853378309832 -25.403251024088263
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0006391684927254715 0.06406390979621679 -100.23008099639355
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.0006205344797412345 0.036880926091948804 -59.43412863589515
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0013222316315330911 0.017207359890318203 -13.013877054481554
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.00021521216721981205 0.04197556679855152 -195.04272151898726
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.002390096298368488 0.061172630936998894 -25.5942118226601
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.00016736329658671828 0.018896307308760567 -112.90592199209914
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0010586844651837971 0.03652089949989076 -34.496491354060254
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.00043579890979972844 0.03001268057449471 -68.86818644931225
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0123
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0062
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0698
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0111
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0768
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0379
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0115
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0321
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0183
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0083
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0211
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0275
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0098
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0178
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0147
RECURRENT Auckland 70 LR 0.3592863493567752 XpVar
RECURRENT Auckland 70 RF 0.4385006156597884 XpVar
RECURRENT Auckland 70 GBM 0.015270669894694135 XpVar
RECURRENT Auckland 70 LLR 0.0 XpVar
RECURRENT Auckland 70 RLR 0.357855424612939 XpVar
RECURRENT Auckland 70 LR 0.09478361910812047 MSE
RECURRENT Auckland 70 RF 0.08233945820576308 MSE
RECURRENT Auckland 70 GBM 0.14519828481185834 MSE
RECURRENT Auckland 70 LLR 0.14742716051403057 MSE
RECURRENT Auckland 70 RLR 0.09492332846415943 MSE
RECURRENT Auckland 70 LR 0.3556821521247829 R2
RECURRENT Auckland 70 RF 0.4365070874750418 R2
RECURRENT Auckland 70 GBM 0.00627215172593503 R2
RECURRENT Auckland 70 LLR -0.009190506559649972 R2
RECURRENT Auckland 70 RLR 0.35415953273264467 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 170.15198254585266 seconds
sorted_percentage_nan_per_column : maxspeed                         2.783172
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1545, 16) (1545,)
X.shape, Y.shape, "Inside the model-fitting function" : (1545, 16) (1545,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0011332090922965634 0.03203743108370154 -28.271420783232884
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.00046094248201710564 0.023810230898447127 -51.65553583660255
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.0030805926950391227 0.20894020239563998 -67.82467631378529
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.0006517527298970737 0.024468818419033506 -37.54310077519381
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.0035245069884941175 0.17169805999682017 -48.71548291926638
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.005792063065032591 0.09167409020918957 15.827536609992649
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0008461819378270691 0.032098924071005536 -37.93383270911352
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0004723922311282607 0.05936720227251238 -125.67353643966555
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.0011182159886914686 0.0828324437329774 -74.07553153475078
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.00024163616809382924 0.020681119950278132 -85.58784934152527
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0001584315318855984 0.03625644292551526 -228.8461298960085
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0017169330585826165 0.06231901294283512 -36.296705122727076
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.0003915293291566726 0.04791047414483674 -122.36752288272407
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0016062665294965318 0.05381248989622536 -33.50159447890155
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.00022369234356211569 0.020925942189835726 -93.54786961684692
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0159
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0118
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0822
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0121
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0787
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0451
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0160
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0293
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0407
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0104
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0178
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0363
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0260
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0259
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0111
RECURRENT Auckland 80 LR 0.2967413313113378 XpVar
RECURRENT Auckland 80 RF 0.36002565277695087 XpVar
RECURRENT Auckland 80 GBM 0.012437493890405858 XpVar
RECURRENT Auckland 80 LLR 6.344131569286608e-17 XpVar
RECURRENT Auckland 80 RLR 0.2983068545221875 XpVar
RECURRENT Auckland 80 LR 0.13868355397359602 MSE
RECURRENT Auckland 80 RF 0.12931709068032052 MSE
RECURRENT Auckland 80 GBM 0.18317971937679042 MSE
RECURRENT Auckland 80 LLR 0.18509072440811694 MSE
RECURRENT Auckland 80 RLR 0.13852273656573608 MSE
RECURRENT Auckland 80 LR 0.29094736103491875 R2
RECURRENT Auckland 80 RF 0.3562052016111111 R2
RECURRENT Auckland 80 GBM 0.001356247518938655 R2
RECURRENT Auckland 80 LLR -0.011241626333745116 R2
RECURRENT Auckland 80 RLR 0.2925080743771739 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 221.49227333068848 seconds
sorted_percentage_nan_per_column : maxspeed                         3.693645
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1841, 16) (1841,)
X.shape, Y.shape, "Inside the model-fitting function" : (1841, 16) (1841,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0014258208084195368 0.025452052817388333 -17.850807525807454
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.0003672800374862413 0.013768357278590285 -37.48735535104072
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.006532599375914763 0.1388768554835848 -21.259049804219444
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg 0.0006298697716572975 0.02086107075361912 33.11965693913203
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.0031406734740329866 0.16236605318194264 -51.69784586789467
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.002971676181509523 0.10111899001928978 34.027593803280524
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0006830737488269139 0.03192811331077117 -46.74182453300739
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.00041213292850305103 0.05626583079201983 -136.52350225056887
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.0009338718414742197 0.05727270330581547 -61.32822595379275
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0002423198719557915 0.021559279143811817 -88.97033070298528
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0001391350718773112 0.040330972188630985 -289.8692015209126
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0008862481147369764 0.050103642930566974 -56.534555162847255
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.00014211563297618078 0.012285557152419451 -86.4476123782847
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0028355177070650654 0.05608582432131931 -19.77974751544457
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.00025737247917316107 0.02997755815446235 -116.47538326851702
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0126
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0067
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0604
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0104
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0708
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0503
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0146
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0281
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0286
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0101
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0172
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0219
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0062
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0241
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0143
RECURRENT Auckland 90 LR 0.2981217079120068 XpVar
RECURRENT Auckland 90 RF 0.40433516038327066 XpVar
RECURRENT Auckland 90 GBM 0.01363962976290107 XpVar
RECURRENT Auckland 90 LLR 1.586032892321652e-17 XpVar
RECURRENT Auckland 90 RLR 0.2983011463502128 XpVar
RECURRENT Auckland 90 LR 0.11721070221078118 MSE
RECURRENT Auckland 90 RF 0.10090892351769763 MSE
RECURRENT Auckland 90 GBM 0.1637124525729707 MSE
RECURRENT Auckland 90 LLR 0.16582296527251636 MSE
RECURRENT Auckland 90 RLR 0.1171921442990725 MSE
RECURRENT Auckland 90 LR 0.2963196957221984 R2
RECURRENT Auckland 90 RF 0.40280993586312436 R2
RECURRENT Auckland 90 GBM 0.008034611502064795 R2
RECURRENT Auckland 90 LLR -0.005674472558480114 R2
RECURRENT Auckland 90 RLR 0.2965433148018327 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 237.34416437149048 seconds
sorted_percentage_nan_per_column : maxspeed                         2.371542
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (253, 16) (253,)
X.shape, Y.shape, "Inside the model-fitting function" : (253, 16) (253,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0016545259186114326 0.026245510167941515 -15.862858280254784
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.07985454023482515 0.07610245339191202 -0.9530134813639961
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.004729753132577606 0.03560735017966065 -7.528373930217256
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg 0.006505906083089249 0.01997016149907357 3.069543464665415
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.008687128510241325 0.13125221094543205 -15.108814240597198
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.015403028443551568 0.09468267269342859 6.147016675351736
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0010160668704969295 0.020054481267103956 -19.737363602157288
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.003561203903321653 0.07910943856117628 -22.214240102171146
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.005417476448046449 0.09276495656183109 -17.123278236914587
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0007305866394851086 0.015345425198847495 -21.004251062765675
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0006389442413331123 0.02029198075056465 -31.758609653053384
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.000792806522876402 0.015856386267583185 -20.00032266391328
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.0005963689219365964 0.013275255610549474 -22.260139860139873
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0035187926636987494 0.039513444304806564 -11.229261875086536
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.0008939679060876565 0.013149644200010292 -14.70930232558139
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0127
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0357
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0174
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0100
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0602
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0453
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0100
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0391
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0463
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0077
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0099
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0080
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0067
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0187
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0066
RECURRENT Auckland 25 LR 0.46207041967767576 XpVar
RECURRENT Auckland 25 RF 0.5260588372567013 XpVar
RECURRENT Auckland 25 GBM 0.02023630439599224 XpVar
RECURRENT Auckland 25 LLR 7.930164461608261e-17 XpVar
RECURRENT Auckland 25 RLR 0.4708612667709076 XpVar
RECURRENT Auckland 25 LR 0.06210513301058586 MSE
RECURRENT Auckland 25 RF 0.05343551560772876 MSE
RECURRENT Auckland 25 GBM 0.11305130443056298 MSE
RECURRENT Auckland 25 LLR 0.11530198089470764 MSE
RECURRENT Auckland 25 RLR 0.06130485334846353 MSE
RECURRENT Auckland 25 LR 0.43355253626154877 R2
RECURRENT Auckland 25 RF 0.5087383497457607 R2
RECURRENT Auckland 25 GBM -0.05601821123962276 R2
RECURRENT Auckland 25 LLR -0.0778907190130427 R2
RECURRENT Auckland 25 RLR 0.4401084645621419 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 67.84603977203369 seconds
sorted_percentage_nan_per_column : maxspeed                         3.766234
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (770, 16) (770,)
X.shape, Y.shape, "Inside the model-fitting function" : (770, 16) (770,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness -0.0007426400421415355 0.025669334901657657 -34.56497555348017
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count -0.007596253309298762 0.05968484743020437 -7.857142857142833
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.0035109323097576714 0.06994032728676042 -19.92072791958435
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.0030140042102092604 0.030238536208821838 -10.032678821879415
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.006098285931379595 0.14149797233280723 -23.202908805031484
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.01034868048696685 0.15776960861564693 15.245384067499458
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.006627325088678564 0.021268570883994285 -3.209224023177512
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0006793315276392411 0.049476636534926836 -72.83135629942586
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.0012868110553724793 0.054293686620693005 -42.19243096646943
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.0006633323772089884 0.014179835116804141 -21.376666666666665
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.00026228638806727095 0.030325772536228392 -115.62084010417828
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0018651765049417402 0.04194458408587608 -22.488265306122457
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.00021617414500091494 0.015135515321495454 -70.0153819108728
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.006623180264394226 0.057002166792671644 -8.606464646464701
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.0003654733966355305 0.014373915450216882 -39.329580709676975
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0126
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0292
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0342
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0146
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0627
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0770
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0104
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0247
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0269
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0070
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0145
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0199
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0076
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0276
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0075
RECURRENT Auckland 50 LR 0.30192838449769815 XpVar
RECURRENT Auckland 50 RF 0.4201154807579738 XpVar
RECURRENT Auckland 50 GBM 0.013975484959031528 XpVar
RECURRENT Auckland 50 LLR 1.1102230246251565e-16 XpVar
RECURRENT Auckland 50 RLR 0.3021698402171043 XpVar
RECURRENT Auckland 50 LR 0.11211128971104733 MSE
RECURRENT Auckland 50 RF 0.09414083269560557 MSE
RECURRENT Auckland 50 GBM 0.15531478522638203 MSE
RECURRENT Auckland 50 LLR 0.15744838469831163 MSE
RECURRENT Auckland 50 RLR 0.1120367553006747 MSE
RECURRENT Auckland 50 LR 0.2899201743591822 R2
RECURRENT Auckland 50 RF 0.4138895015590875 R2
RECURRENT Auckland 50 GBM -0.01403111323888078 R2
RECURRENT Auckland 50 LLR -0.02851794485690278 R2
RECURRENT Auckland 50 RLR 0.2903022279669443 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 116.2177984714508 seconds
sorted_percentage_nan_per_column : maxspeed                         3.927069
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2139, 16) (2139,)
X.shape, Y.shape, "Inside the model-fitting function" : (2139, 16) (2139,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 2,
 'xgbregressor__n_estimators': 2}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 global_betweenness 0.0012196877314264946 0.02952200771485897 24.204562327056692
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 non_metered_count 0.000833208349066078 0.020648724965849432 24.78218681917201
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 -0.003392356806719412 0.16192153245216329 -47.73127995599907
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.0017264689198178383 0.025615704579618613 -14.83704935871151
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count -0.0035301757364075543 0.13555981126996083 -38.40030111586225
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.0022061256857364383 0.10474072984794106 47.47722694365757
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0009155149006630587 0.02667173103183722 -29.133038700430006
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_avg -0.0004516534037191136 0.0663776783986715 -146.96596516729062
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_5 -0.0005042722806540668 0.04428784914366421 -87.82526988439781
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg -0.00013896609022120456 0.012527300600589729 -90.14645645314567
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.00011815700570155114 0.042997867098882994 -363.9045086119555
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.0015560923890602888 0.04926189766366211 -31.657437572463778
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 -0.00014940305036938785 0.021800294811259075 -145.91599540544507
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_count_2 -0.0007234976304390414 0.037147867136858595 -51.34483593860023
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 m -0.0004265647073813589 0.03452228138236938 -80.93093681917208
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0136
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0099
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0686
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0129
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0566
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0523
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0118
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0331
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0217
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0063
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0180
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0211
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0146
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0181
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0160
RECURRENT Auckland 100 LR 0.2653124297566257 XpVar
RECURRENT Auckland 100 RF 0.35321211108300027 XpVar
RECURRENT Auckland 100 GBM 0.011672551125296225 XpVar
RECURRENT Auckland 100 LLR 3.172065784643304e-17 XpVar
RECURRENT Auckland 100 RLR 0.2660420067669776 XpVar
RECURRENT Auckland 100 LR 0.1313643905021491 MSE
RECURRENT Auckland 100 RF 0.1179794824873621 MSE
RECURRENT Auckland 100 GBM 0.17207230718814068 MSE
RECURRENT Auckland 100 LLR 0.17385505792601555 MSE
RECURRENT Auckland 100 RLR 0.13128852369232333 MSE
RECURRENT Auckland 100 LR 0.259285257887779 R2
RECURRENT Auckland 100 RF 0.34792434042383774 R2
RECURRENT Auckland 100 GBM 0.0028649551032762233 R2
RECURRENT Auckland 100 LLR -0.008857273812732285 R2
RECURRENT Auckland 100 RLR 0.2600497586081159 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 397.44341683387756 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

