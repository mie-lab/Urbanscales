Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         1.025641
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (195, 17) (195,)
X.shape, Y.shape, "Inside the model-fitting function" : (195, 17) (195,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.004615456412367453 0.08716842618999066 -18.8861985472155
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.0009805292973675108 0.0173400228374435 17.68434954875633
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.0016643969837921273 0.0397819998083577 -23.901749519948794
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0034655034043728663 0.0802346550098137 -23.152380952380952
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0013152954190872438 0.022722890873309608 -17.275883838383834
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 0.0031368497383760926 0.01423098788651394 4.536713286713294
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.001820134504023437 0.029773240178385653 -16.35771428571428
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.006745252169575008 0.1183706289602319 -17.548732943469773
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.0011555203821819857 0.02120097616081499 18.347557072754427
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.0013068759292403581 0.028449969825825438 -21.769449715370015
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.0008464708086842567 0.02452064740410875 -28.968095712861412
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.0012137300240361183 0.021997071788560474 -18.123529411764707
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.006642239992841597 0.13684835159005232 -20.602741204403188
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.0018493160321027878 0.013073128555253296 -7.06916953528399
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg 0.0031633417890916866 0.018867170228907076 5.964316057773999
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0422
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0087
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0200
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0400
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0114
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0068
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0150
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0580
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0105
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0143
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0115
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0110
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0672
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0064
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0093
RECURRENT Capetown 20 LR 0.5600492713544827 XpVar
RECURRENT Capetown 20 RF 0.6497127360848763 XpVar
RECURRENT Capetown 20 GBM 0.01138827477389743 XpVar
RECURRENT Capetown 20 LLR -4.7580986769649563e-17 XpVar
RECURRENT Capetown 20 RLR 0.5648677215448669 XpVar
RECURRENT Capetown 20 LR 0.051523834492048066 MSE
RECURRENT Capetown 20 RF 0.04162412225524211 MSE
RECURRENT Capetown 20 GBM 0.11292952497560302 MSE
RECURRENT Capetown 20 LLR 0.11419690472585271 MSE
RECURRENT Capetown 20 RLR 0.05081658949484917 MSE
RECURRENT Capetown 20 LR 0.5515865757417873 R2
RECURRENT Capetown 20 RF 0.6369079866383467 R2
RECURRENT Capetown 20 GBM -0.013602556426682653 R2
RECURRENT Capetown 20 LLR -0.025257500561968436 R2
RECURRENT Capetown 20 RLR 0.5569324975214321 R2
t_spatial, t_non_spatial, "seconds" : 9.5367431640625e-07 72.35330009460449 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         3.157895
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (380, 17) (380,)
X.shape, Y.shape, "Inside the model-fitting function" : (380, 17) (380,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0014385435952447814 0.07184362524887423 -49.941917287984154
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.0006018680888898914 0.01844022807775021 30.638321615891073
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.0011119198814105882 0.0623679803264342 -56.09035450226307
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0022612657874644393 0.09606336979321503 -42.482122325359654
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0008804786166364538 0.05280120204141734 -59.96875
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 -0.0010564075820809098 0.01623199145827344 -15.365273530411145
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness 0.0004253535708683355 0.01786567458711039 42.00193864750827
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.00267673008832449 0.09833394147945282 -36.73659212349099
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.0012646543864975922 0.022014327864792925 17.40738663451023
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.0007393629562198004 0.026973710964814934 -36.4823673378574
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.0005422441965133787 0.0244254921693666 -45.04518872939926
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.0008077827278228401 0.02432576402297909 -30.11424134871342
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.003791065862723421 0.14933100898288593 -39.39024390243901
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.0028775033643895255 0.016722333148316285 -5.811403508771917
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg 0.0005913701263757378 0.015471198255688497 26.161616161616166
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0359
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0092
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0310
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0479
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0263
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0083
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0093
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0488
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0109
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0135
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0123
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0121
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0739
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0082
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0077
RECURRENT Capetown 30 LR 0.4697105071769113 XpVar
RECURRENT Capetown 30 RF 0.5320048041312256 XpVar
RECURRENT Capetown 30 GBM 0.009299154130758405 XpVar
RECURRENT Capetown 30 LLR 1.586032892321652e-17 XpVar
RECURRENT Capetown 30 RLR 0.4733640298775497 XpVar
RECURRENT Capetown 30 LR 0.07425411286276895 MSE
RECURRENT Capetown 30 RF 0.06693348709074103 MSE
RECURRENT Capetown 30 GBM 0.13852094087603167 MSE
RECURRENT Capetown 30 LLR 0.13975166064099068 MSE
RECURRENT Capetown 30 RLR 0.073927484546693 MSE
RECURRENT Capetown 30 LR 0.45934587331029736 R2
RECURRENT Capetown 30 RF 0.5109491309584105 R2
RECURRENT Capetown 30 GBM -0.00587421026618286 R2
RECURRENT Capetown 30 LLR -0.015091637037559526 R2
RECURRENT Capetown 30 RLR 0.46171032771714976 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 80.60652232170105 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         2.755267
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (617, 17) (617,)
X.shape, Y.shape, "Inside the model-fitting function" : (617, 17) (617,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0011976177994938429 0.09486276470964061 -79.20954811270599
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.00027870440047272167 0.015404127023826816 55.27048370136697
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.0009189780244473946 0.05512507801252191 -59.98519719301237
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0013057058399826814 0.06025634742118435 -46.148485804416396
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0010013064746560993 0.06511920850078881 -65.03424291064744
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 0.0002494425338111856 0.015225340451289922 61.03746710180019
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness 0.0027030186420087224 0.023128979203422984 8.556722045481308
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.0025249737248117495 0.1502690433324993 -59.51311170325255
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.000350476183059198 0.019403879003661206 55.3643298505786
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.013276674845040155 0.012832378869265651 0.9665355986374493
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.0004247670173522694 0.013593553191494509 -32.002374563421085
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.0003599990769875052 0.024383458156687618 -67.73200187269902
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.003092645224720276 0.15271398965504127 -49.379731122846124
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.0004283378664303324 0.02588085245479917 -60.42158418186125
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg 0.0036666083784602167 0.017390925630697277 4.74305511678358
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0473
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0077
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0270
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0302
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0323
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0076
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0110
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0750
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0092
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0064
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0069
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0120
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0764
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0117
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0087
RECURRENT Capetown 40 LR 0.35386221441227644 XpVar
RECURRENT Capetown 40 RF 0.47370008941581604 XpVar
RECURRENT Capetown 40 GBM 0.007691644538141497 XpVar
RECURRENT Capetown 40 LLR 0.0 XpVar
RECURRENT Capetown 40 RLR 0.3589928992443922 XpVar
RECURRENT Capetown 40 LR 0.10416489100152339 MSE
RECURRENT Capetown 40 RF 0.08521201711351878 MSE
RECURRENT Capetown 40 GBM 0.15992857552588174 MSE
RECURRENT Capetown 40 LLR 0.16115143654581257 MSE
RECURRENT Capetown 40 RLR 0.10333661216504562 MSE
RECURRENT Capetown 40 LR 0.34365217982868196 R2
RECURRENT Capetown 40 RF 0.4651650583616953 R2
RECURRENT Capetown 40 GBM -0.003193967467192376 R2
RECURRENT Capetown 40 LLR -0.010882069819374436 R2
RECURRENT Capetown 40 RLR 0.3488476299137169 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 91.93474411964417 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         3.599649
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1139, 17) (1139,)
X.shape, Y.shape, "Inside the model-fitting function" : (1139, 17) (1139,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0005615548208565995 0.06510006192814674 -115.92823979116173
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.0007413176699552932 0.01677352782480485 -22.626639704698277
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.0004359936317179323 0.039616165600715285 -90.86409231395635
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.001077192925486933 0.07626723152114817 -70.80183105238314
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0004145504445089326 0.046587677038921985 -112.3812015063902
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 -0.00017646688717328345 0.016285654207003845 -92.28730935233182
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.00035801086400402075 0.01874644497760991 -52.36278242494723
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.0019315482198415147 0.17311233483621852 -89.62361542826125
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.00042398710364290537 0.02541248150308379 59.936920922214995
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.0003275089227033102 0.04466128577980016 -136.36662296452528
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.00023726993849404303 0.028926757396574274 -121.9149698447809
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.0003311249661445836 0.03813879405007977 -115.17945775621979
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.0023404859845081857 0.1631483777488712 -69.70705179555011
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.00031715796020601294 0.02967418193337303 -93.56278465814916
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg 0.001056347945671253 0.012625501842675085 11.952029531947687
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0323
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0084
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0198
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0378
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0222
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0083
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0095
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0866
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0123
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0220
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0142
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0189
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0812
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0140
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0062
RECURRENT Capetown 60 LR 0.33115537756038327 XpVar
RECURRENT Capetown 60 RF 0.4323109839847986 XpVar
RECURRENT Capetown 60 GBM 0.0071650257818382445 XpVar
RECURRENT Capetown 60 LLR 6.344131569286608e-17 XpVar
RECURRENT Capetown 60 RLR 0.3329821781885414 XpVar
RECURRENT Capetown 60 LR 0.1276694654598761 MSE
RECURRENT Capetown 60 RF 0.10732277156983534 MSE
RECURRENT Capetown 60 GBM 0.1883535717078864 MSE
RECURRENT Capetown 60 LLR 0.18970652178462122 MSE
RECURRENT Capetown 60 RLR 0.12731994884952583 MSE
RECURRENT Capetown 60 LR 0.328041101500505 R2
RECURRENT Capetown 60 RF 0.43039026916754375 R2
RECURRENT Capetown 60 GBM 0.002600026729918405 R2
RECURRENT Capetown 60 LLR -0.004596086948100574 R2
RECURRENT Capetown 60 RLR 0.3299095356677441 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 218.67672204971313 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         4.132231
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1452, 17) (1452,)
X.shape, Y.shape, "Inside the model-fitting function" : (1452, 17) (1452,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0005462645823233747 0.08482837985237487 -155.288083096258
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.0003610603882588025 0.017871149853611493 -49.496290467625954
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.00046674727080855906 0.04627545890942451 -99.14457309897125
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0007832605039684439 0.06762363948102289 -86.33607738217745
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.00072535163568584 0.06290262674300579 -86.72018321641974
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 -0.00022657298092667552 0.02506990316609667 -110.64824703970282
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.00027733290926194946 0.033275332758315276 -119.98335447051363
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.0034344869423631246 0.18273601362037972 -53.20620421245417
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.0004980949693489515 0.02027705268903992 40.7092099636011
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.00019479082822954812 0.032666763632390364 -167.70175438596493
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.00013255957848539248 0.019752692792967045 -149.0099245837879
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.00024687777392557104 0.03600524971677757 -145.84241077786317
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.001489257343598913 0.14832352792525325 -99.59563306017833
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.00038508393191295564 0.02080307590851129 -54.0221862936977
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg -0.0030647901987627553 0.016323474737744738 -5.326131212614314
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0424
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0091
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0231
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0340
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0315
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0127
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0155
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0910
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0102
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0163
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0099
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0180
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0742
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0103
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0079
RECURRENT Capetown 70 LR 0.31305899023362843 XpVar
RECURRENT Capetown 70 RF 0.42266615478814645 XpVar
RECURRENT Capetown 70 GBM 0.00596498956142834 XpVar
RECURRENT Capetown 70 LLR -7.930164461608261e-17 XpVar
RECURRENT Capetown 70 RLR 0.3134026175072739 XpVar
RECURRENT Capetown 70 LR 0.14502567495425658 MSE
RECURRENT Capetown 70 RF 0.1216474160749603 MSE
RECURRENT Capetown 70 GBM 0.2092137600159423 MSE
RECURRENT Capetown 70 LLR 0.21047036596516436 MSE
RECURRENT Capetown 70 RLR 0.14495013225750197 MSE
RECURRENT Capetown 70 LR 0.31134262719572414 R2
RECURRENT Capetown 70 RF 0.4214919600804009 R2
RECURRENT Capetown 70 GBM 0.003450216089042137 R2
RECURRENT Capetown 70 LLR -0.002540756895248083 R2
RECURRENT Capetown 70 RLR 0.31170726749975125 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 278.84358310699463 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         4.089862
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1736, 17) (1736,)
X.shape, Y.shape, "Inside the model-fitting function" : (1736, 17) (1736,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0004867146933387815 0.08215979342044843 -168.80483483423518
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.00024706391110468584 0.01929953715376539 -78.11556559382643
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.000398804814997449 0.054490970514324784 -136.635688600383
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0007702241709391832 0.07167420449510095 -93.05629088178841
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0006046185561858036 0.0466537141529222 -77.16222678846327
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 0.0005450026889552333 0.02191659383962679 40.21373524163846
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.000165722433451773 0.027608163301745432 -166.59279451010298
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.0029875827478293335 0.17908858384203166 -59.944309148307525
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.000490955640616123 0.023232256884480648 47.32048063512502
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.00019568769030854866 0.04239097577092846 -216.62566359738264
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.00013967775709348496 0.02534906216293994 -181.48245426058827
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.00019843949540573213 0.03957695091665435 -199.44089676167926
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.001482635271936366 0.15434739688853127 -104.103416268351
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.0004318021048725393 0.03906294965035476 -90.46493569521965
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg 0.0010248170134509985 0.018914467515871267 18.456433946366815
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0408
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0095
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0272
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0358
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0231
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0111
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0125
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0887
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0115
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0213
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0126
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0198
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0767
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0160
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0091
RECURRENT Capetown 80 LR 0.2660184419737401 XpVar
RECURRENT Capetown 80 RF 0.39605695508471983 XpVar
RECURRENT Capetown 80 GBM 0.00576108846202626 XpVar
RECURRENT Capetown 80 LLR 1.586032892321652e-17 XpVar
RECURRENT Capetown 80 RLR 0.266691093165551 XpVar
RECURRENT Capetown 80 LR 0.15817760501983116 MSE
RECURRENT Capetown 80 RF 0.13148030129418778 MSE
RECURRENT Capetown 80 GBM 0.21466266081709073 MSE
RECURRENT Capetown 80 LLR 0.21589950102094752 MSE
RECURRENT Capetown 80 RLR 0.1580360923906731 MSE
RECURRENT Capetown 80 LR 0.261308781331965 R2
RECURRENT Capetown 80 RF 0.39125004874688285 R2
RECURRENT Capetown 80 GBM 0.0016768847767728737 R2
RECURRENT Capetown 80 LLR -0.004104857850860487 R2
RECURRENT Capetown 80 RLR 0.26200082695275917 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 339.726336479187 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         4.53202
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_count_6         0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_count_5         0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_count_4         0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_count_3         0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_count_2         0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2030, 17) (2030,)
X.shape, Y.shape, "Inside the model-fitting function" : (2030, 17) (2030,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0004433616545038563 0.08918054800913583 -201.14628115264793
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.0001370367266645303 0.02074131840852679 -151.35590956796648
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.0003356098852817447 0.05926915664565585 -176.60134353879164
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0006731641863318176 0.059990933568819134 -89.11783304414871
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.00042005993493499246 0.04931165327735189 -117.3919461873536
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 -0.004592673958573588 0.022717574084580885 -4.9464809149301345
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.00023275563157870678 0.026202723780653518 -112.57611084607856
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.0034351727119935555 0.20449287109637743 -59.5291381951223
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.0002375366009811114 0.02594255753450947 109.21499014197138
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.00015367660194073334 0.030899865751086435 -201.07072489150448
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.00011015233136990448 0.018621899389181844 -169.05588068442523
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.00024168176738424926 0.049089423779937885 -203.11595827537428
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.0011612091600982544 0.1320470656566656 -113.715142968294
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.00011715101569977307 0.029336319329082435 -250.4145538461538
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg -0.0003154895587009574 0.01936954208449126 -61.39519217132329
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0447
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0105
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0289
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0280
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0247
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0115
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0122
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1009
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0126
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0155
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0093
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0244
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0660
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0138
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0091
RECURRENT Capetown 90 LR 0.26725829556293323 XpVar
RECURRENT Capetown 90 RF 0.39045050304411727 XpVar
RECURRENT Capetown 90 GBM 0.005465613838812817 XpVar
RECURRENT Capetown 90 LLR 0.0 XpVar
RECURRENT Capetown 90 RLR 0.2678326042805285 XpVar
RECURRENT Capetown 90 LR 0.16461412702803563 MSE
RECURRENT Capetown 90 RF 0.13713399198987475 MSE
RECURRENT Capetown 90 GBM 0.22356923604350873 MSE
RECURRENT Capetown 90 LLR 0.2247946035582928 MSE
RECURRENT Capetown 90 RLR 0.1644839061471621 MSE
RECURRENT Capetown 90 LR 0.2664519492908415 R2
RECURRENT Capetown 90 RF 0.3892898131708279 R2
RECURRENT Capetown 90 GBM 0.004239392553342999 R2
RECURRENT Capetown 90 LLR -0.0012457145780376663 R2
RECURRENT Capetown 90 RLR 0.26703319213677673 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 284.67362451553345 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         2.631579
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (304, 17) (304,)
X.shape, Y.shape, "Inside the model-fitting function" : (304, 17) (304,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0013360525357130942 0.06959204378704596 -52.087804878048786
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.00049352006307226 0.016806008368071106 34.05334377583432
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.0006045102550978382 0.02494325513331066 -41.26192223037418
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0017449637707856551 0.07989268153326268 -45.78472222222223
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0010481976643307075 0.04802867845227124 -45.82024944974323
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 -0.000636507892814891 0.019087792247688664 -29.98830409356725
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.002854739332741454 0.018350464763446806 -6.428070175438592
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.0021466939311211995 0.10817224935108508 -50.39015939015938
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.0007689923448712226 0.018832471024914674 24.489802987659658
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.0011325235750812553 0.05109607390853071 -45.11700686218802
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.0006503374694774354 0.03730772675710616 -57.366718831507555
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.0005422228804129333 0.025654995612377732 -47.31448365447066
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.0029693261215232394 0.13713379662342595 -46.18347430058557
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg 0.0005505779964799279 0.013184434161320518 23.94653299916459
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg 0.00034192665082390913 0.012504269534450944 36.570034843205576
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0347
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0084
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0122
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0399
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0234
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0096
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0097
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0541
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0094
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0251
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0187
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0128
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0684
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0066
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0062
RECURRENT Capetown 25 LR 0.4431907661801257 XpVar
RECURRENT Capetown 25 RF 0.5482295050749313 XpVar
RECURRENT Capetown 25 GBM 0.009605666177130514 XpVar
RECURRENT Capetown 25 LLR 3.172065784643304e-17 XpVar
RECURRENT Capetown 25 RLR 0.4504233911616865 XpVar
RECURRENT Capetown 25 LR 0.07119974598834926 MSE
RECURRENT Capetown 25 RF 0.057394376937790835 MSE
RECURRENT Capetown 25 GBM 0.12641177293967448 MSE
RECURRENT Capetown 25 LLR 0.12760092348369792 MSE
RECURRENT Capetown 25 RLR 0.07038754254765094 MSE
RECURRENT Capetown 25 LR 0.4295292739236221 R2
RECURRENT Capetown 25 RF 0.5358290898435001 R2
RECURRENT Capetown 25 GBM -0.007039354733448426 R2
RECURRENT Capetown 25 LLR -0.016680372792287006 R2
RECURRENT Capetown 25 RLR 0.4371283880611346 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 93.64327955245972 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         3.378378
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_count_6         0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_count_5         0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_count_4         0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_count_3         0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_count_2         0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (888, 17) (888,)
X.shape, Y.shape, "Inside the model-fitting function" : (888, 17) (888,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.000835156541461704 0.07069134595691065 -84.64442586198936
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.0005586982934047583 0.020569991713540715 -36.81770994535407
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.00042928717192061195 0.036591218592147326 -85.2371582137892
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0011120135733824741 0.0745862562728323 -67.0731527547448
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0008703248214670759 0.06550430414190045 -75.2642031184198
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 -0.0004496692296762335 0.03219119302493963 -71.58860535802643
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness 0.0044039625502622776 0.01636437667325251 3.7158301158301015
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.002452424833771916 0.15786106111818343 -64.36937799043062
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.0003376080540644445 0.024242759082227595 71.80740740740742
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.00027739910665290033 0.026193834327144398 -94.4265273352874
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -0.00021918133048472941 0.023020840054708676 -105.03102615444959
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.000342197174574403 0.034141733171667486 -99.77210716052872
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.00200346910074032 0.15887829799904743 -79.30159638615783
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.0003071213165882878 0.021863212242292315 -71.1875440140845
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg 0.0010923476922586335 0.013555802104824877 12.40978692122809
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0350
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0103
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0179
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0372
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0328
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0150
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0083
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0789
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0116
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0131
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0115
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0159
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0788
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0102
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0067
RECURRENT Capetown 50 LR 0.36524735793071994 XpVar
RECURRENT Capetown 50 RF 0.46388681002891147 XpVar
RECURRENT Capetown 50 GBM 0.007085995140732303 XpVar
RECURRENT Capetown 50 LLR -6.344131569286608e-17 XpVar
RECURRENT Capetown 50 RLR 0.3662517787564173 XpVar
RECURRENT Capetown 50 LR 0.11381210703396767 MSE
RECURRENT Capetown 50 RF 0.09560779873447658 MSE
RECURRENT Capetown 50 GBM 0.177052288254453 MSE
RECURRENT Capetown 50 LLR 0.1783202403795326 MSE
RECURRENT Capetown 50 RLR 0.11363080566885177 MSE
RECURRENT Capetown 50 LR 0.3634291964720499 R2
RECURRENT Capetown 50 RF 0.46274918811055477 R2
RECURRENT Capetown 50 GBM 0.0022164083028618975 R2
RECURRENT Capetown 50 LLR -0.004967666940128591 R2
RECURRENT Capetown 50 RLR 0.3644061703653972 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 113.26252698898315 seconds
sorted_percentage_nan_per_column : Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
maxspeed                         5.21666
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_count_6         0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_count_5         0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_count_4         0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_count_3         0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_count_2         0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2377, 17) (2377,)
X.shape, Y.shape, "Inside the model-fitting function" : (2377, 17) (2377,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 1000}
Dict: model_trials.best_params_
Key: Value
{'xgbregressor__learning_rate': 0.01,
 'xgbregressor__max_depth': 1,
 'xgbregressor__n_estimators': 1}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.0002568035506071269 0.056033331550316576 -218.19531473706002
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.0002310700203176198 0.021834882621204803 -94.49465833426348
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_6 -0.00036713576247756507 0.05854616210427921 -159.4673363041195
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.0006463687247744372 0.08012919141339073 -123.96823723386888
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_avg -0.0004894614238792838 0.07640283072568563 -156.09571459206336
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_5 0.0008597473696304816 0.025993477031468697 30.233854675985413
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 betweenness -0.0001399258730769666 0.02664682856033517 -190.43532103371626
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_1 0 0 0
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 metered_count -0.0029146615911765732 0.19712231089656712 -67.63128573598624
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 global_betweenness 0.00024289088440929206 0.02241665530757639 92.29105226444972
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n -0.00013713007295242414 0.041202128958315154 -300.4601986364421
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 -7.246013643601154e-05 0.019147448013500344 -264.24802595298956
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 m -0.0001565188135865526 0.038844973915547004 -248.18086098043614
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 total_crossings -0.0010898062238277326 0.15201819357409435 -139.49103083680325
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 15 k_avg -0.00016503243966840993 0.0321931788466481 -195.07182291755475
config.CONGESTION_TYPE, slugifiedstring, i, key, value[2], value[0], value[1] : RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 16 circuity_avg -0.0007847276438548168 0.01837711310525889 -23.418460212494892
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0281
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0110
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_6          0.0292
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0388
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0375
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0131
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0124
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0000
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_1          0.0000
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0958
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0110
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0206
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0095
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0191
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0753
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0151
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0083
RECURRENT Capetown 100 LR 0.28006296497096395 XpVar
RECURRENT Capetown 100 RF 0.37055802133502475 XpVar
RECURRENT Capetown 100 GBM 0.005150736716354132 XpVar
RECURRENT Capetown 100 LLR 0.0 XpVar
RECURRENT Capetown 100 RLR 0.280155095553977 XpVar
RECURRENT Capetown 100 LR 0.16788323764564653 MSE
RECURRENT Capetown 100 RF 0.14734689918240948 MSE
RECURRENT Capetown 100 GBM 0.2328818809913569 MSE
RECURRENT Capetown 100 LLR 0.23408502520711752 MSE
RECURRENT Capetown 100 RLR 0.16786111330445866 MSE
RECURRENT Capetown 100 LR 0.27966061675054077 R2
RECURRENT Capetown 100 RF 0.3700283312383436 R2
RECURRENT Capetown 100 GBM 0.004302637793661674 R2
RECURRENT Capetown 100 LLR -0.000866413396748105 R2
RECURRENT Capetown 100 RLR 0.2797545448730913 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 465.17044258117676 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

