Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         7.717042
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (311, 14) (311,)
X.shape, Y.shape, "Inside the model-fitting function" : (311, 14) (311,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.03943632427582758 0.02053222001414543 -0.5206423365052462
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg -0.059025763951527366 0.022614074482763924 -0.38312209734947034
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.02885963970392816 0.021604674138012665 0.7486120533608739
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.05038070840779092 0.0742669474080366 1.4741147902666627
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.04686558550811837 0.06563995218971747 1.4006002800999227
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.1715210481782267 0.23463749453775348 1.3679807640514345
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.1833825715200052 0.2418979834057357 1.3190892755004642
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.015818827099727106 0.018930883698704014 1.1967311848949025
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.03887478487338554 0.02776774870077576 0.7142868775020828
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.09149856108933264 0.17129117884256523 1.8720641811550325
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.0622956936205161 0.08134538639132093 1.305794697252253
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.06313788992348984 0.07972623710761217 -1.2627320489206086
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.027913417976251888 0.019879201711454873 0.7121736839382283
RECURRENT recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness -0.032181473649673754 0.0135726061043475 -0.4217521625049975
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0099
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0111
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0108
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0362
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0328
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1168
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1208
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0094
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0139
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0748
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0407
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0397
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0100
SHAP-- recurrent-newyorkcity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0068
RECURRENT NewYorkCity 20 LR 0.6209570076899394 XpVar
RECURRENT NewYorkCity 20 RF 0.6555493765101037 XpVar
RECURRENT NewYorkCity 20 LLR 7.930164461608261e-17 XpVar
RECURRENT NewYorkCity 20 RLR 0.6251889759769215 XpVar
RECURRENT NewYorkCity 20 LR 0.12513895205373865 MSE
RECURRENT NewYorkCity 20 RF 0.1139316775894454 MSE
RECURRENT NewYorkCity 20 LLR 0.3306819189761324 MSE
RECURRENT NewYorkCity 20 RLR 0.1239638372742836 MSE
RECURRENT NewYorkCity 20 LR 0.6123476268210383 R2
RECURRENT NewYorkCity 20 RF 0.6458639760905468 R2
RECURRENT NewYorkCity 20 LLR -0.019739962631333898 R2
RECURRENT NewYorkCity 20 RLR 0.6164657259299994 R2
t_spatial, t_non_spatial, "seconds" : 9.5367431640625e-07 42.56533455848694 seconds
sorted_percentage_nan_per_column : maxspeed                         14.764079
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (657, 14) (657,)
X.shape, Y.shape, "Inside the model-fitting function" : (657, 14) (657,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.03152929626322939 0.032878846265907105 -1.042803048676085
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg -0.06819087006013289 0.02677069422031217 -0.3925847286697606
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.030877071100155626 0.025540096257442104 0.827154109746937
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.05290430772787928 0.07473016995908713 1.412553592865674
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.06047396313215255 0.06934972400634791 1.146769955440151
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.19624185116712745 0.2843513617312924 1.4489843019730146
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.19773626257937163 0.255547131504822 1.2923635157827715
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.01575052821058794 0.011399665432467062 0.7237640084225171
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.06167880591221038 0.043930657862140794 0.7122488383557368
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.0856830740574936 0.14206209404245207 1.6579948327615788
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.05340829660722728 0.06463817425353202 1.2102646659729848
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.11184019343360761 0.09287715596710695 -0.8304452372236122
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.032996393135327574 0.027693376086510603 0.839284947689046
RECURRENT recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness -0.12460033539108888 0.023101791340803347 -0.18540713609070697
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0158
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0132
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0129
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0371
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0347
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1391
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1279
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0059
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0218
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0659
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0321
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0443
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0139
SHAP-- recurrent-newyorkcity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0116
RECURRENT NewYorkCity 30 LR 0.4955759960079022 XpVar
RECURRENT NewYorkCity 30 RF 0.5842873432694132 XpVar
RECURRENT NewYorkCity 30 LLR 0.0 XpVar
RECURRENT NewYorkCity 30 RLR 0.49584655253412135 XpVar
RECURRENT NewYorkCity 30 LR 0.18964248100560135 MSE
RECURRENT NewYorkCity 30 RF 0.15767851614849301 MSE
RECURRENT NewYorkCity 30 LLR 0.37901699333405886 MSE
RECURRENT NewYorkCity 30 RLR 0.18950999415154643 MSE
RECURRENT NewYorkCity 30 LR 0.4927970606947238 R2
RECURRENT NewYorkCity 30 RF 0.5786887766595434 R2
RECURRENT NewYorkCity 30 LLR -0.017419590842988546 R2
RECURRENT NewYorkCity 30 RLR 0.4932552165593238 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 116.27721977233887 seconds
sorted_percentage_nan_per_column : maxspeed                         22.081448
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1105, 14) (1105,)
X.shape, Y.shape, "Inside the model-fitting function" : (1105, 14) (1105,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.024286361060930888 0.03225167306242096 -1.3279747007592566
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg 0.10885165328264988 0.021216073948097436 0.19490814616298635
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.03999116447900502 0.023467236980220393 0.5868105439275335
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.050825249832303264 0.07730712520849717 1.5210377807009359
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.060584508745591924 0.048445679856002566 0.799638073479096
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.20493086728981494 0.2864396019886962 1.3977377140731608
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.2029587697883202 0.2725129223446696 1.3427008974723895
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.01681246895476521 0.007671595090857451 0.4563038963223226
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.10361620930882787 0.026837638976489483 0.2590100444275081
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.10424174416788823 0.16990138660690185 1.6298785861954153
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.05843555257290318 0.09043956767404676 1.5476805419306325
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.05982876194181249 0.06374275082174469 -1.0654198541453828
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.11004818673061675 0.02928236660063082 0.2660867704463876
RECURRENT recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.0394689605542029 0.03665460631952355 0.928694493212853
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0148
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0107
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0117
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0383
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0242
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1413
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1359
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0039
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0134
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0802
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0453
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0319
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0147
SHAP-- recurrent-newyorkcity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0174
RECURRENT NewYorkCity 40 LR 0.4938719985173595 XpVar
RECURRENT NewYorkCity 40 RF 0.5429264343034924 XpVar
RECURRENT NewYorkCity 40 LLR 0.0 XpVar
RECURRENT NewYorkCity 40 RLR 0.4939912067189895 XpVar
RECURRENT NewYorkCity 40 LR 0.20817056001248607 MSE
RECURRENT NewYorkCity 40 RF 0.1887933320105548 MSE
RECURRENT NewYorkCity 40 LLR 0.4137027988006494 MSE
RECURRENT NewYorkCity 40 RLR 0.20812135699347795 MSE
RECURRENT NewYorkCity 40 LR 0.490772135250173 R2
RECURRENT NewYorkCity 40 RF 0.5385761374345196 R2
RECURRENT NewYorkCity 40 LLR -0.00756417228435697 R2
RECURRENT NewYorkCity 40 RLR 0.49091489748490236 R2
t_spatial, t_non_spatial, "seconds" : 4.5299530029296875e-06 140.45070242881775 seconds
sorted_percentage_nan_per_column : maxspeed                         31.788079
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2265, 14) (2265,)
X.shape, Y.shape, "Inside the model-fitting function" : (2265, 14) (2265,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.02088283274285768 0.027090458010053005 -1.2972597321270243
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg -0.17670511345989906 0.024602597547023847 -0.13922968648333478
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.0358105307327096 0.024549235511302656 0.6855311833979384
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.06098720618097314 0.09484419868126451 1.5551490979899012
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.04580788620151158 0.039346124878473235 0.8589377974217655
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.23235758225603337 0.32645981017717357 1.4049888409384874
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.1938512463414854 0.2694312272529723 1.3898864842908791
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.015313244433232127 0.004191412681210076 0.273711603016932
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.05075592962642237 0.02935270813905306 0.5783109156919611
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.10082960524816154 0.15848038448198937 1.5717644048286998
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.05070984474108839 0.07633984770692978 1.5054245994382687
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.08539608528754279 0.0741440450287241 -0.86823704832685
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.027510388441134147 0.027622290010706322 1.004067611397477
RECURRENT recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.045310275834855855 0.043274136636698296 0.9550623084798964
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0134
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0122
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0123
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0473
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0194
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1623
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1341
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0021
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0143
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0748
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0377
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0368
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0134
SHAP-- recurrent-newyorkcity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0203
RECURRENT NewYorkCity 60 LR 0.4277563391114657 XpVar
RECURRENT NewYorkCity 60 RF 0.48779577637625726 XpVar
RECURRENT NewYorkCity 60 LLR -3.172065784643304e-17 XpVar
RECURRENT NewYorkCity 60 RLR 0.4278889438905103 XpVar
RECURRENT NewYorkCity 60 LR 0.27054353904403805 MSE
RECURRENT NewYorkCity 60 RF 0.24192158712170111 MSE
RECURRENT NewYorkCity 60 LLR 0.4730810448561971 MSE
RECURRENT NewYorkCity 60 RLR 0.2704930575010713 MSE
RECURRENT NewYorkCity 60 LR 0.424967254370311 R2
RECURRENT NewYorkCity 60 RF 0.48567461388032623 R2
RECURRENT NewYorkCity 60 LLR -0.006877805966927283 R2
RECURRENT NewYorkCity 60 RLR 0.42508890644424785 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 319.698139667511 seconds
sorted_percentage_nan_per_column : maxspeed                         35.560054
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2964, 14) (2964,)
X.shape, Y.shape, "Inside the model-fitting function" : (2964, 14) (2964,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.025604463737229428 0.03252653413532201 -1.2703462360755382
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg 0.09487438013253559 0.022460431893075925 0.23673864178822174
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.03752661991139926 0.03532877746354644 0.9414324430752905
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.0551476642251728 0.08774279058788051 1.5910518028400789
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.05573004315573128 0.05123663525162567 0.9193718926154553
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.2115565005618144 0.3244314351384942 1.5335451015540835
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.17204815660959963 0.24426363887521074 1.4197399361242664
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.006560733506809307 0.007295293291886088 1.1119630578371138
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.05315754412811639 0.022830120447918177 0.4294803460614115
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.1141797965637492 0.17837444083228418 1.5622241955273903
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.052858658095295843 0.08065519715523659 1.5258653938930489
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.07948682926258906 0.07236381017000514 -0.9103874294815228
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.03734072057242859 0.029721476840900284 0.7959534895222629
RECURRENT recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.04989412318314482 0.0676702149263591 1.3562762627968055
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0150
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0115
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0174
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0440
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0253
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1556
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1213
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0031
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0115
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0849
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0403
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0352
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0147
SHAP-- recurrent-newyorkcity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0334
RECURRENT NewYorkCity 70 LR 0.4028809029055127 XpVar
RECURRENT NewYorkCity 70 RF 0.46131382132539234 XpVar
RECURRENT NewYorkCity 70 LLR 0.0 XpVar
RECURRENT NewYorkCity 70 RLR 0.4029054900917056 XpVar
RECURRENT NewYorkCity 70 LR 0.3044705662091052 MSE
RECURRENT NewYorkCity 70 RF 0.2745782388136095 MSE
RECURRENT NewYorkCity 70 LLR 0.5102769159517718 MSE
RECURRENT NewYorkCity 70 RLR 0.3044562439988017 MSE
RECURRENT NewYorkCity 70 LR 0.40162441097796886 R2
RECURRENT NewYorkCity 70 RF 0.46016984534288125 R2
RECURRENT NewYorkCity 70 LLR -0.003149553360180032 R2
RECURRENT NewYorkCity 70 RLR 0.40165157954825054 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 527.4115660190582 seconds
sorted_percentage_nan_per_column : maxspeed                         38.2361
n                                 0.0000
lane_density                      0.0000
streets_per_node_proportion_6     0.0000
streets_per_node_proportion_5     0.0000
streets_per_node_proportion_4     0.0000
streets_per_node_proportion_3     0.0000
streets_per_node_proportion_2     0.0000
streets_per_node_proportion_1     0.0000
streets_per_node_count_6          0.0000
streets_per_node_count_5          0.0000
streets_per_node_count_4          0.0000
streets_per_node_count_3          0.0000
streets_per_node_count_2          0.0000
streets_per_node_count_1          0.0000
mean_lanes                        0.0000
m                                 0.0000
betweenness                       0.0000
total_crossings                   0.0000
non_metered_count                 0.0000
metered_count                     0.0000
self_loop_proportion              0.0000
circuity_avg                      0.0000
street_length_avg                 0.0000
street_segment_count              0.0000
street_length_total               0.0000
streets_per_node_avg              0.0000
edge_length_avg                   0.0000
edge_length_total                 0.0000
k_avg                             0.0000
global_betweenness                0.0000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (3651, 14) (3651,)
X.shape, Y.shape, "Inside the model-fitting function" : (3651, 14) (3651,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.02186011674103288 0.02608618860011619 -1.1933233893097512
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg -0.0906746508354094 0.027759378422429655 -0.3061426558213922
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.04592872877476439 0.02763597087098586 0.6017142561579124
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.06638741679410673 0.10331162630594287 1.5561928946015857
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.046730924650477214 0.04503267467192824 0.9636589690606168
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.22982846452295516 0.331382254846343 1.4418677666153257
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.18640981390808226 0.2512967066471748 1.3480873210414122
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 -0.0055439677859271085 0.004822587747238238 -0.869880189325769
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.11611299786110853 0.02112881724850023 0.18196771797911887
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.11326259089955797 0.17163865525677563 1.515404635313225
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.056399859638052094 0.08775599282069249 1.5559611918162455
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.07104698358835108 0.06432070216647912 -0.9053262913898739
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.03659003060725426 0.023549648833179615 0.6436083392756362
RECURRENT recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.04391373764385611 0.044036484596604544 1.0027951834513364
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0130
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0139
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0136
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0511
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0223
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1644
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1258
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0021
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0105
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0836
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0426
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0320
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0116
SHAP-- recurrent-newyorkcity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0219
RECURRENT NewYorkCity 80 LR 0.3987079262603978 XpVar
RECURRENT NewYorkCity 80 RF 0.45377477690725093 XpVar
RECURRENT NewYorkCity 80 LLR -9.516197353929913e-17 XpVar
RECURRENT NewYorkCity 80 RLR 0.398760902420989 XpVar
RECURRENT NewYorkCity 80 LR 0.31217340768834206 MSE
RECURRENT NewYorkCity 80 RF 0.2837831774593452 MSE
RECURRENT NewYorkCity 80 LLR 0.518440933131123 MSE
RECURRENT NewYorkCity 80 RLR 0.31215881120899247 MSE
RECURRENT NewYorkCity 80 LR 0.39709538873400285 R2
RECURRENT NewYorkCity 80 RF 0.45179623273428177 R2
RECURRENT NewYorkCity 80 LLR -0.002766270691130858 R2
RECURRENT NewYorkCity 80 RLR 0.39714377077760865 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 663.0909123420715 seconds
sorted_percentage_nan_per_column : maxspeed                         39.785192
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (4376, 14) (4376,)
X.shape, Y.shape, "Inside the model-fitting function" : (4376, 14) (4376,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.01798322286635558 0.021960590358193664 -1.2211710059646346
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg 0.38328157606321506 0.029236624961825358 0.07627975563584963
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.05797208905391946 0.0343773548499329 0.5929983792365797
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.05019474952371095 0.0805473717595937 1.604697155058913
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.05016151650216938 0.04998713918145749 0.9965236832362445
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.2429893655404285 0.34546549590200026 1.4217309269220748
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.17699572109679135 0.25148661289571356 1.420862670223459
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 -0.008944095214019173 0.004044314457165062 -0.45217703528311215
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 -0.06858544974646606 0.025573516252002444 -0.37287086906243033
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.12298709240525746 0.19318299592026889 1.5707582978196393
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.07075739557500937 0.11185109217135808 1.58076892545862
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.08681234290445558 0.059648721461172435 -0.6870995467409624
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n -0.12954837295061516 0.018746608476069036 -0.14470740194641724
RECURRENT recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.03900437873100134 0.04398891812232129 1.127794354210753
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0112
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0147
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0168
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0402
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0247
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1720
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1255
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0020
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0128
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0919
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0554
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0294
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0094
SHAP-- recurrent-newyorkcity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0218
RECURRENT NewYorkCity 90 LR 0.385597500497807 XpVar
RECURRENT NewYorkCity 90 RF 0.45688975334965504 XpVar
RECURRENT NewYorkCity 90 LLR 9.516197353929913e-17 XpVar
RECURRENT NewYorkCity 90 RLR 0.3856097194126873 XpVar
RECURRENT NewYorkCity 90 LR 0.3297818345156693 MSE
RECURRENT NewYorkCity 90 RF 0.29177097789389034 MSE
RECURRENT NewYorkCity 90 LLR 0.5328042454631237 MSE
RECURRENT NewYorkCity 90 RLR 0.3297730536939238 MSE
RECURRENT NewYorkCity 90 LR 0.3846098295981242 R2
RECURRENT NewYorkCity 90 RF 0.4557276547535549 R2
RECURRENT NewYorkCity 90 LLR -0.0018448875909534226 R2
RECURRENT NewYorkCity 90 RLR 0.3846214530506793 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 444.3206932544708 seconds
sorted_percentage_nan_per_column : maxspeed                         11.612903
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (465, 14) (465,)
X.shape, Y.shape, "Inside the model-fitting function" : (465, 14) (465,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.023759578967340773 0.028009662329326515 -1.178878732145371
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg 0.04626837251276817 0.024859408120105328 0.5372872822195152
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.02761069331561375 0.024600803561506526 0.890988258798806
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.06792145866927152 0.09155880745471506 1.3480100287677916
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.04141028416760194 0.05339676380731057 1.2894565898460186
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.18808455322823706 0.27176276193392906 1.4448967619587032
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.19413442126414338 0.2414037081345021 1.2434874071406592
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.033241964699222554 0.013965139785577566 0.42010572816426145
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.06192279902911575 0.028649569752781517 0.4626659356808249
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.09406543104600659 0.13738202165076097 1.4604942551485105
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.051498107699765934 0.06563089396043978 1.2744331178743113
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.10598326665134544 0.08944165405728541 -0.8439224123136608
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.10829049497226828 0.027163409184497132 0.2508383509693377
RECURRENT recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness -0.03109166141134909 0.022087488111605588 -0.710399094451196
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0134
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0124
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0123
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0456
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0267
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1313
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1205
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0069
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0141
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0645
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0328
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0446
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0135
SHAP-- recurrent-newyorkcity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0111
RECURRENT NewYorkCity 25 LR 0.534365191014125 XpVar
RECURRENT NewYorkCity 25 RF 0.6376939170271284 XpVar
RECURRENT NewYorkCity 25 LLR -4.7580986769649563e-17 XpVar
RECURRENT NewYorkCity 25 RLR 0.5368169661563016 XpVar
RECURRENT NewYorkCity 25 LR 0.1616565088443256 MSE
RECURRENT NewYorkCity 25 RF 0.12662707859576616 MSE
RECURRENT NewYorkCity 25 LLR 0.35552488210902095 MSE
RECURRENT NewYorkCity 25 RLR 0.16082101835580667 MSE
RECURRENT NewYorkCity 25 LR 0.5302557509391521 R2
RECURRENT NewYorkCity 25 RF 0.633187683152839 R2
RECURRENT NewYorkCity 25 LLR -0.02274398848983664 R2
RECURRENT NewYorkCity 25 RLR 0.5327624341027345 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 32.89994549751282 seconds
sorted_percentage_nan_per_column : maxspeed                         27.239488
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1641, 14) (1641,)
X.shape, Y.shape, "Inside the model-fitting function" : (1641, 14) (1641,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.024967667828407814 0.03396155785667037 -1.3602214708267406
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg 0.08781778293747375 0.02592052703583205 0.29516262161033446
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.028969868215099337 0.03415381691660539 1.178942778165768
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.048704676520675845 0.07304412676928865 1.4997353845124164
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.06654624410117059 0.06396472212264359 0.9612070972089379
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.21323334223903828 0.31208480910021263 1.4635835363418923
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.18679977141157272 0.24612235896527873 1.3175731271265936
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.05450832692054027 0.0047324964602864904 0.08682153218874808
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.030440963127394954 0.02345829366617666 0.7706160139547513
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.1100691238557488 0.16915698465477685 1.5368250307549074
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.06463068832308623 0.10022939346659811 1.5508018878826628
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.06287230936841062 0.06682050735021276 -1.0627970885985278
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.03227595362880979 0.028797298858355608 0.8922214720450861
RECURRENT recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.05087271041564907 0.048504875665219965 0.9534556989182803
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0161
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0130
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0165
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0366
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0320
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1530
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1231
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0024
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0119
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0815
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0498
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0332
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0141
SHAP-- recurrent-newyorkcity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0241
RECURRENT NewYorkCity 50 LR 0.4735635704946789 XpVar
RECURRENT NewYorkCity 50 RF 0.5220230742075461 XpVar
RECURRENT NewYorkCity 50 LLR -6.344131569286608e-17 XpVar
RECURRENT NewYorkCity 50 RLR 0.4735547621672133 XpVar
RECURRENT NewYorkCity 50 LR 0.24024259638149073 MSE
RECURRENT NewYorkCity 50 RF 0.2181545334513684 MSE
RECURRENT NewYorkCity 50 LLR 0.44974893837134766 MSE
RECURRENT NewYorkCity 50 RLR 0.24018871955480506 MSE
RECURRENT NewYorkCity 50 LR 0.4706247548905363 R2
RECURRENT NewYorkCity 50 RF 0.5192566143698956 R2
RECURRENT NewYorkCity 50 LLR -0.001965111779572735 R2
RECURRENT NewYorkCity 50 RLR 0.4706696945434436 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 146.1895411014557 seconds
sorted_percentage_nan_per_column : maxspeed                         42.657209
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : NewYorkCity 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (5216, 14) (5216,)
X.shape, Y.shape, "Inside the model-fitting function" : (5216, 14) (5216,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_3 -0.02769230389060267 0.03975907289408441 -1.4357444960574977
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 k_avg -0.06817310307428902 0.022208183665715177 -0.3257616664671207
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.22830168935012563 0.02853621152141638 0.12499343129105356
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_4 0.061057013181456524 0.09397146264284288 1.5390772942588473
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes 0.04239970739943439 0.03912421508725272 0.9227472897082927
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 total_crossings 0.22612852972466577 0.3261138828438234 1.4421616026995792
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 metered_count 0.1953086962548072 0.28215295330152207 1.4446512557403717
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 -0.03136987343091238 0.002668298159124387 -0.08505925804899815
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 -0.08619375055159344 0.020416390951539583 -0.23686625562625724
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.12080244994868021 0.17850700033789502 1.477676987625078
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_avg 0.06969507839720016 0.11381728335139077 1.6330749024017617
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.09309970779277528 0.06162933502319608 -0.6619713045756588
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 n 0.05342138922129603 0.02358627112260945 0.441513623408486
RECURRENT recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 betweenness 0.044728599586254386 0.05141390049555607 1.1494636758392085
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0175
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0113
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0145
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0460
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0194
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1619
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1407
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0013
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0102
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0872
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0513
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0308
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0115
SHAP-- recurrent-newyorkcity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0234
RECURRENT NewYorkCity 100 LR 0.37878362877630306 XpVar
RECURRENT NewYorkCity 100 RF 0.4449071053563919 XpVar
RECURRENT NewYorkCity 100 LLR 0.0 XpVar
RECURRENT NewYorkCity 100 RLR 0.3787909948693314 XpVar
RECURRENT NewYorkCity 100 LR 0.33717007520060605 MSE
RECURRENT NewYorkCity 100 RF 0.30146066105573516 MSE
RECURRENT NewYorkCity 100 LLR 0.5416500013973924 MSE
RECURRENT NewYorkCity 100 RLR 0.33716690976231717 MSE
RECURRENT NewYorkCity 100 LR 0.37846570424854076 R2
RECURRENT NewYorkCity 100 RF 0.4447703019563172 R2
RECURRENT NewYorkCity 100 LLR -0.0004398698996550226 R2
RECURRENT NewYorkCity 100 RLR 0.3784729269009172 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 662.8274517059326 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

