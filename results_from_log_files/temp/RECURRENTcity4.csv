Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         76.588069
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 150 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (7761, 15) (7761,)
X.shape, Y.shape, "Inside the model-fitting function" : (7761, 15) (7761,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.09090559090340464 0.16017013813131817 1.761939354219845
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 betweenness -0.03159247842434222 0.031230793232937586 -0.9885515410805519
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.0270111785165328 0.036491074722900474 1.3509619619360662
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.052828345546027625 0.14579234423206183 2.759737082908222
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 non_metered_count 0.04428627937368448 0.08575623673836172 1.9364064435116954
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 n 0.05058654705653627 0.07766130566084309 1.5352165779183875
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_3 -0.12464617948524304 0.01940755333858783 -0.1557011487936179
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.09936097075903662 0.14756852308005408 1.485175939332629
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.07561768532544182 0.06511547889878412 0.861114415477563
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 k_avg -0.034865911872107684 0.05137774193768768 -1.4735809040689185
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 0.013890916076708067 0.01622668638394413 1.168150919229339
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes 0.041916360107048356 0.035430847066400366 0.845274899249722
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 circuity_avg -0.4383323442462218 0.015440484747046204 -0.03522551997297492
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_4 0.09864298704928356 0.15258154319734585 1.546805786823079
RECURRENT recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_avg 0.09769285317933815 0.15647909597034862 1.6017455819730695
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0443
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0153
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0185
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0267
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0221
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0387
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0109
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0725
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0249
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0262
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0081
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0166
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0066
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0766
SHAP-- recurrent-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0777
RECURRENT Istanbul 150 LR 0.2659552966754285 XpVar
RECURRENT Istanbul 150 RF 0.31890173455520865 XpVar
RECURRENT Istanbul 150 LLR -3.172065784643304e-17 XpVar
RECURRENT Istanbul 150 RLR 0.2650557959376853 XpVar
RECURRENT Istanbul 150 LR 0.2824494805508138 MSE
RECURRENT Istanbul 150 RF 0.26215774897826827 MSE
RECURRENT Istanbul 150 LLR 0.38519276023718907 MSE
RECURRENT Istanbul 150 RLR 0.28279498370953127 MSE
RECURRENT Istanbul 150 LR 0.2655289370924733 R2
RECURRENT Istanbul 150 RF 0.3183346037766967 R2
RECURRENT Istanbul 150 LLR -0.0013093808108806432 R2
RECURRENT Istanbul 150 RLR 0.26463635879384195 R2
t_spatial, t_non_spatial, "seconds" : 4.0531158447265625e-06 1523.0797064304352 seconds
sorted_percentage_nan_per_column : maxspeed                         68.208092
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 75 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2768, 15) (2768,)
X.shape, Y.shape, "Inside the model-fitting function" : (2768, 15) (2768,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.0983657844206763 0.13591313238728375 1.3817114679432687
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 betweenness -0.10853628385849938 0.021225596362828877 -0.1955622176128773
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.030174467197936036 0.04398033285212894 1.4575346952650499
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.0803789568490821 0.15820427192200565 1.9682299711732612
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 non_metered_count 0.045489590967650574 0.06771165904274118 1.48850885669413
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 n 0.03529525960872791 0.05348502459186871 1.5153599997503002
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_3 0.21113233028624706 0.02055076262081896 0.09733593425960313
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.08456603371824623 0.13718267095160006 1.6221958736844613
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.0846300191735064 0.05116837660753082 0.604612607999375
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 k_avg -0.1473326607988907 0.03028077097942316 -0.20552653305268448
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 0.027972789847527057 0.016449745248806165 0.5880623755610279
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes 0.05062992782628345 0.030415080833227467 0.6007332449215566
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 circuity_avg 0.04243760334647462 0.014187471394231387 0.33431368115678406
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_4 0.07866474084641259 0.12470602231326874 1.5852848553426055
RECURRENT recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_avg 0.0797938355695974 0.13015090915720776 1.631089773140284
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0513
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0106
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0214
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0457
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0237
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0251
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0116
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0647
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0223
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0152
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0083
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0150
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0066
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0626
SHAP-- recurrent-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0643
RECURRENT Istanbul 75 LR 0.3276946109552109 XpVar
RECURRENT Istanbul 75 RF 0.39304438135928205 XpVar
RECURRENT Istanbul 75 LLR 1.586032892321652e-17 XpVar
RECURRENT Istanbul 75 RLR 0.3253850474748813 XpVar
RECURRENT Istanbul 75 LR 0.1951857534168245 MSE
RECURRENT Istanbul 75 RF 0.17591229951605095 MSE
RECURRENT Istanbul 75 LLR 0.2886977275664456 MSE
RECURRENT Istanbul 75 RLR 0.19577550868324073 MSE
RECURRENT Istanbul 75 LR 0.32547723756985797 R2
RECURRENT Istanbul 75 RF 0.3918801383544401 R2
RECURRENT Istanbul 75 LLR -0.0017109341503909509 R2
RECURRENT Istanbul 75 RLR 0.32329883995425923 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 357.5418393611908 seconds
sorted_percentage_nan_per_column : maxspeed                         57.467532
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 37 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (924, 15) (924,)
X.shape, Y.shape, "Inside the model-fitting function" : (924, 15) (924,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.10534580767699074 0.1437691445652678 1.3647353201381296
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 betweenness 0.0810245479225188 0.03292046093298365 0.40630230932561867
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.026816261176003622 0.03303646120169468 1.2319562740258947
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.07612265080602006 0.11387600499799905 1.495954276318939
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 non_metered_count 0.051471049984342314 0.06551649038891397 1.2728803941020113
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 n 0.03918110396862968 0.051310536508490046 1.3095735268095505
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_3 0.028360940802331383 0.025593246218240294 0.9024117498999338
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.05980886753386087 0.08652789246565454 1.4467401914384461
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.21476768628983184 0.04540119525132491 0.21139677032258658
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 k_avg 0.872967658497657 0.022346430007940753 0.025598233554720778
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 0.032295338947423514 0.01789171876021462 0.5540031268704799
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -6.980822511493983 0.021936430698119326 -0.003142384820986468
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 circuity_avg 0.11250209763363342 0.014987510142502413 0.13321982840986402
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_4 0.074664603089085 0.12218980121680337 1.6365157807242925
RECURRENT recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_avg 0.06342717285834627 0.10131732194260276 1.5973803872494465
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0572
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0164
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0164
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0423
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0271
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0251
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0129
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0422
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0208
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0112
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0089
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0110
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0073
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0574
SHAP-- recurrent-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0504
RECURRENT Istanbul 37 LR 0.4045462018245716 XpVar
RECURRENT Istanbul 37 RF 0.458946240193376 XpVar
RECURRENT Istanbul 37 LLR -6.344131569286608e-17 XpVar
RECURRENT Istanbul 37 RLR 0.40242422392411514 XpVar
RECURRENT Istanbul 37 LR 0.12610118350457855 MSE
RECURRENT Istanbul 37 RF 0.11502220524337947 MSE
RECURRENT Istanbul 37 LLR 0.21169630640332635 MSE
RECURRENT Istanbul 37 RLR 0.1265726402206407 MSE
RECURRENT Istanbul 37 LR 0.40006844033014943 R2
RECURRENT Istanbul 37 RF 0.45428781730777573 R2
RECURRENT Istanbul 37 LLR -0.005030892171179342 R2
RECURRENT Istanbul 37 RLR 0.3980157530078718 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 74.59210848808289 seconds
sorted_percentage_nan_per_column : maxspeed                         75.199278
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 135 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (6649, 15) (6649,)
X.shape, Y.shape, "Inside the model-fitting function" : (6649, 15) (6649,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.10323428281552896 0.17296545353652698 1.6754652506822931
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 betweenness -0.030848253424929334 0.027144406688300177 -0.8799333406138328
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.028749521074053107 0.039540637098125386 1.3753494187355848
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.05470194609577231 0.14273135911135762 2.609255598721537
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 non_metered_count 0.050483500177590616 0.09241208719319101 1.8305404115820854
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 n 0.043199381792787504 0.06673775639468504 1.5448775798413732
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_3 -0.32787189512178416 0.016259855463335873 -0.04959209894247368
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.09666260834262685 0.14867333781141645 1.5380646183727447
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.07660887882353988 0.06304348527633083 0.8229266143098708
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 k_avg -0.027084705653088643 0.033412061822730196 -1.2336136213066065
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 0.015254116317553305 0.011509078818848311 0.754490039229904
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes 0.043601516885782336 0.03784692731180224 0.8680185923564379
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 circuity_avg -0.13021942172997256 0.015182808327402538 -0.11659403893595939
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_4 0.09971539880922192 0.15294049330373335 1.5337700608944367
RECURRENT recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 streets_per_node_avg 0.08793463009104206 0.1393734513462268 1.5849665962309523
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0501
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0136
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0193
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0285
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0255
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0333
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0092
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0727
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0251
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0171
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0059
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0175
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0069
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0767
SHAP-- recurrent-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0692
RECURRENT Istanbul 135 LR 0.2743524364779813 XpVar
RECURRENT Istanbul 135 RF 0.3300544340997499 XpVar
RECURRENT Istanbul 135 LLR 3.172065784643304e-17 XpVar
RECURRENT Istanbul 135 RLR 0.27335801143955923 XpVar
RECURRENT Istanbul 135 LR 0.26656446200129186 MSE
RECURRENT Istanbul 135 RF 0.24612497768023328 MSE
RECURRENT Istanbul 135 LLR 0.36758902654041714 MSE
RECURRENT Istanbul 135 RLR 0.2669011350424203 MSE
RECURRENT Istanbul 135 LR 0.2740581050059524 R2
RECURRENT Istanbul 135 RF 0.3296816717272044 R2
RECURRENT Istanbul 135 LLR -0.0009082222163111021 R2
RECURRENT Istanbul 135 RLR 0.2730645787103095 R2
t_spatial, t_non_spatial, "seconds" : 4.0531158447265625e-06 1165.0167503356934 seconds
sorted_percentage_nan_per_column : maxspeed                         74.101366
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 120 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (5564, 15) (5564,)
X.shape, Y.shape, "Inside the model-fitting function" : (5564, 15) (5564,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
