X.shape, Y.shape, "Inside the model-fitting function" : (274, 14) (274,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.0035582055119664064 0.0055721194835651935 1.5659914709327225
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.00035655948088492216 0.0007914490047631943 2.219682962289904
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.0050459339146697955 0.004188772752540492 0.8301283416262506
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.002155086106803415 0.003910785903997436 1.8146773308274935
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.007844325326713137 0.006001862607212702 -0.7651215824481303
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.005890226837771535 0.002812046185049615 0.4774088099658831
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.007540330540773399 0.01226778675858508 1.6269560985753277
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness 0.006881108393789087 0.004034751503657542 0.5863519759838871
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.004032863389174037 0.003285850649642209 0.8147686476221496
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.006195488420226591 0.00896526428328994 1.4470633588823734
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.012054545004236592 0.0043950446636029745 -0.36459647892627456
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.0036230678845441504 0.004765189308954422 1.3152359991052092
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.012915670407716089 0.0032170269790557414 -0.2490793646401679
NON-RECURRENT-MMM non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.005918376018190831 0.009585368148646465 1.619594314248486
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0027
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0002
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0021
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0017
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0030
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0014
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0059
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0020
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0016
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0045
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0023
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0023
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0016
SHAP-- non-recurrent-mmm-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0044
NON-RECURRENT-MMM Capetown 20 LR 0.19202224488920125 XpVar
NON-RECURRENT-MMM Capetown 20 RF 0.15928710890857078 XpVar
NON-RECURRENT-MMM Capetown 20 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Capetown 20 RLR 0.19746905784731092 XpVar
NON-RECURRENT-MMM Capetown 20 LR 0.0014235349779548856 MSE
NON-RECURRENT-MMM Capetown 20 RF 0.0015329236105338228 MSE
NON-RECURRENT-MMM Capetown 20 LLR 0.001833950871981486 MSE
NON-RECURRENT-MMM Capetown 20 RLR 0.0014103144195280262 MSE
NON-RECURRENT-MMM Capetown 20 LR 0.15232825130289726 R2
NON-RECURRENT-MMM Capetown 20 RF 0.1237819639387373 R2
NON-RECURRENT-MMM Capetown 20 LLR -0.03159852709817525 R2
NON-RECURRENT-MMM Capetown 20 RLR 0.15726024990461204 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 45.43214774131775 seconds
sorted_percentage_nan_per_column : maxspeed                         2.857143
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (525, 14) (525,)
X.shape, Y.shape, "Inside the model-fitting function" : (525, 14) (525,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.0053158719027925835 0.007327987924657803 1.378511006032368
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.00032999680395911075 0.0009502168754618464 2.8794729647732766
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.004999023641498594 0.0035588736933007004 0.7119137552695852
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.0024769871726650233 0.0010779978156511248 0.4352052475472825
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.008472141600693503 0.00847248275634517 -1.000040267935517
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.04636936994909812 0.003791068903959656 0.08175804217571414
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.0038220679331281648 0.005792303629159156 1.5154894498221163
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.006597145135660155 0.004843585698885169 -0.7341942005646791
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.004085137425631118 0.0044893998987314675 1.098959332570775
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.0076542582059021145 0.010615918743607367 1.3869297922849726
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.00503978878199749 0.005713903176865353 -1.1337584617188425
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.004748733147389422 0.006710113602749049 1.4130323592594123
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.015285144314671333 0.003858582989655737 -0.25244007581610495
NON-RECURRENT-MMM non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.006615095927897744 0.009551654154530475 1.4439177086228527
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0037
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0001
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0018
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0042
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0019
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0028
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0023
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0023
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0052
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0028
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0034
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0019
SHAP-- non-recurrent-mmm-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0046
NON-RECURRENT-MMM Capetown 30 LR 0.19256718654654628 XpVar
NON-RECURRENT-MMM Capetown 30 RF 0.15180670881299627 XpVar
NON-RECURRENT-MMM Capetown 30 LLR 1.586032892321652e-17 XpVar
NON-RECURRENT-MMM Capetown 30 RLR 0.19361684894594441 XpVar
NON-RECURRENT-MMM Capetown 30 LR 0.0015417128096934525 MSE
NON-RECURRENT-MMM Capetown 30 RF 0.0016075730583741748 MSE
NON-RECURRENT-MMM Capetown 30 LLR 0.0019308650733185254 MSE
NON-RECURRENT-MMM Capetown 30 RLR 0.0015393773966637138 MSE
NON-RECURRENT-MMM Capetown 30 LR 0.1720064607114715 R2
NON-RECURRENT-MMM Capetown 30 RF 0.13345964546793587 R2
NON-RECURRENT-MMM Capetown 30 LLR -0.025295627869690276 R2
NON-RECURRENT-MMM Capetown 30 RLR 0.1730223858451623 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 43.77884912490845 seconds
sorted_percentage_nan_per_column : maxspeed                         3.785104
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (819, 14) (819,)
X.shape, Y.shape, "Inside the model-fitting function" : (819, 14) (819,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.004744617996875015 0.0057553025009073455 1.2130170447226742
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.00019998088006284366 0.0005108454494571767 2.5544714539542195
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.006204518429496597 0.005160770623654168 0.8317761776836057
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.0017609358729285614 0.003174809773618829 1.802910499142081
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.010536720002230535 0.0079679220529838 -0.7562051616914047
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.012235119332328202 0.003486114533783521 -0.2849268927498195
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.00529486301643534 0.00836197148510882 1.5792611554166984
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.006151679541270016 0.005663436041529706 -0.9206324880116379
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.006046920753528583 0.0033051596470483075 0.5465855733465061
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.007734552927763579 0.012524831148321668 1.619334855588503
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.004951546289261225 0.006407716865005899 -1.2940840074347637
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.0038623453161638686 0.004516603581679138 1.1693940370316467
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.01321260221173031 0.0049865912477075145 -0.3774117443178875
NON-RECURRENT-MMM non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.007315471659820515 0.0106261354853179 1.452556441942202
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0029
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0001
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0026
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0011
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0040
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0018
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0036
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0027
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0017
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0062
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0032
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0023
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0025
SHAP-- non-recurrent-mmm-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0051
NON-RECURRENT-MMM Capetown 40 LR 0.18253704663188192 XpVar
NON-RECURRENT-MMM Capetown 40 RF 0.16182852470660555 XpVar
NON-RECURRENT-MMM Capetown 40 LLR 0.0 XpVar
NON-RECURRENT-MMM Capetown 40 RLR 0.18317455544668176 XpVar
NON-RECURRENT-MMM Capetown 40 LR 0.0018489844038944148 MSE
NON-RECURRENT-MMM Capetown 40 RF 0.0018844001512944286 MSE
NON-RECURRENT-MMM Capetown 40 LLR 0.0022365922156863355 MSE
NON-RECURRENT-MMM Capetown 40 RLR 0.0018462987748623621 MSE
NON-RECURRENT-MMM Capetown 40 LR 0.17789784239625336 R2
NON-RECURRENT-MMM Capetown 40 RF 0.1591796225740955 R2
NON-RECURRENT-MMM Capetown 40 LLR -0.004831518354274866 R2
NON-RECURRENT-MMM Capetown 40 RLR 0.17853296040361127 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 166.45519399642944 seconds
sorted_percentage_nan_per_column : maxspeed                         4.64499
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1507, 14) (1507,)
X.shape, Y.shape, "Inside the model-fitting function" : (1507, 14) (1507,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.004457981675855016 0.006016927130241189 1.3496975913628395
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0001395049977546351 0.0001273747441867139 0.9130478924543177
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.006502614927943466 0.005752091852632444 0.8845813440242594
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.001845453711574085 0.004419809885120355 2.3949719558939604
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.009069348315559332 0.010374022883492623 -1.1438553821662134
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.008360509077550931 0.00368430315347761 0.4406792839171061
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.005068806823985621 0.00834092719406505 1.6455405549479096
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.00420993547912698 0.005049877361139815 -1.1995141935493545
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.005393147384629912 0.0055328527029283 1.0259042277792256
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.008203905522141472 0.011228453886874063 1.3686717693871115
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.003602259655832679 0.005135671231234901 -1.4256804677917552
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.0027935493098510808 0.003923468394208008 1.404474365414785
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.02604211893155709 0.004225798618882181 -0.16226784886392173
NON-RECURRENT-MMM non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.004551030855015321 0.007618462892604336 1.6740081830490443
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0030
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0000
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0029
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0009
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0050
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0019
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0033
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0025
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0028
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0051
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0026
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0020
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0021
SHAP-- non-recurrent-mmm-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0032
NON-RECURRENT-MMM Capetown 60 LR 0.10138015752754127 XpVar
NON-RECURRENT-MMM Capetown 60 RF 0.10037857090767881 XpVar
NON-RECURRENT-MMM Capetown 60 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Capetown 60 RLR 0.10143386410607434 XpVar
NON-RECURRENT-MMM Capetown 60 LR 0.0030424063367513322 MSE
NON-RECURRENT-MMM Capetown 60 RF 0.0030242978231187754 MSE
NON-RECURRENT-MMM Capetown 60 LLR 0.0033364586641679247 MSE
NON-RECURRENT-MMM Capetown 60 RLR 0.003041215318294149 MSE
NON-RECURRENT-MMM Capetown 60 LR 0.09283667608108014 R2
NON-RECURRENT-MMM Capetown 60 RF 0.09215882932500521 R2
NON-RECURRENT-MMM Capetown 60 LLR -0.008220565301648719 R2
NON-RECURRENT-MMM Capetown 60 RLR 0.09296011598288882 R2
t_spatial, t_non_spatial, "seconds" : 3.0994415283203125e-06 192.28042221069336 seconds
sorted_percentage_nan_per_column : maxspeed                         5.083829
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1849, 14) (1849,)
X.shape, Y.shape, "Inside the model-fitting function" : (1849, 14) (1849,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.004386523504200657 0.005594439144380783 1.2753696951636968
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0001398535519529074 0.00030836707949362494 2.204928478308944
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.005724975916052968 0.005441365106868731 0.9504607856272398
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.003235706796459645 0.0028785460742327892 0.8896189473602356
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.007949758848696925 0.005662798714148468 -0.7123233323079579
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 6.194229446935825 0.003968565510170181 0.0006406875212111103
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.0032111173108230924 0.005627169768252456 1.7524024268082772
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.005204639471436336 0.0038923745224396346 -0.7478663111636141
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.006797647888385611 0.004944156098160098 0.7273333628544707
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.007784821218089618 0.012461773845192266 1.6007784245879397
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.004466864147156634 0.00522131991000567 -1.1689005391689116
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.0033374767077680727 0.0033145083285105598 0.9931180405831588
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.005196938600709583 0.002926910553187133 -0.563198986570189
NON-RECURRENT-MMM non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.005671493775314294 0.009331476634681809 1.6453296088056961
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0027
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0000
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0027
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0008
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0028
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0019
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0021
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0019
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0023
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0059
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0026
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0015
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0015
SHAP-- non-recurrent-mmm-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0038
NON-RECURRENT-MMM Capetown 70 LR 0.09489080049789235 XpVar
NON-RECURRENT-MMM Capetown 70 RF 0.07903663875297227 XpVar
NON-RECURRENT-MMM Capetown 70 LLR 7.930164461608261e-17 XpVar
NON-RECURRENT-MMM Capetown 70 RLR 0.09476359716072882 XpVar
NON-RECURRENT-MMM Capetown 70 LR 0.0033943519626480822 MSE
NON-RECURRENT-MMM Capetown 70 RF 0.003454908742024665 MSE
NON-RECURRENT-MMM Capetown 70 LLR 0.0036998480530810044 MSE
NON-RECURRENT-MMM Capetown 70 RLR 0.0033939418013264723 MSE
NON-RECURRENT-MMM Capetown 70 LR 0.09078099394070373 R2
NON-RECURRENT-MMM Capetown 70 RF 0.07463182724909032 R2
NON-RECURRENT-MMM Capetown 70 LLR -0.006618899016365872 R2
NON-RECURRENT-MMM Capetown 70 RLR 0.09064152423655039 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 144.46923208236694 seconds
sorted_percentage_nan_per_column : maxspeed                         5.456172
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2236, 14) (2236,)
X.shape, Y.shape, "Inside the model-fitting function" : (2236, 14) (2236,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.0036808316161591713 0.0043099582798876105 1.1709197076460978
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.00013797863161386627 0.0001111198297219993 0.8053408591046806
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.00534315516591064 0.005484311358555777 1.0264181346530443
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.0014035817634002697 0.0028499872180322637 2.030510293271395
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.007895196406012724 0.009261537656737364 -1.1730598176992886
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.01662465036258287 0.0033646674441380163 0.20239026811119465
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.005765287321320448 0.011173707042657657 1.9381006392060434
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.005943437779969074 0.005907174325672063 -0.9938985725703686
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.005679572586209266 0.0061228794385379415 1.0780528544357513
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.006463964029904883 0.009944308053161762 1.5384225542028722
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.0036527899782419515 0.004999485813504113 -1.368675955443327
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.0037051255664182123 0.0037612348191093294 1.0151436845216986
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.00804319402978302 0.004184906976099235 -0.5203041180659085
NON-RECURRENT-MMM non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.006302982289687708 0.01103899644774332 1.7513925853487153
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0021
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0000
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0027
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0008
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0046
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0017
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0039
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0028
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0029
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0050
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0025
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0018
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0021
SHAP-- non-recurrent-mmm-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0045
NON-RECURRENT-MMM Capetown 80 LR 0.09785937740241855 XpVar
NON-RECURRENT-MMM Capetown 80 RF 0.09430672533750813 XpVar
NON-RECURRENT-MMM Capetown 80 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Capetown 80 RLR 0.0977432039366586 XpVar
NON-RECURRENT-MMM Capetown 80 LR 0.00425498001913206 MSE
NON-RECURRENT-MMM Capetown 80 RF 0.004246414713260841 MSE
NON-RECURRENT-MMM Capetown 80 LLR 0.004571987206726888 MSE
NON-RECURRENT-MMM Capetown 80 RLR 0.004254386260342505 MSE
NON-RECURRENT-MMM Capetown 80 LR 0.09382675502513267 R2
NON-RECURRENT-MMM Capetown 80 RF 0.09046318485510647 R2
NON-RECURRENT-MMM Capetown 80 LLR -0.002273659460798129 R2
NON-RECURRENT-MMM Capetown 80 RLR 0.09373106757203027 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 183.30849361419678 seconds
sorted_percentage_nan_per_column : maxspeed                         5.319556
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2613, 14) (2613,)
X.shape, Y.shape, "Inside the model-fitting function" : (2613, 14) (2613,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.003950713675538696 0.005565904242994705 1.4088351371694308
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.00010467706351634399 0.00013533711349308255 1.2929013190358687
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.008072088218350601 0.006183226097360617 0.7660008079822569
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.006703876803185232 0.02383374365719974 3.5552180263628275
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.013021002143906701 0.007195173572112138 -0.5525821663027055
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.009691043927123668 0.004104960738310127 0.42358292555263366
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.0056099901935292695 0.008755458627475423 1.5606905405243365
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.0035289719293519046 0.004560262882038895 -1.2922355216569792
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.007473959143611119 0.005279256496295613 0.7063534058529636
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.006865581195256838 0.011045566921436843 1.6088320285350048
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.003764994495949 0.005390865427153283 -1.4318388600444603
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.0027039929146226434 0.003914257715395981 1.4475843092000988
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.008182587994250886 0.004257889478992247 -0.52035975439358
NON-RECURRENT-MMM non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.004567788352410255 0.007472915792615401 1.6360030754647852
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0027
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0000
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0031
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0017
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0036
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0021
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0039
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0023
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0026
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0054
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0026
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0019
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0021
SHAP-- non-recurrent-mmm-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0027
NON-RECURRENT-MMM Capetown 90 LR 0.05604801584331942 XpVar
NON-RECURRENT-MMM Capetown 90 RF 0.014661079388425773 XpVar
NON-RECURRENT-MMM Capetown 90 LLR 1.2688263138573217e-16 XpVar
NON-RECURRENT-MMM Capetown 90 RLR 0.056098768241110944 XpVar
NON-RECURRENT-MMM Capetown 90 LR 0.00590947847743937 MSE
NON-RECURRENT-MMM Capetown 90 RF 0.006017523814799546 MSE
NON-RECURRENT-MMM Capetown 90 LLR 0.00618837543796667 MSE
NON-RECURRENT-MMM Capetown 90 RLR 0.005908956983674452 MSE
NON-RECURRENT-MMM Capetown 90 LR 0.05173864028560225 R2
NON-RECURRENT-MMM Capetown 90 RF 0.008216932762901188 R2
NON-RECURRENT-MMM Capetown 90 LLR -0.004507383875856189 R2
NON-RECURRENT-MMM Capetown 90 RLR 0.05178538860571042 R2
t_spatial, t_non_spatial, "seconds" : 4.0531158447265625e-06 256.99969935417175 seconds
sorted_percentage_nan_per_column : maxspeed                         2.325581
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (387, 14) (387,)
X.shape, Y.shape, "Inside the model-fitting function" : (387, 14) (387,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.005169799797428639 0.007487122869954862 1.4482423233640143
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0002863311552691401 0.00033657531584007695 1.1754757023339262
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.0035386321914205403 0.004373084618561876 1.2358121392679569
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count -0.002104306465007104 0.0007554987094637531 -0.35902503842813727
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.009391182168628548 0.008791204116526724 -0.9361126169923459
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.0046435378226719285 0.0029497402337881904 0.6352355351529981
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.00517314607936863 0.00862874274638669 1.6679874517364892
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness 0.005298795355412854 0.0024664297869399394 0.46546990806512634
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.003643141657761517 0.004041306254205051 1.1092915493953592
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.006453175647519776 0.009108806909609128 1.4115231642749446
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.004770555599639719 0.004448761338768669 -0.9325457477331671
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.0031623453667909904 0.004309313665480154 1.3626954572178993
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes 0.053987540687615236 0.0026175623329005543 0.04848456328185781
NON-RECURRENT-MMM non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.007126594341601879 0.011359962994836555 1.594024080832293
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0037
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0001
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0022
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0004
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0042
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0015
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0039
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0012
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0020
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0045
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0023
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0021
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0013
SHAP-- non-recurrent-mmm-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0051
NON-RECURRENT-MMM Capetown 25 LR 0.14046085555934304 XpVar
NON-RECURRENT-MMM Capetown 25 RF 0.13524922527040964 XpVar
NON-RECURRENT-MMM Capetown 25 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Capetown 25 RLR 0.14089349376756735 XpVar
NON-RECURRENT-MMM Capetown 25 LR 0.0016050718367766124 MSE
NON-RECURRENT-MMM Capetown 25 RF 0.0016578443607072103 MSE
NON-RECURRENT-MMM Capetown 25 LLR 0.001962621638130641 MSE
NON-RECURRENT-MMM Capetown 25 RLR 0.0016044948175688958 MSE
NON-RECURRENT-MMM Capetown 25 LR 0.09218532674877429 R2
NON-RECURRENT-MMM Capetown 25 RF 0.08504989029652668 R2
NON-RECURRENT-MMM Capetown 25 LLR -0.05395721129961343 R2
NON-RECURRENT-MMM Capetown 25 RLR 0.09059790362304142 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 47.10328769683838 seconds
sorted_percentage_nan_per_column : maxspeed                         4.174067
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1126, 14) (1126,)
X.shape, Y.shape, "Inside the model-fitting function" : (1126, 14) (1126,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.003080087419642503 0.004048195179876743 1.3143117802632385
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0001626436394574878 0.000937842115559248 5.766239114468313
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.004844835092470093 0.003080685358450392 0.6358700140771425
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.0031991529057673242 0.005215309976019663 1.6302159132868201
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.009629624411271381 0.008318152275297114 -0.8638085889996704
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.0462690247137632 0.0031186150081114715 -0.06740178828934354
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.0060705436181536735 0.008163892506409844 1.3448371381429678
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.005076908272415467 0.005990374914691207 -1.1799257723916166
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.004361879751512277 0.004107924432546352 0.9417784685884847
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.007232246453829875 0.011563931161708826 1.5989404171348565
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.0036597472381333742 0.00520421243688341 -1.4220141715409227
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.003460972127648774 0.005252064568569756 1.51751137393232
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.009841565581087543 0.0030754423875642314 -0.3124952389154714
NON-RECURRENT-MMM non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.009569005573705556 0.014123145118061405 1.4759261042620837
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0020
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0001
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0015
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0011
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0041
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0016
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0040
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0026
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0020
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0058
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0026
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0026
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0015
SHAP-- non-recurrent-mmm-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0063
NON-RECURRENT-MMM Capetown 50 LR 0.11586089097876037 XpVar
NON-RECURRENT-MMM Capetown 50 RF 0.1308453834883598 XpVar
NON-RECURRENT-MMM Capetown 50 LLR -4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Capetown 50 RLR 0.11661613344889434 XpVar
NON-RECURRENT-MMM Capetown 50 LR 0.0030307854998687317 MSE
NON-RECURRENT-MMM Capetown 50 RF 0.00298686968595566 MSE
NON-RECURRENT-MMM Capetown 50 LLR 0.0033776463465280365 MSE
NON-RECURRENT-MMM Capetown 50 RLR 0.0030275426678064462 MSE
NON-RECURRENT-MMM Capetown 50 LR 0.11442822295816843 R2
NON-RECURRENT-MMM Capetown 50 RF 0.12919675662461366 R2
NON-RECURRENT-MMM Capetown 50 LLR -0.004749035842499971 R2
NON-RECURRENT-MMM Capetown 50 RLR 0.11518355696970409 R2
t_spatial, t_non_spatial, "seconds" : 3.0994415283203125e-06 128.93602919578552 seconds
sorted_percentage_nan_per_column : maxspeed                         5.921938
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2972, 14) (2972,)
X.shape, Y.shape, "Inside the model-fitting function" : (2972, 14) (2972,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 50}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.005781743851048352 0.006308619488860991 1.091127461088942
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0002828394090792643 0.00030586979612027686 1.0814256652422805
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 n 0.007198240249797989 0.00588341387440534 0.8173405818971452
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 non_metered_count 0.0049770312395663865 0.012551039850552203 2.5217924594834744
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 circuity_avg -0.01160566401294029 0.009526253840366181 -0.8208279879328257
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.039315465165170385 0.005171247619354809 -0.13153214892993365
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.008697132725317157 0.014334092849631518 1.6481400597584646
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.015078243566922542 0.005418431151839787 -0.35935426615115257
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_3 0.009098621600827105 0.006777507523844276 0.7448938774669088
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.008994963124141624 0.01239613813799132 1.378119950789044
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 k_avg -0.015082396158689435 0.009545920188547056 -0.6329180117077986
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_2 0.010485818561040885 0.005942804450756739 0.5667468320343338
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 mean_lanes -0.020224794664867977 0.00771888383825427 -0.3816544971733416
NON-RECURRENT-MMM non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 metered_count 0.007091051153332064 0.009582365777535533 1.351332203129406
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0030
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0001
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0030
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0024
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0048
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0026
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0050
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0027
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0034
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0062
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0045
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0029
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0038
SHAP-- non-recurrent-mmm-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0037
NON-RECURRENT-MMM Capetown 100 LR 0.0342219360175996 XpVar
NON-RECURRENT-MMM Capetown 100 RF -0.2090926912323635 XpVar
NON-RECURRENT-MMM Capetown 100 LLR -6.344131569286608e-17 XpVar
NON-RECURRENT-MMM Capetown 100 RLR 0.03423107960747323 XpVar
NON-RECURRENT-MMM Capetown 100 LR 0.0068734854168695046 MSE
NON-RECURRENT-MMM Capetown 100 RF 0.007494138834490698 MSE
NON-RECURRENT-MMM Capetown 100 LLR 0.007255826444341903 MSE
NON-RECURRENT-MMM Capetown 100 RLR 0.00687306991613893 MSE
NON-RECURRENT-MMM Capetown 100 LR 0.031209840856359885 R2
NON-RECURRENT-MMM Capetown 100 RF -0.21607547979451594 R2
NON-RECURRENT-MMM Capetown 100 LLR -0.002868154430271362 R2
NON-RECURRENT-MMM Capetown 100 RLR 0.031219240570546085 R2
t_spatial, t_non_spatial, "seconds" : 6.198883056640625e-06 334.63600420951843 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

