X.shape, Y.shape, "Inside the model-fitting function" : (206, 14) (206,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.008039065543341287 0.012680580744212072 1.5773699910576455
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.019721927695566775 0.027458682029268294 1.3922919936188913
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.00831644284257001 0.011078899899873245 1.3321681047530123
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.01838751925299821 0.005139532851515665 -0.2795120310031833
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.016808224646817607 0.006296357345074815 -0.374599785365609
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.008867384150255871 0.010299956208736692 -1.1615552043540918
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.004661483581437336 0.005762456188593873 1.236185023055913
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.01271202726904194 0.015530049753489258 -1.2216815952959879
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0016194660934119418 0.0013863190196391234 -0.8560346062685285
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.008955518235657775 0.013006711609121554 1.4523683908468108
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.010037217410501854 0.01362700126740856 1.357647314996958
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.00980605900861492 0.014842542129917684 1.5136093018487917
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.007452098611105214 0.00954136143040322 1.280358987223352
NON-RECURRENT-MMM non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.004291644082230446 0.006872271308721721 1.6013143627581705
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0063
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0128
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0054
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0026
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0031
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0052
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0029
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0078
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0007
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0065
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0068
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0074
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0042
SHAP-- non-recurrent-mmm-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0029
NON-RECURRENT-MMM Auckland 20 LR 0.45619840440365395 XpVar
NON-RECURRENT-MMM Auckland 20 RF 0.4200430569963337 XpVar
NON-RECURRENT-MMM Auckland 20 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Auckland 20 RLR 0.44149400150517604 XpVar
NON-RECURRENT-MMM Auckland 20 LR 0.0030046523553225596 MSE
NON-RECURRENT-MMM Auckland 20 RF 0.003173565957111215 MSE
NON-RECURRENT-MMM Auckland 20 LLR 0.0053451579056125065 MSE
NON-RECURRENT-MMM Auckland 20 RLR 0.0030886217880676707 MSE
NON-RECURRENT-MMM Auckland 20 LR 0.4455423474388617 R2
NON-RECURRENT-MMM Auckland 20 RF 0.40887154938511727 R2
NON-RECURRENT-MMM Auckland 20 LLR -0.03210286703353615 R2
NON-RECURRENT-MMM Auckland 20 RLR 0.4277213199157513 R2
t_spatial, t_non_spatial, "seconds" : 8.821487426757812e-06 32.2437698841095 seconds
sorted_percentage_nan_per_column : maxspeed                         4.938272
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (405, 14) (405,)
X.shape, Y.shape, "Inside the model-fitting function" : (405, 14) (405,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.005579223787817566 0.0070620580864311135 1.2657778850619632
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.0072408753774561175 0.01238588208213313 1.7105503736047682
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.006513115947201115 0.008576856256355701 1.3168591386802255
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.005607261340503219 0.006490476344699533 -1.1575127233354618
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.010203753251560524 0.008414353285000826 -0.8246331597359987
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.011381467002745555 0.016035892593544245 -1.4089477735757527
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.007051278163740584 0.011427960573267644 1.620693483918
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.013583751590277578 0.016813725075880175 -1.2377821372936777
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.0013418277736143558 0.0010919357988781 0.8137674747459243
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.011252712086561126 0.015583470522840386 1.3848635247187557
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.022752967497407236 0.02938310983733615 1.291396818489036
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.011003144741834428 0.016229804557533353 1.4750150923514567
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.008807152842215548 0.011561443013150227 1.31273332259348
NON-RECURRENT-MMM non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.0019723218998346447 0.0041913304076292655 2.1250742122676107
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0035
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0048
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0042
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0032
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0041
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0076
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0050
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0082
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0074
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0148
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0080
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0058
SHAP-- non-recurrent-mmm-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0013
NON-RECURRENT-MMM Auckland 30 LR 0.37429518854405913 XpVar
NON-RECURRENT-MMM Auckland 30 RF 0.38977483463148116 XpVar
NON-RECURRENT-MMM Auckland 30 LLR -1.586032892321652e-17 XpVar
NON-RECURRENT-MMM Auckland 30 RLR 0.36540237005340753 XpVar
NON-RECURRENT-MMM Auckland 30 LR 0.003790820027845966 MSE
NON-RECURRENT-MMM Auckland 30 RF 0.0037060297008507177 MSE
NON-RECURRENT-MMM Auckland 30 LLR 0.0059824870591216675 MSE
NON-RECURRENT-MMM Auckland 30 RLR 0.0038539227766326567 MSE
NON-RECURRENT-MMM Auckland 30 LR 0.37016477692273514 R2
NON-RECURRENT-MMM Auckland 30 RF 0.3852496989650841 R2
NON-RECURRENT-MMM Auckland 30 LLR -0.004344120356062099 R2
NON-RECURRENT-MMM Auckland 30 RLR 0.35965475122130436 R2
t_spatial, t_non_spatial, "seconds" : 2.384185791015625e-06 73.52082014083862 seconds
sorted_percentage_nan_per_column : maxspeed                         5.66343
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (618, 14) (618,)
X.shape, Y.shape, "Inside the model-fitting function" : (618, 14) (618,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.008278633754386509 0.011955446073012573 1.4441327431205508
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.016142549155837495 0.028249544357386674 1.7500051624232489
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.008022717452563739 0.005702158353621289 0.7107514863058162
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.004806287878308128 0.006820298863392974 -1.419036694446568
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.012275369047684637 0.008191319401072266 -0.6672972005364923
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.010702529387662248 0.01655479027833738 -1.5468110087528983
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.0037440858838194524 0.004865069665979927 1.2994011934942384
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.01459399165120712 0.017192055707061484 -1.1780228547437512
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0011181104290469521 0.0017682996351843514 -1.5815071474573432
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.011622880624393903 0.013355357187832886 1.1490574169541836
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.014657744219676663 0.020526683756943033 1.400398550370927
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.013111507064772621 0.020804284180182125 1.5867195187712704
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.006305098376813741 0.00867414699726523 1.3757353936242116
NON-RECURRENT-MMM non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.0014350494381409533 0.0035428636465587235 2.468809472618836
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0059
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0110
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0029
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0034
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0039
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0082
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0024
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0086
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0008
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0063
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0101
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0102
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0043
SHAP-- non-recurrent-mmm-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0009
NON-RECURRENT-MMM Auckland 40 LR 0.3583207969377164 XpVar
NON-RECURRENT-MMM Auckland 40 RF 0.3448011203151193 XpVar
NON-RECURRENT-MMM Auckland 40 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Auckland 40 RLR 0.35541502478609216 XpVar
NON-RECURRENT-MMM Auckland 40 LR 0.004377445839790858 MSE
NON-RECURRENT-MMM Auckland 40 RF 0.0044524610245633865 MSE
NON-RECURRENT-MMM Auckland 40 LLR 0.006706176701440004 MSE
NON-RECURRENT-MMM Auckland 40 RLR 0.004392083674753226 MSE
NON-RECURRENT-MMM Auckland 40 LR 0.35437350263194417 R2
NON-RECURRENT-MMM Auckland 40 RF 0.3399595799609957 R2
NON-RECURRENT-MMM Auckland 40 LLR -0.01623474082395179 R2
NON-RECURRENT-MMM Auckland 40 RLR 0.3511091864442401 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 49.37479066848755 seconds
sorted_percentage_nan_per_column : maxspeed                         5.136986
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1168, 14) (1168,)
X.shape, Y.shape, "Inside the model-fitting function" : (1168, 14) (1168,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.012309419541403832 0.012673101134268092 1.0295449831440862
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.013573277258145453 0.026316149938441565 1.938820628057899
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.009833116421122888 0.0071534137733619595 0.7274818548873724
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.010286822026824896 0.012131941301373232 -1.1793672788094154
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.02074378984626151 0.012417770734647511 -0.5986259418688369
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.014083736154828901 0.021315148733751708 -1.51345839622559
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.005389000101809271 0.007633909618654398 1.4165725504609723
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.013780396679271441 0.016212633659448757 -1.1764997798529198
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0023978065876860215 0.0009907444601845814 -0.41318781309241837
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.016669263176126006 0.023660363508026975 1.419400681243892
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.014857838328092891 0.02118554838166157 1.4258836254533995
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.0120117646638565 0.01786340448905561 1.4871590468973093
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.0071480156166587325 0.0062232407699234545 0.8706249543467626
NON-RECURRENT-MMM non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.0008695177678403506 0.0024067218707827555 2.767881186327461
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0064
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0094
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0038
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0057
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0060
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0101
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0035
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0080
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0109
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0103
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0087
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0031
SHAP-- non-recurrent-mmm-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0004
NON-RECURRENT-MMM Auckland 60 LR 0.29676539605889724 XpVar
NON-RECURRENT-MMM Auckland 60 RF 0.32175093611110445 XpVar
NON-RECURRENT-MMM Auckland 60 LLR 0.0 XpVar
NON-RECURRENT-MMM Auckland 60 RLR 0.2966405404542112 XpVar
NON-RECURRENT-MMM Auckland 60 LR 0.005189087842183561 MSE
NON-RECURRENT-MMM Auckland 60 RF 0.004990686295263445 MSE
NON-RECURRENT-MMM Auckland 60 LLR 0.007384676023076279 MSE
NON-RECURRENT-MMM Auckland 60 RLR 0.005190370434399884 MSE
NON-RECURRENT-MMM Auckland 60 LR 0.2954848722643072 R2
NON-RECURRENT-MMM Auckland 60 RF 0.3186730406070755 R2
NON-RECURRENT-MMM Auckland 60 LLR -0.006107177932031067 R2
NON-RECURRENT-MMM Auckland 60 RLR 0.2952596331304586 R2
t_spatial, t_non_spatial, "seconds" : 3.814697265625e-06 331.7563097476959 seconds
sorted_percentage_nan_per_column : maxspeed                         5.874409
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1481, 14) (1481,)
X.shape, Y.shape, "Inside the model-fitting function" : (1481, 14) (1481,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.006454660807722724 0.0088024817601134 1.3637404074868829
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.01869184955427848 0.036347009971623045 1.9445379049342593
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.0070784203899309905 0.008165888601939193 1.1536314816163107
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.00790036008964413 0.012045407522433486 -1.5246656336870932
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.02440660131697488 0.010982743978384191 -0.4499907150425591
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.014091247090957385 0.02268567104959643 -1.609912231555023
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.006576367517999194 0.008778691766153092 1.3348846064527635
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.014474497108608297 0.017759305705303714 -1.2269376664382952
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0007493391524086687 0.0013064288812334375 -1.7434413736878218
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.012424327136961674 0.01683062481292226 1.3546508094472254
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.008906786920512179 0.01167313164113824 1.3105884024524284
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.01723904964078531 0.026323202969281256 1.5269520952595925
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.015387887998587306 0.006449969678263624 0.41915886565172344
NON-RECURRENT-MMM non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.000994984158357917 0.0032443028565539308 3.2606577997263813
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0044
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0122
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0040
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0057
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0055
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0111
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0041
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0086
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0075
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0058
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0125
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0034
SHAP-- non-recurrent-mmm-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0004
NON-RECURRENT-MMM Auckland 70 LR 0.30954459784298216 XpVar
NON-RECURRENT-MMM Auckland 70 RF 0.380636277342886 XpVar
NON-RECURRENT-MMM Auckland 70 LLR 1.586032892321652e-17 XpVar
NON-RECURRENT-MMM Auckland 70 RLR 0.30987673814061406 XpVar
NON-RECURRENT-MMM Auckland 70 LR 0.005591325357523047 MSE
NON-RECURRENT-MMM Auckland 70 RF 0.005043033208338601 MSE
NON-RECURRENT-MMM Auckland 70 LLR 0.008075066006836797 MSE
NON-RECURRENT-MMM Auckland 70 RLR 0.005591034146470949 MSE
NON-RECURRENT-MMM Auckland 70 LR 0.30704691431444936 R2
NON-RECURRENT-MMM Auckland 70 RF 0.37676192098027866 R2
NON-RECURRENT-MMM Auckland 70 LLR -0.002951877325994096 R2
NON-RECURRENT-MMM Auckland 70 RLR 0.3073619785581664 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 117.17010807991028 seconds
sorted_percentage_nan_per_column : maxspeed                         5.749718
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1774, 14) (1774,)
X.shape, Y.shape, "Inside the model-fitting function" : (1774, 14) (1774,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.00914140588860679 0.012974764562086478 1.419340167168085
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.015587735838625055 0.032562704054409954 2.088995117156297
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.006862742941273395 0.004424219690063571 0.6446722145828543
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.012115431238214569 0.01802002959962855 -1.4873617987933985
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.022652352870934464 0.00951480788537394 -0.42003618518509467
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.012418623252288938 0.020074832916915412 -1.6165103416930955
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.003126959119878477 0.0044106489741751135 1.410523388724866
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.014934767112697919 0.01673576769083505 -1.1205911390881935
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0008641378127371204 0.000652835914292222 -0.7554766203603468
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.012505469155526529 0.01665068555234841 1.3314722818687685
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.010302834567490794 0.013487469056865427 1.309102749201013
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.015143858519759381 0.022888793104121702 1.511424124456584
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.005813389791465635 0.005679220330467175 0.976920615026464
NON-RECURRENT-MMM non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.0018627700438746207 0.007680715416146373 4.123276215120059
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0063
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0098
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0023
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0070
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0048
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0092
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0020
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0082
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0003
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0073
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0066
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0101
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0026
SHAP-- non-recurrent-mmm-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0008
NON-RECURRENT-MMM Auckland 80 LR 0.2551655511827651 XpVar
NON-RECURRENT-MMM Auckland 80 RF 0.33062455478157327 XpVar
NON-RECURRENT-MMM Auckland 80 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Auckland 80 RLR 0.25538746616633373 XpVar
NON-RECURRENT-MMM Auckland 80 LR 0.006058728735402161 MSE
NON-RECURRENT-MMM Auckland 80 RF 0.0054285311363095595 MSE
NON-RECURRENT-MMM Auckland 80 LLR 0.008137637736858406 MSE
NON-RECURRENT-MMM Auckland 80 RLR 0.00605749627921204 MSE
NON-RECURRENT-MMM Auckland 80 LR 0.25120928044085916 R2
NON-RECURRENT-MMM Auckland 80 RF 0.3285680196296953 R2
NON-RECURRENT-MMM Auckland 80 LLR -0.004993556111660936 R2
NON-RECURRENT-MMM Auckland 80 RLR 0.25147627394132793 R2
t_spatial, t_non_spatial, "seconds" : 4.5299530029296875e-06 222.33507108688354 seconds
sorted_percentage_nan_per_column : maxspeed                         5.982101
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2123, 14) (2123,)
X.shape, Y.shape, "Inside the model-fitting function" : (2123, 14) (2123,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.007583262776327351 0.010644066017644532 1.4036261608752478
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.012821408082602353 0.027947496581149058 2.1797525202455432
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.005724992578143808 0.007052952806927415 1.2319584192743471
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.010750049614112172 0.015212553243178942 -1.4151147007925062
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.016788644748103775 0.010635325424275423 -0.6334832610879237
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.01403732529997286 0.02300050067858845 -1.6385244472914593
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.004245070537415622 0.006170973306936089 1.4536798040328789
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.012817210541698834 0.014942103060444613 -1.1657843188135801
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0008099946716279061 0.0010248438300226742 -1.2652476194231868
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.010549884423584765 0.014396575438272403 1.3646192564999269
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.011031352131338839 0.015189996167156277 1.3769840710644343
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.015961995225390626 0.024079379746265527 1.5085444774449397
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.004802056641704216 0.0060706992929521805 1.2641873567733954
NON-RECURRENT-MMM non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.0008001374370697485 0.0031797655891595907 3.974024263637109
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0052
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0086
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0033
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0063
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0053
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0107
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0028
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0073
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0068
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0073
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0102
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0030
SHAP-- non-recurrent-mmm-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0003
NON-RECURRENT-MMM Auckland 90 LR 0.2566803330328913 XpVar
NON-RECURRENT-MMM Auckland 90 RF 0.3371902091545063 XpVar
NON-RECURRENT-MMM Auckland 90 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Auckland 90 RLR 0.25662075104147136 XpVar
NON-RECURRENT-MMM Auckland 90 LR 0.006179575213761981 MSE
NON-RECURRENT-MMM Auckland 90 RF 0.005505500338757473 MSE
NON-RECURRENT-MMM Auckland 90 LLR 0.00825878983963934 MSE
NON-RECURRENT-MMM Auckland 90 RLR 0.0061802724966732794 MSE
NON-RECURRENT-MMM Auckland 90 LR 0.25545320837151053 R2
NON-RECURRENT-MMM Auckland 90 RF 0.3347530018780183 R2
NON-RECURRENT-MMM Auckland 90 LLR -0.0007803263311803984 R2
NON-RECURRENT-MMM Auckland 90 RLR 0.2554050264765265 R2
t_spatial, t_non_spatial, "seconds" : 3.814697265625e-06 243.25057911872864 seconds
sorted_percentage_nan_per_column : maxspeed                         4.901961
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (306, 14) (306,)
X.shape, Y.shape, "Inside the model-fitting function" : (306, 14) (306,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.00525140288300921 0.006836810114006488 1.3019016568176145
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.01394743247293414 0.021797562137828366 1.5628369006358618
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.0064908516920687345 0.007235318060164668 1.1146947124066333
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.006072704678944842 0.00513070547876894 -0.8448797940986685
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.014835865574091134 0.004870989368766139 -0.3283252564159569
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.01033852746626654 0.015376066005370337 -1.487258805041697
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.003328809592745729 0.004308195266864073 1.294214987920204
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.015815997552854445 0.018808124421846695 -1.1891835692938786
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.002248665272164994 0.001010447257962171 -0.4493542326952565
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.010201566416829228 0.013978059952137651 1.3701876144312948
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.011167287109103738 0.017368708157431217 1.5553202839454168
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.014893992939529622 0.02404813827441694 1.6146199593388837
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.00738186588002533 0.010365891448615478 1.4042373049156387
NON-RECURRENT-MMM non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.004784436959650343 0.008442043258387202 1.7644799857503326
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0034
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0099
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0036
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0026
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0024
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0080
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0021
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0093
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0068
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0084
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0120
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0051
SHAP-- non-recurrent-mmm-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0030
NON-RECURRENT-MMM Auckland 25 LR 0.39539649017945316 XpVar
NON-RECURRENT-MMM Auckland 25 RF 0.2839248521520286 XpVar
NON-RECURRENT-MMM Auckland 25 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Auckland 25 RLR 0.37750020715799737 XpVar
NON-RECURRENT-MMM Auckland 25 LR 0.003579134983059079 MSE
NON-RECURRENT-MMM Auckland 25 RF 0.004239728579963746 MSE
NON-RECURRENT-MMM Auckland 25 LLR 0.005908419932139928 MSE
NON-RECURRENT-MMM Auckland 25 RLR 0.0036952885053446833 MSE
NON-RECURRENT-MMM Auckland 25 LR 0.37453617021784913 R2
NON-RECURRENT-MMM Auckland 25 RF 0.268973324503014 R2
NON-RECURRENT-MMM Auckland 25 LLR -0.05339655990018942 R2
NON-RECURRENT-MMM Auckland 25 RLR 0.3549303334142249 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 29.748207092285156 seconds
sorted_percentage_nan_per_column : maxspeed                         6.03352
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (895, 14) (895,)
X.shape, Y.shape, "Inside the model-fitting function" : (895, 14) (895,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.007849633838546626 0.009922923919918801 1.2641257062451778
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.017373235902288845 0.03310512384140302 1.9055243379871198
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.006842871851673725 0.005778741926932056 0.8444907419271063
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.007186065195567051 0.009686545183363551 -1.347962329835109
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.011391270343380309 0.008060289458894974 -0.7075847746497358
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.01139056818667045 0.01788002924084112 -1.5697223306002253
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.004916189961293408 0.0066032269011158185 1.3431594289693731
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.01734246532054461 0.02182432941763983 -1.2584329283210858
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0007476938731175578 0.0012411025432745018 -1.6599073335985017
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.010599381531327935 0.014277248684284007 1.34698884478171
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.014661207469691098 0.01971871243635543 1.3449582837648018
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.014003558937119239 0.02098777003439195 1.498745435259294
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.005221417872794887 0.007079785872609139 1.3559125212898384
NON-RECURRENT-MMM non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.0015487556763432902 0.003909437868687475 2.524244416600238
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0049
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0119
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0029
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0048
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0040
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0084
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0031
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0107
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0065
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0098
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0091
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0035
SHAP-- non-recurrent-mmm-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0008
NON-RECURRENT-MMM Auckland 50 LR 0.3175739507947069 XpVar
NON-RECURRENT-MMM Auckland 50 RF 0.35319424108284875 XpVar
NON-RECURRENT-MMM Auckland 50 LLR -6.344131569286608e-17 XpVar
NON-RECURRENT-MMM Auckland 50 RLR 0.3165944111867332 XpVar
NON-RECURRENT-MMM Auckland 50 LR 0.004740707677117475 MSE
NON-RECURRENT-MMM Auckland 50 RF 0.004528628380743179 MSE
NON-RECURRENT-MMM Auckland 50 LLR 0.006981548610696808 MSE
NON-RECURRENT-MMM Auckland 50 RLR 0.004746170855811084 MSE
NON-RECURRENT-MMM Auckland 50 LR 0.31507905313811996 R2
NON-RECURRENT-MMM Auckland 50 RF 0.35096479100655575 R2
NON-RECURRENT-MMM Auckland 50 LLR -0.007881369692738924 R2
NON-RECURRENT-MMM Auckland 50 RLR 0.3141196755076797 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 83.85691237449646 seconds
sorted_percentage_nan_per_column : maxspeed                         5.638945
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2465, 14) (2465,)
X.shape, Y.shape, "Inside the model-fitting function" : (2465, 14) (2465,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_2 0.006865915968602985 0.010036847730677485 1.4618366692186144
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.016460892312593275 0.03625323808921428 2.202385958231379
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.006194296597441225 0.004079455127059777 0.6585824658032909
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 betweenness -0.009787603549858404 0.015554717547063297 -1.5892263584060191
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 mean_lanes -0.020567611325116086 0.009133740915834453 -0.44408369895053434
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.01479562544284151 0.024656864901333064 -1.6664969653758481
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 total_crossings 0.0037290092997959772 0.005176055966062414 1.3880512355776662
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 circuity_avg -0.012666995222911325 0.014573914610431091 -1.1505423625699835
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count -0.0010163030611522617 0.0015149431497115864 -1.490641136113452
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_3 0.00844477217094313 0.011324380398565257 1.340993003639615
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_4 0.010407475196297502 0.013942027903557669 1.3396167313007479
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 n 0.018317527569352295 0.027934178487621027 1.524997212743858
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_avg 0.004492183479830411 0.006092018684602999 1.3561375469091446
NON-RECURRENT-MMM non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_5 0.001341096257266933 0.004918002883321117 3.6671513000444036
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0049
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0105
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0022
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0077
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0046
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0110
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0022
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0069
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0006
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0053
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0068
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0117
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0030
SHAP-- non-recurrent-mmm-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0005
NON-RECURRENT-MMM Auckland 100 LR 0.249452100349186 XpVar
NON-RECURRENT-MMM Auckland 100 RF 0.36102948980825084 XpVar
NON-RECURRENT-MMM Auckland 100 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Auckland 100 RLR 0.24942330044544134 XpVar
NON-RECURRENT-MMM Auckland 100 LR 0.006145944585755715 MSE
NON-RECURRENT-MMM Auckland 100 RF 0.005246249691928445 MSE
NON-RECURRENT-MMM Auckland 100 LLR 0.008194811688081656 MSE
NON-RECURRENT-MMM Auckland 100 RLR 0.006146072566822982 MSE
NON-RECURRENT-MMM Auckland 100 LR 0.24669077127361655 R2
NON-RECURRENT-MMM Auckland 100 RF 0.35847691070600024 R2
NON-RECURRENT-MMM Auckland 100 LLR -0.004014760682128106 R2
NON-RECURRENT-MMM Auckland 100 RLR 0.24665446379320982 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 327.395396232605 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

