X.shape, Y.shape, "Inside the model-fitting function" : (210, 14) (210,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.013775155347496515 0.020733679967451405 1.5051503554346142
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.013017592452680332 0.021566766874165352 1.6567400579302003
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.013641218797447396 0.018463882598357746 1.3535361372411083
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.035388480865757306 0.03749514857606234 1.0595297582367684
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.008929909717354589 0.009780899672257747 1.095296591100952
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.01662231829565297 0.011512532390992286 0.6925948707168612
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.009793609903306189 0.015410349798314397 1.5735106820123677
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.04491084578456153 0.04689907984530895 1.04427068842758
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.017133857074254716 0.015282176267411414 -0.8919285483228624
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.0028582384492573452 0.0031703202742359203 1.1091867702849156
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0072719609406585225 0.006574819107679599 0.9041328963854702
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes 0.1525015679471716 0.016408480127474943 0.10759548474386205
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness 0.012972234580301608 0.008018852502532002 0.6181550644103109
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.01001494392483516 0.012237316464098598 -1.2219056398061676
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0098
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0094
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0090
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0186
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0049
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0056
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0071
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0230
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0075
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0015
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0032
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0076
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0043
SHAP-- non-recurrent-mmm-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0061
NON-RECURRENT-MMM MexicoCity 20 LR 0.2708415167130151 XpVar
NON-RECURRENT-MMM MexicoCity 20 RF 0.37892800437593194 XpVar
NON-RECURRENT-MMM MexicoCity 20 LLR 6.344131569286608e-17 XpVar
NON-RECURRENT-MMM MexicoCity 20 RLR 0.2804013617542364 XpVar
NON-RECURRENT-MMM MexicoCity 20 LR 0.012369592018083336 MSE
NON-RECURRENT-MMM MexicoCity 20 RF 0.010649974203342545 MSE
NON-RECURRENT-MMM MexicoCity 20 LLR 0.016408331908916135 MSE
NON-RECURRENT-MMM MexicoCity 20 RLR 0.012212790741518448 MSE
NON-RECURRENT-MMM MexicoCity 20 LR 0.2505473909494412 R2
NON-RECURRENT-MMM MexicoCity 20 RF 0.35832559804110764 R2
NON-RECURRENT-MMM MexicoCity 20 LLR -0.005018014918474867 R2
NON-RECURRENT-MMM MexicoCity 20 RLR 0.26003500846057337 R2
t_spatial, t_non_spatial, "seconds" : 3.0994415283203125e-06 36.56762361526489 seconds
sorted_percentage_nan_per_column : maxspeed                         12.318841
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (414, 14) (414,)
X.shape, Y.shape, "Inside the model-fitting function" : (414, 14) (414,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.01561416647003933 0.01817153541118973 1.1637851720139858
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.011772542534242838 0.014806157617758758 1.2576856337271267
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.017858723200097085 0.021930286261599787 1.227987354744407
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.0373629926695862 0.04115212618594838 1.1014140796983474
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 -0.09514871150867807 0.01812277882758148 -0.19046793740268977
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.021858172406824087 0.009787682874218563 0.4477813923346521
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.010692582570537445 0.010456693214543513 0.9779389727002057
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.038173708015828894 0.04176398070355544 1.0940509286191906
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.023015661617426596 0.015654515482397054 -0.6801679544395127
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count -0.0035387279905842958 0.0033473097072222076 -0.9459076018638883
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.00442342051007998 0.0046205051204725135 1.044554798700106
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes 0.16028729757713678 0.018213137286105734 0.11362807634423328
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.010492295862841547 0.008097073785844223 -0.7717161135838725
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.010351940584443463 0.013781428840008178 -1.3312894068111665
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0088
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0063
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0104
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0204
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0077
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0048
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0052
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0205
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0077
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0017
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0020
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0076
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0040
SHAP-- non-recurrent-mmm-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0069
NON-RECURRENT-MMM MexicoCity 30 LR 0.1820887599170821 XpVar
NON-RECURRENT-MMM MexicoCity 30 RF 0.2574488167610118 XpVar
NON-RECURRENT-MMM MexicoCity 30 LLR -6.344131569286608e-17 XpVar
NON-RECURRENT-MMM MexicoCity 30 RLR 0.1831150678235028 XpVar
NON-RECURRENT-MMM MexicoCity 30 LR 0.014651231644590739 MSE
NON-RECURRENT-MMM MexicoCity 30 RF 0.01324766255473726 MSE
NON-RECURRENT-MMM MexicoCity 30 LLR 0.018465084617265565 MSE
NON-RECURRENT-MMM MexicoCity 30 RLR 0.014635071659608884 MSE
NON-RECURRENT-MMM MexicoCity 30 LR 0.1650307016546208 R2
NON-RECURRENT-MMM MexicoCity 30 RF 0.23497995847377498 R2
NON-RECURRENT-MMM MexicoCity 30 LLR -0.05282818588323807 R2
NON-RECURRENT-MMM MexicoCity 30 RLR 0.16568621169877865 R2
t_spatial, t_non_spatial, "seconds" : 4.5299530029296875e-06 55.37045931816101 seconds
sorted_percentage_nan_per_column : maxspeed                         18.373494
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (664, 14) (664,)
X.shape, Y.shape, "Inside the model-fitting function" : (664, 14) (664,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.01361102446316928 0.012697160890027474 0.9328585753692036
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.010978452098695128 0.014113070051048643 1.2855245825343709
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.018454254612390777 0.022959551871198223 1.2441332556332265
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.03549593381287892 0.0423815525737833 1.1939833107984354
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.011578915285840128 0.011023929243013349 0.9520692544054216
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.13595187544960474 0.008145518031325865 0.059914716177234956
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.009304748182573605 0.012181588824059147 1.3091798493669535
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.03232915000150807 0.03768483129704536 1.1656610611564937
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.020786625032113988 0.022036074955455634 -1.0601083591690006
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.0029416519473118665 0.002545462686108327 0.8653174242569437
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.006075953633619019 0.008003573940572517 1.3172539527437688
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0630520045599643 0.01377035060144445 -0.21839671391174317
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.015436859864331841 0.019532145243775063 -1.2652926447110997
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.0149831143045757 0.022051295981834272 -1.471743159237597
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0061
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0071
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0105
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0212
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0054
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0041
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0061
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0187
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0107
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0013
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0039
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0061
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0098
SHAP-- non-recurrent-mmm-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0107
NON-RECURRENT-MMM MexicoCity 40 LR 0.16765419744335083 XpVar
NON-RECURRENT-MMM MexicoCity 40 RF 0.26268878337924034 XpVar
NON-RECURRENT-MMM MexicoCity 40 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM MexicoCity 40 RLR 0.16867996395810245 XpVar
NON-RECURRENT-MMM MexicoCity 40 LR 0.01613858367387729 MSE
NON-RECURRENT-MMM MexicoCity 40 RF 0.014371833032817166 MSE
NON-RECURRENT-MMM MexicoCity 40 LLR 0.019254860501173362 MSE
NON-RECURRENT-MMM MexicoCity 40 RLR 0.016126512150308702 MSE
NON-RECURRENT-MMM MexicoCity 40 LR 0.15736635333303295 R2
NON-RECURRENT-MMM MexicoCity 40 RF 0.25267862884674397 R2
NON-RECURRENT-MMM MexicoCity 40 LLR -0.011464239074974434 R2
NON-RECURRENT-MMM MexicoCity 40 RLR 0.15825313786974524 R2
t_spatial, t_non_spatial, "seconds" : 2.384185791015625e-06 60.695714473724365 seconds
sorted_percentage_nan_per_column : maxspeed                         26.904376
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1234, 14) (1234,)
X.shape, Y.shape, "Inside the model-fitting function" : (1234, 14) (1234,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.01662154524796309 0.01512618366109009 0.9100347431863323
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.012679355950314926 0.017763029477897367 1.4009409900237224
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.01625965377911037 0.02308405707283806 1.419713936498166
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.025713312963434917 0.0328342184546334 1.2769345786489907
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.12194877611680545 0.01004348167991968 0.08235819989123788
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.07372437169889225 0.00781616818887796 -0.10601878332447562
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.01030064763992798 0.013955749613960726 1.3548419576905653
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.022914251934438204 0.02997407830634327 1.3080976150609018
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.01979864211800667 0.017935254978362087 -0.9058830838732194
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count -0.0025636249889638666 0.0015946005213925245 -0.6220100553930901
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.002690430893248126 0.00439524418338197 1.633658085926765
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.09982674508778998 0.01554182033196529 -0.1556879403239828
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.012642177812858518 0.017614037529511017 -1.393275572472613
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.014950769709962066 0.021063550492822637 -1.408860607276124
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0073
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0081
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0113
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0165
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0044
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0039
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0064
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0150
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0086
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0007
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0018
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0074
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0088
SHAP-- non-recurrent-mmm-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0105
NON-RECURRENT-MMM MexicoCity 60 LR 0.1625542841320915 XpVar
NON-RECURRENT-MMM MexicoCity 60 RF 0.19921185508945718 XpVar
NON-RECURRENT-MMM MexicoCity 60 LLR 0.0 XpVar
NON-RECURRENT-MMM MexicoCity 60 RLR 0.16275943017092606 XpVar
NON-RECURRENT-MMM MexicoCity 60 LR 0.01705943913653144 MSE
NON-RECURRENT-MMM MexicoCity 60 RF 0.01635975152322916 MSE
NON-RECURRENT-MMM MexicoCity 60 LLR 0.02043616543365236 MSE
NON-RECURRENT-MMM MexicoCity 60 RLR 0.017056784200235573 MSE
NON-RECURRENT-MMM MexicoCity 60 LR 0.15917388359097337 R2
NON-RECURRENT-MMM MexicoCity 60 RF 0.19569780248688678 R2
NON-RECURRENT-MMM MexicoCity 60 LLR -0.006364916958459548 R2
NON-RECURRENT-MMM MexicoCity 60 RLR 0.15936802632239663 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 162.84365558624268 seconds
sorted_percentage_nan_per_column : maxspeed                         30.700637
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1570, 14) (1570,)
X.shape, Y.shape, "Inside the model-fitting function" : (1570, 14) (1570,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.04178238920727686 0.01611836311424749 0.38576930185314295
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.013539449144902113 0.02023671182658954 1.4946480916625096
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.01869564032020808 0.023071111975066755 1.2340370043452986
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.018776724577350048 0.025322449547373314 1.3486084563395702
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.007457657661589184 0.007741699191949562 1.0380872310381501
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.08226499006585819 0.009106249159483392 0.11069410149072259
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.009383171101940651 0.011104120641333443 1.1834080952692914
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.02030657946683056 0.02635149078603518 1.2976824003805554
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.021045681115440414 0.022790123685985077 -1.0828883874546988
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.002164654904253573 0.0014635911255052188 0.6761313882546566
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0018720284069007264 0.0030598989481746648 1.6345366004571165
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.08309510530695759 0.01825466819114142 -0.21968403702850775
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.010580514729693472 0.015242274145566392 -1.4405985469487623
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.017466955711185166 0.025518717214681033 -1.4609710837212364
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0070
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0093
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0105
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0127
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0039
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0045
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0054
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0131
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0110
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0006
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0011
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0087
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0074
SHAP-- non-recurrent-mmm-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0126
NON-RECURRENT-MMM MexicoCity 70 LR 0.1564977032043179 XpVar
NON-RECURRENT-MMM MexicoCity 70 RF 0.1914767294873801 XpVar
NON-RECURRENT-MMM MexicoCity 70 LLR 7.930164461608261e-17 XpVar
NON-RECURRENT-MMM MexicoCity 70 RLR 0.15656407165093883 XpVar
NON-RECURRENT-MMM MexicoCity 70 LR 0.017470949406565107 MSE
NON-RECURRENT-MMM MexicoCity 70 RF 0.016678229270834212 MSE
NON-RECURRENT-MMM MexicoCity 70 LLR 0.020711266109659402 MSE
NON-RECURRENT-MMM MexicoCity 70 RLR 0.017469344759612405 MSE
NON-RECURRENT-MMM MexicoCity 70 LR 0.14773806693371144 R2
NON-RECURRENT-MMM MexicoCity 70 RF 0.18355010136288966 R2
NON-RECURRENT-MMM MexicoCity 70 LLR -0.010387379019598011 R2
NON-RECURRENT-MMM MexicoCity 70 RLR 0.14779227617614252 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 218.2613124847412 seconds
sorted_percentage_nan_per_column : maxspeed                         33.844527
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1891, 14) (1891,)
X.shape, Y.shape, "Inside the model-fitting function" : (1891, 14) (1891,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.024227630487514633 0.0176100081593681 0.7268563951577175
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.009447419767578043 0.012681670692298273 1.3423422483903633
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.027880069816857103 0.03441097888297205 1.234250097256434
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.019958506056594986 0.02770801824038255 1.3882811750445048
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.022732326071342884 0.005631981938913603 0.24775211833748348
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.014784538488597218 0.0063647651255791275 -0.43050144111620675
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.008893135775798675 0.012612481570788349 1.4182265838233699
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.023224661717897888 0.02918173121272795 1.256497578616583
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.017669975937050754 0.017917568440118842 -1.0140120452880148
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.0020975309783770693 0.0011483910153719734 0.5474965696385197
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0024500802364880742 0.004642455849621406 1.8948178841178958
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.04596431254410749 0.013119763609979053 -0.285433695922011
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.01615201976725166 0.024432657599606306 -1.512668876814013
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.016667139485117156 0.024871703847541116 -1.4922598967717398
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0081
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0060
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0145
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0138
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0028
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0032
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0063
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0146
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0086
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0016
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0064
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0122
SHAP-- non-recurrent-mmm-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0124
NON-RECURRENT-MMM MexicoCity 80 LR 0.1666396917107564 XpVar
NON-RECURRENT-MMM MexicoCity 80 RF 0.22081949311502 XpVar
NON-RECURRENT-MMM MexicoCity 80 LLR 1.586032892321652e-17 XpVar
NON-RECURRENT-MMM MexicoCity 80 RLR 0.16681268787106138 XpVar
NON-RECURRENT-MMM MexicoCity 80 LR 0.01741807720471095 MSE
NON-RECURRENT-MMM MexicoCity 80 RF 0.016371571867029703 MSE
NON-RECURRENT-MMM MexicoCity 80 LLR 0.020858566149613924 MSE
NON-RECURRENT-MMM MexicoCity 80 RLR 0.0174160775613709 MSE
NON-RECURRENT-MMM MexicoCity 80 LR 0.1651059233571789 R2
NON-RECURRENT-MMM MexicoCity 80 RF 0.2188373438489879 R2
NON-RECURRENT-MMM MexicoCity 80 LLR -0.0021826057571044783 R2
NON-RECURRENT-MMM MexicoCity 80 RLR 0.16528918410282006 R2
t_spatial, t_non_spatial, "seconds" : 5.0067901611328125e-06 130.21186470985413 seconds
sorted_percentage_nan_per_column : maxspeed                         35.454545
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2200, 14) (2200,)
X.shape, Y.shape, "Inside the model-fitting function" : (2200, 14) (2200,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.019535130355045116 0.014549845091778379 0.744804095357406
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.010281353358673825 0.015373159689182 1.4952467007869632
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.027521050736165616 0.033213655387430166 1.2068454691587722
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.016350738966222092 0.02335505363693565 1.4283790894823352
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.08192540662902992 0.010659687340442283 0.130114549064259
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.07760318201951873 0.007053284259801212 -0.0908891114545686
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.012995454040851161 0.017000636133300263 1.3081987039359169
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.01945816881674588 0.02753651243322386 1.415164638181455
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.014873967177887993 0.013604559169549012 -0.9146557207530944
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.0017084454516764617 0.0010399827054724416 0.6087304130500206
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.003632072587174427 0.007593098262211306 2.090568974040896
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.0511778907277552 0.014223307610394972 -0.2779189882220229
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.015115951204398454 0.0236261516360358 -1.5629947011975693
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.014983437832753058 0.021862549596533165 -1.459114379527955
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0069
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0077
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0138
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0115
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0048
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0035
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0073
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0135
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0066
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0024
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0070
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0118
SHAP-- non-recurrent-mmm-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0109
NON-RECURRENT-MMM MexicoCity 90 LR 0.1548679501936347 XpVar
NON-RECURRENT-MMM MexicoCity 90 RF 0.19601263628564253 XpVar
NON-RECURRENT-MMM MexicoCity 90 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM MexicoCity 90 RLR 0.15494230303807857 XpVar
NON-RECURRENT-MMM MexicoCity 90 LR 0.018223100432038643 MSE
NON-RECURRENT-MMM MexicoCity 90 RF 0.017361374432566478 MSE
NON-RECURRENT-MMM MexicoCity 90 LLR 0.021557075013034315 MSE
NON-RECURRENT-MMM MexicoCity 90 RLR 0.018221866577771927 MSE
NON-RECURRENT-MMM MexicoCity 90 LR 0.15212355493748417 R2
NON-RECURRENT-MMM MexicoCity 90 RF 0.19252851212394897 R2
NON-RECURRENT-MMM MexicoCity 90 LLR -0.0026443775246779272 R2
NON-RECURRENT-MMM MexicoCity 90 RLR 0.15219375316589323 R2
t_spatial, t_non_spatial, "seconds" : 4.291534423828125e-06 198.6302990913391 seconds
sorted_percentage_nan_per_column : maxspeed                         9.6875
n                                0.0000
lane_density                     0.0000
streets_per_node_proportion_6    0.0000
streets_per_node_proportion_5    0.0000
streets_per_node_proportion_4    0.0000
streets_per_node_proportion_3    0.0000
streets_per_node_proportion_2    0.0000
streets_per_node_proportion_1    0.0000
streets_per_node_count_6         0.0000
streets_per_node_count_5         0.0000
streets_per_node_count_4         0.0000
streets_per_node_count_3         0.0000
streets_per_node_count_2         0.0000
streets_per_node_count_1         0.0000
mean_lanes                       0.0000
m                                0.0000
betweenness                      0.0000
total_crossings                  0.0000
non_metered_count                0.0000
metered_count                    0.0000
self_loop_proportion             0.0000
circuity_avg                     0.0000
street_length_avg                0.0000
street_segment_count             0.0000
street_length_total              0.0000
streets_per_node_avg             0.0000
edge_length_avg                  0.0000
edge_length_total                0.0000
k_avg                            0.0000
global_betweenness               0.0000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (320, 14) (320,)
X.shape, Y.shape, "Inside the model-fitting function" : (320, 14) (320,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.021725985592445544 0.025839703567070167 1.1893455170132776
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.015827166509573096 0.01954736082569692 1.2350511896032468
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.012024777829977486 0.01692887424042223 1.407832600301267
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.03527048333220072 0.038749826876512336 1.0986474585998969
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.017284763657629612 0.012211546384821508 0.7064919501766661
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m -0.02378024292660386 0.011928021803609246 -0.5015937743119064
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.014354932661061588 0.009403406928277267 0.655064509900798
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.04012266816506455 0.042491554785736935 1.059041103919779
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.016519673904450888 0.014746596371665359 -0.8926687328671901
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count -0.009987168831932689 0.0022763820561695234 -0.22793066728691763
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.00763989162236508 0.009934242735600007 1.3003119974265638
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes 0.09310138110565222 0.01916418467989138 0.20584210945424863
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.06564576379942849 0.009049275196899405 -0.13785010141017184
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.011567660307788776 0.011961739811246933 -1.0340673474992013
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0113
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0081
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0082
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0194
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0060
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0060
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0048
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0210
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0073
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0012
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0049
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0081
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0045
SHAP-- non-recurrent-mmm-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0058
NON-RECURRENT-MMM MexicoCity 25 LR 0.15845999347936088 XpVar
NON-RECURRENT-MMM MexicoCity 25 RF 0.23168437428127417 XpVar
NON-RECURRENT-MMM MexicoCity 25 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM MexicoCity 25 RLR 0.16623660134040527 XpVar
NON-RECURRENT-MMM MexicoCity 25 LR 0.01690474304368413 MSE
NON-RECURRENT-MMM MexicoCity 25 RF 0.015157405843236034 MSE
NON-RECURRENT-MMM MexicoCity 25 LLR 0.01999863107776272 MSE
NON-RECURRENT-MMM MexicoCity 25 RLR 0.01678564804881959 MSE
NON-RECURRENT-MMM MexicoCity 25 LR 0.12881732714503238 R2
NON-RECURRENT-MMM MexicoCity 25 RF 0.20542812566144097 R2
NON-RECURRENT-MMM MexicoCity 25 LLR -0.03142100078443866 R2
NON-RECURRENT-MMM MexicoCity 25 RLR 0.1355362992264327 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 43.271060943603516 seconds
sorted_percentage_nan_per_column : maxspeed                         24.9742
n                                 0.0000
lane_density                      0.0000
streets_per_node_proportion_6     0.0000
streets_per_node_proportion_5     0.0000
streets_per_node_proportion_4     0.0000
streets_per_node_proportion_3     0.0000
streets_per_node_proportion_2     0.0000
streets_per_node_proportion_1     0.0000
streets_per_node_count_6          0.0000
streets_per_node_count_5          0.0000
streets_per_node_count_4          0.0000
streets_per_node_count_3          0.0000
streets_per_node_count_2          0.0000
streets_per_node_count_1          0.0000
mean_lanes                        0.0000
m                                 0.0000
betweenness                       0.0000
total_crossings                   0.0000
non_metered_count                 0.0000
metered_count                     0.0000
self_loop_proportion              0.0000
circuity_avg                      0.0000
street_length_avg                 0.0000
street_segment_count              0.0000
street_length_total               0.0000
streets_per_node_avg              0.0000
edge_length_avg                   0.0000
edge_length_total                 0.0000
k_avg                             0.0000
global_betweenness                0.0000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (969, 14) (969,)
X.shape, Y.shape, "Inside the model-fitting function" : (969, 14) (969,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.027236363573252938 0.01774118152124369 0.6513784952799702
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.012847359638271095 0.018960318604362307 1.4758144193209377
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.020974533697195145 0.029367123951013423 1.4001323879224352
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.030662183272487653 0.03794448924948786 1.2375012213671823
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.023555700694127407 0.01015674902465552 0.43118008487803827
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.08244808548039848 0.008807423685549313 0.10682387146082639
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.010202758741357034 0.012553760378924887 1.230428033943215
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.02752849050337844 0.03056949534273168 1.1104675477567516
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.01568059981322428 0.016133031845777565 -1.0288529799843324
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count 0.321920865075988 0.0013574884001333314 0.004216838817865696
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0032087936974427114 0.005069852938477688 1.5799871903632106
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.05807465994589715 0.01316599465966599 -0.2267080801150027
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.012315288912660685 0.01541836411546904 -1.2519693386663668
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.012006545736045697 0.01612106318987537 -1.3426895248878443
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0080
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0095
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0135
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0190
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0049
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0043
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0055
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0151
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0078
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0007
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0021
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0059
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0077
SHAP-- non-recurrent-mmm-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0080
NON-RECURRENT-MMM MexicoCity 50 LR 0.18486183544177243 XpVar
NON-RECURRENT-MMM MexicoCity 50 RF 0.21951710143717879 XpVar
NON-RECURRENT-MMM MexicoCity 50 LLR -9.516197353929913e-17 XpVar
NON-RECURRENT-MMM MexicoCity 50 RLR 0.18507856999982195 XpVar
NON-RECURRENT-MMM MexicoCity 50 LR 0.016576320466976095 MSE
NON-RECURRENT-MMM MexicoCity 50 RF 0.015841662402826997 MSE
NON-RECURRENT-MMM MexicoCity 50 LLR 0.020236912310147234 MSE
NON-RECURRENT-MMM MexicoCity 50 RLR 0.01657066641655643 MSE
NON-RECURRENT-MMM MexicoCity 50 LR 0.17703615101537787 R2
NON-RECURRENT-MMM MexicoCity 50 RF 0.21069314957341329 R2
NON-RECURRENT-MMM MexicoCity 50 LLR -0.006508718462647873 R2
NON-RECURRENT-MMM MexicoCity 50 RLR 0.1772810008695896 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 96.09255838394165 seconds
sorted_percentage_nan_per_column : maxspeed                         37.490196
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2550, 14) (2550,)
X.shape, Y.shape, "Inside the model-fitting function" : (2550, 14) (2550,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_4 0.03035206906915674 0.018825614760376166 0.6202415630210343
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_3 0.011009600686558034 0.015696439733227367 1.4257047262750993
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_avg 0.024727801307162907 0.027387273550327322 1.107549887275827
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 metered_count 0.018978493413482355 0.027453453023051858 1.4465559739082807
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_2 0.27376163556424055 0.00594474188881951 0.021715029122203373
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 m 0.11011728657120234 0.007155277306120436 0.06497869252793294
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 n 0.010531813274289538 0.014265458308822998 1.3545111309225455
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.017236191952168245 0.023460755808247587 1.3611333566806976
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 circuity_avg -0.0181822905601821 0.01636318039243258 -0.8999515401138052
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 non_metered_count -0.003226706695547674 0.000861843944868175 -0.26709708262525944
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0032132475071528135 0.007212891280380155 2.244735665187316
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 mean_lanes -0.03262538789307411 0.01646848363982523 -0.5047751062393114
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.015067768037135354 0.023010394292279086 -1.5271269265340883
NON-RECURRENT-MMM non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.015862844764692473 0.02253605984423626 -1.420682114622784
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0084
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0077
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0120
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0135
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0030
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0034
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0066
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0116
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0078
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0004
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0022
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0080
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0115
SHAP-- non-recurrent-mmm-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0113
NON-RECURRENT-MMM MexicoCity 100 LR 0.14569951945409562 XpVar
NON-RECURRENT-MMM MexicoCity 100 RF 0.20288635446320355 XpVar
NON-RECURRENT-MMM MexicoCity 100 LLR 6.344131569286608e-17 XpVar
NON-RECURRENT-MMM MexicoCity 100 RLR 0.145746245324714 XpVar
NON-RECURRENT-MMM MexicoCity 100 LR 0.018389592599790026 MSE
NON-RECURRENT-MMM MexicoCity 100 RF 0.017115040458644263 MSE
NON-RECURRENT-MMM MexicoCity 100 LLR 0.021490297617848507 MSE
NON-RECURRENT-MMM MexicoCity 100 RLR 0.01838885642521404 MSE
NON-RECURRENT-MMM MexicoCity 100 LR 0.14295141362767927 R2
NON-RECURRENT-MMM MexicoCity 100 RF 0.2010445101057296 R2
NON-RECURRENT-MMM MexicoCity 100 LLR -0.002059555649026728 R2
NON-RECURRENT-MMM MexicoCity 100 RLR 0.142993996356679 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 333.1852436065674 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

