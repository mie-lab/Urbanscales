X.shape, Y.shape, "Inside the model-fitting function" : (93, 14) (93,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes 0.031375150222427754 0.005287530714613841 0.16852606846912177
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.009297223691280656 0.013906134540452012 1.495729800875265
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.011302088093849463 0.006756740110096407 0.5978311312025066
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg -0.013688065567826894 0.01739466330062254 -1.2707904717747565
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.013193773118741972 0.011719208234172364 -0.8882378170900207
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.013415660023067533 0.01910821809310117 -1.424321879076063
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count -0.0010648397933582907 0.0005346210168747066 -0.5020670904762297
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.01705374530201277 0.02543247441941258 -1.4913131379070677
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.049008343345536665 0.012153573675344495 0.24798989000005356
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.019958485427535422 0.026390378895993542 1.3222636052124705
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.014367466360253328 0.019419354345529057 -1.3516199626714598
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.02897247738009891 0.017393776574731505 -0.6003551697197709
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.02151039721288645 0.02723934496989055 -1.2663338896211551
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.011798196084913726 0.006726694645385943 0.5701460288482001
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0026
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0070
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0034
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0060
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0060
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0071
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0003
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0096
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0061
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0099
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0078
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0080
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0091
SHAP-- non-recurrent-mmm-mumbai-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0033
NON-RECURRENT-MMM Mumbai 20 LR -1.7657136984890698 XpVar
NON-RECURRENT-MMM Mumbai 20 RF -1.47264453297924 XpVar
NON-RECURRENT-MMM Mumbai 20 LLR -1.5860328923216522e-16 XpVar
NON-RECURRENT-MMM Mumbai 20 RLR -1.2852725174329458 XpVar
NON-RECURRENT-MMM Mumbai 20 LR 0.037517329216964164 MSE
NON-RECURRENT-MMM Mumbai 20 RF 0.03615776437398925 MSE
NON-RECURRENT-MMM Mumbai 20 LLR 0.028120050356112508 MSE
NON-RECURRENT-MMM Mumbai 20 RLR 0.03692553123086586 MSE
NON-RECURRENT-MMM Mumbai 20 LR -2.300101237253417 R2
NON-RECURRENT-MMM Mumbai 20 RF -1.8039362751541734 R2
NON-RECURRENT-MMM Mumbai 20 LLR -0.25088896995952387 R2
NON-RECURRENT-MMM Mumbai 20 RLR -1.7523376064454808 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 25.849318265914917 seconds
sorted_percentage_nan_per_column : maxspeed                         55.617978
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (178, 14) (178,)
X.shape, Y.shape, "Inside the model-fitting function" : (178, 14) (178,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes -0.018893515251753673 0.011111297737179513 -0.5881011335965219
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.003215371048730285 0.005647648997778728 1.7564532715466612
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.00811625644253029 0.007115226821198051 0.876663628309388
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg -0.05342721112234221 0.016220660796461152 -0.30360298536484887
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.025341387399816936 0.029444563344322265 -1.1619159945652766
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.021856996055930642 0.02474132822046391 -1.1319637958094722
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count -0.0017794599828051185 0.006832516544703304 -3.839657317796273
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.03407652447791605 0.04133252722228549 -1.2129325937881907
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.013339733951464566 0.00936678964150799 0.7021721479295029
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.025084341016429132 0.0301958732146677 1.2037738282576664
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.02801176959483964 0.03225425834078631 -1.1514537927203365
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness 0.02964436226460368 0.026905060227803663 0.9075945027135621
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.03209204882473063 0.03843765485367953 -1.1977314089108229
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.008886974962314838 0.00776380596588714 0.8736162753703607
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0056
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0025
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0036
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0074
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0143
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0083
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0127
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0048
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0137
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0114
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0115
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0117
SHAP-- non-recurrent-mmm-mumbai-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0039
NON-RECURRENT-MMM Mumbai 30 LR -0.44009147358472633 XpVar
NON-RECURRENT-MMM Mumbai 30 RF -0.5007674646950524 XpVar
NON-RECURRENT-MMM Mumbai 30 LLR 7.930164461608261e-17 XpVar
NON-RECURRENT-MMM Mumbai 30 RLR -0.3992790423882965 XpVar
NON-RECURRENT-MMM Mumbai 30 LR 0.03478176430710735 MSE
NON-RECURRENT-MMM Mumbai 30 RF 0.03679425554683707 MSE
NON-RECURRENT-MMM Mumbai 30 LLR 0.037720758697984025 MSE
NON-RECURRENT-MMM Mumbai 30 RLR 0.03459993205736985 MSE
NON-RECURRENT-MMM Mumbai 30 LR -0.5909063837890415 R2
NON-RECURRENT-MMM Mumbai 30 RF -0.6111649238560996 R2
NON-RECURRENT-MMM Mumbai 30 LLR -0.09060723258991198 R2
NON-RECURRENT-MMM Mumbai 30 RLR -0.5535107357787441 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 35.74730563163757 seconds
sorted_percentage_nan_per_column : maxspeed                         65.979381
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (291, 14) (291,)
X.shape, Y.shape, "Inside the model-fitting function" : (291, 14) (291,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes -0.01541409021982216 0.007543390198955062 -0.48938277195591073
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.007316473644487473 0.014862916034813017 2.0314316372903685
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.007415859502864408 0.009192624395322507 1.239589880548818
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg 0.016542887531905463 0.017016482197028827 1.028628295042807
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.014881040082797815 0.01612733920895194 -1.083750807686811
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.017828436530160606 0.021736921749983307 -1.2192275925716012
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count 0.0030179304623838927 0.003946085716880038 1.3075469319339408
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.02067589289018979 0.02847508014602041 -1.377211629855712
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.021701813380761884 0.008865882404587225 0.40853187008080205
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.01872113203535879 0.01385682265244009 0.7401701257311026
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.020850396582395476 0.026356491693264664 -1.2640762773557086
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.02191706340570195 0.012695569426518543 -0.5792550393961838
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.028651794714433732 0.03273168351765362 -1.1423955757006938
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.007421089192964225 0.00992651197102542 1.3376084982830463
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0038
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0057
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0046
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0071
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0081
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0087
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0007
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0120
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0046
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0060
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0113
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0055
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0105
SHAP-- non-recurrent-mmm-mumbai-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0050
NON-RECURRENT-MMM Mumbai 40 LR 0.013430393917151348 XpVar
NON-RECURRENT-MMM Mumbai 40 RF -0.11105472121845918 XpVar
NON-RECURRENT-MMM Mumbai 40 LLR 7.930164461608261e-17 XpVar
NON-RECURRENT-MMM Mumbai 40 RLR 0.012249656496793422 XpVar
NON-RECURRENT-MMM Mumbai 40 LR 0.027251619353154392 MSE
NON-RECURRENT-MMM Mumbai 40 RF 0.028621118975535993 MSE
NON-RECURRENT-MMM Mumbai 40 LLR 0.028438386982466975 MSE
NON-RECURRENT-MMM Mumbai 40 RLR 0.0272142323379611 MSE
NON-RECURRENT-MMM Mumbai 40 LR -0.018322598946294937 R2
NON-RECURRENT-MMM Mumbai 40 RF -0.1387931518364764 R2
NON-RECURRENT-MMM Mumbai 40 LLR -0.045015365838718235 R2
NON-RECURRENT-MMM Mumbai 40 RLR -0.01820993005265776 R2
t_spatial, t_non_spatial, "seconds" : 6.198883056640625e-06 39.467652797698975 seconds
sorted_percentage_nan_per_column : maxspeed                         78.181818
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (550, 14) (550,)
X.shape, Y.shape, "Inside the model-fitting function" : (550, 14) (550,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes 0.26214015768268023 0.016411399071717653 0.0626054367892141
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.004639029008848547 0.011276639029991499 2.4308188218875726
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.008755651953761963 0.01152608945797495 1.3164170433959104
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg 0.02529125652933951 0.012900194515658728 0.5100653856677172
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.02279500293810947 0.02431089264957948 -1.0665009658294755
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.02215087168181565 0.020414232383382764 -0.921599505275517
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count 0.008478307745289933 0.0013061322472643373 0.15405577227247386
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.032948135590118575 0.052842458084440436 -1.6038072303031417
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.025747053022946935 0.013334711367866677 0.5179121414781793
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.026216524381491232 0.02496639583666872 0.9523152448955019
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.023526868675592557 0.026033476447587755 -1.106542345543656
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.025426876826981283 0.015160324625803481 -0.5962322753581899
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.015175390868072734 0.015831335633781835 -1.0432242418934417
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.013208968780018622 0.016794704439055452 1.2714621950247182
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0082
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0030
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0057
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0065
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0123
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0087
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0005
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0200
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0066
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0125
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0125
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0070
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0070
SHAP-- non-recurrent-mmm-mumbai-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0084
NON-RECURRENT-MMM Mumbai 60 LR -0.04250461513003333 XpVar
NON-RECURRENT-MMM Mumbai 60 RF 0.007784182220847773 XpVar
NON-RECURRENT-MMM Mumbai 60 LLR -1.586032892321652e-17 XpVar
NON-RECURRENT-MMM Mumbai 60 RLR -0.03126815188474484 XpVar
NON-RECURRENT-MMM Mumbai 60 LR 0.028745440272979816 MSE
NON-RECURRENT-MMM Mumbai 60 RF 0.02588663536497009 MSE
NON-RECURRENT-MMM Mumbai 60 LLR 0.030032742753783544 MSE
NON-RECURRENT-MMM Mumbai 60 RLR 0.028626923144395067 MSE
NON-RECURRENT-MMM Mumbai 60 LR -0.051850474937163896 R2
NON-RECURRENT-MMM Mumbai 60 RF -0.001110864110733483 R2
NON-RECURRENT-MMM Mumbai 60 LLR -0.012907856336677157 R2
NON-RECURRENT-MMM Mumbai 60 RLR -0.04041899085729921 R2
t_spatial, t_non_spatial, "seconds" : 8.821487426757812e-06 114.30168032646179 seconds
sorted_percentage_nan_per_column : maxspeed                         81.382228
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (709, 14) (709,)
X.shape, Y.shape, "Inside the model-fitting function" : (709, 14) (709,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes 0.180864339184643 0.009565002867800406 0.05288495737147812
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0021123072416130324 0.005363748515525506 2.539284252715792
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.009917114994924871 0.013133942140878823 1.3243712659982443
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg -0.021300348652557134 0.010361273388109042 -0.4864367976843026
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.021173021073747512 0.026552357177934097 -1.2540655906141065
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.01857963342109666 0.017868900516274235 -0.9617466669705439
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count -0.0009992648176512593 0.003698905299555011 -3.7016266701445293
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.021811878125671307 0.031226943201375788 -1.4316485275343391
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.01061254020284387 0.00757140822522173 0.7134397684724718
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.0232769476631165 0.01339346308691772 0.5753960218822136
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.022734308039359514 0.02555319109418081 -1.1239924720796872
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.01622349411182926 0.011986060534932048 -0.7388088196236646
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.014555976716873996 0.01486997244671423 -1.02157160154538
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.010626572084328632 0.014708742884812397 1.384147471836556
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0047
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0013
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0066
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0051
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0129
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0069
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0003
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0105
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0038
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0060
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0112
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0055
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0057
SHAP-- non-recurrent-mmm-mumbai-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0072
NON-RECURRENT-MMM Mumbai 70 LR 0.09042614761128899 XpVar
NON-RECURRENT-MMM Mumbai 70 RF 0.0759684414944691 XpVar
NON-RECURRENT-MMM Mumbai 70 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Mumbai 70 RLR 0.09313479576447872 XpVar
NON-RECURRENT-MMM Mumbai 70 LR 0.024828385532184274 MSE
NON-RECURRENT-MMM Mumbai 70 RF 0.025329801128429245 MSE
NON-RECURRENT-MMM Mumbai 70 LLR 0.027133433135626727 MSE
NON-RECURRENT-MMM Mumbai 70 RLR 0.024784905006203287 MSE
NON-RECURRENT-MMM Mumbai 70 LR 0.08584744549412139 R2
NON-RECURRENT-MMM Mumbai 70 RF 0.07163610315618044 R2
NON-RECURRENT-MMM Mumbai 70 LLR -0.005173676928677746 R2
NON-RECURRENT-MMM Mumbai 70 RLR 0.08841371715393641 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 50.3311984539032 seconds
sorted_percentage_nan_per_column : maxspeed                         83.522727
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (880, 14) (880,)
X.shape, Y.shape, "Inside the model-fitting function" : (880, 14) (880,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes 0.025047243641110765 0.012116915710555074 0.4837624404574094
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.006255770309547376 0.018725217109956435 2.993271201370445
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.007291434572432332 0.009968135866552878 1.3671021480794323
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg -0.03712798174247033 0.012067189823817836 -0.32501604605171136
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.02188425386917873 0.029642073085713982 -1.3544932015005176
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.0214298069929357 0.030940974314482762 -1.4438288839783953
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count 0.0024742503446592156 0.005900663637763646 2.3848288636194406
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.014207635919614284 0.01945981303609197 -1.3696728397457607
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.010355380238335 0.015251441516934248 1.472803621490819
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.029550016347307285 0.017936307723067833 0.606981313047641
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.017082541782290604 0.02406628715302777 -1.4088235497821047
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.013995910182221852 0.014466906661222377 -1.0336524365238355
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.01213022102405116 0.013223949073896936 -1.0901655499662528
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.009154399579425578 0.01312533952265158 1.4337739366490676
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0057
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0033
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0049
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0057
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0144
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0113
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0008
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0076
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0076
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0089
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0105
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0071
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0056
SHAP-- non-recurrent-mmm-mumbai-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0065
NON-RECURRENT-MMM Mumbai 80 LR 0.0625214326816833 XpVar
NON-RECURRENT-MMM Mumbai 80 RF 0.07673372231216331 XpVar
NON-RECURRENT-MMM Mumbai 80 LLR 6.344131569286608e-17 XpVar
NON-RECURRENT-MMM Mumbai 80 RLR 0.0643323283940574 XpVar
NON-RECURRENT-MMM Mumbai 80 LR 0.026924348116259073 MSE
NON-RECURRENT-MMM Mumbai 80 RF 0.026572438311338358 MSE
NON-RECURRENT-MMM Mumbai 80 LLR 0.028916173322894367 MSE
NON-RECURRENT-MMM Mumbai 80 RLR 0.026894107804953764 MSE
NON-RECURRENT-MMM Mumbai 80 LR 0.05900585631795393 R2
NON-RECURRENT-MMM Mumbai 80 RF 0.07395543864740753 R2
NON-RECURRENT-MMM Mumbai 80 LLR -0.004066571301126595 R2
NON-RECURRENT-MMM Mumbai 80 RLR 0.0607912351300332 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 69.5449013710022 seconds
sorted_percentage_nan_per_column : maxspeed                         85.714286
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1043, 14) (1043,)
X.shape, Y.shape, "Inside the model-fitting function" : (1043, 14) (1043,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes 0.023004867616363434 0.015981611180053062 0.6947056356318823
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0024217818121496527 0.006359990124554355 2.6261614868223906
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.013402781723799767 0.01930618465734165 1.4404610218384004
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg -0.04285940419564334 0.01547782588271965 -0.36113021571804704
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.02308699743951872 0.029089911630372445 -1.260012771542927
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.07574302263647109 0.01517751665802929 -0.20038171345331482
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count 0.01033867157888174 0.00046088692648824396 0.04457893095566295
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.020589130280277604 0.02477852600542013 -1.2034760899616805
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.014973382685930774 0.012852671584893238 0.858367935588116
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.030306502207658535 0.014641816161740906 0.48312458037605144
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.022431915204146797 0.02519426668045555 -1.123143808772873
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.022578003140356472 0.014696598485497817 -0.6509255222499619
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.011171861228207973 0.012807272617990112 -1.1463866545041634
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.012579312825776309 0.017750685068371054 1.4111013307498061
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0077
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0014
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0095
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0077
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0145
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0066
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0002
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0100
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0064
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0073
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0121
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0073
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0064
SHAP-- non-recurrent-mmm-mumbai-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0088
NON-RECURRENT-MMM Mumbai 90 LR 0.050476399656409744 XpVar
NON-RECURRENT-MMM Mumbai 90 RF 0.0449256394946845 XpVar
NON-RECURRENT-MMM Mumbai 90 LLR 0.0 XpVar
NON-RECURRENT-MMM Mumbai 90 RLR 0.05219783687282004 XpVar
NON-RECURRENT-MMM Mumbai 90 LR 0.024539701392500578 MSE
NON-RECURRENT-MMM Mumbai 90 RF 0.024551240110063082 MSE
NON-RECURRENT-MMM Mumbai 90 LLR 0.026332938845678035 MSE
NON-RECURRENT-MMM Mumbai 90 RLR 0.02452703614636632 MSE
NON-RECURRENT-MMM Mumbai 90 LR 0.04093693153103904 R2
NON-RECURRENT-MMM Mumbai 90 RF 0.03831978983540753 R2
NON-RECURRENT-MMM Mumbai 90 LLR -0.010620545291311225 R2
NON-RECURRENT-MMM Mumbai 90 RLR 0.04256522098832351 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 277.09312200546265 seconds
sorted_percentage_nan_per_column : maxspeed                         45.038168
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (131, 14) (131,)
X.shape, Y.shape, "Inside the model-fitting function" : (131, 14) (131,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes -0.022211584571641074 0.010168851049968015 -0.45781745184227995
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.003863450998707357 0.0059487631032184365 1.5397537344743828
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.007076001976510135 0.0068155026605137186 0.963185522437503
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg -0.16260906774128334 0.011322220662991864 -0.06962847041842654
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.02333797932236226 0.03088426916276483 -1.3233480386698164
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.015506325019934085 0.013594043180661512 -0.8766773018871816
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count -0.002554112781236118 0.006361878139686827 -2.49083681285517
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.013132353745293096 0.012384987118120855 -0.9430896668131475
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.008932986093354824 0.012074737705204501 1.35170228398618
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.03486711486665512 0.06684809529533094 1.917224741736821
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.011477505369804953 0.011446188128188975 -0.9972714243551244
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness 0.44541857505987037 0.029527266823620796 0.06629105402632103
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.03556482097699658 0.008518082421277351 -0.23950865454340034
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.007637729559192311 0.006766864735548906 0.8859785729654064
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0049
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0028
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0034
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0056
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0154
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0060
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0013
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0055
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0058
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0136
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0052
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0094
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0042
SHAP-- non-recurrent-mmm-mumbai-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0033
NON-RECURRENT-MMM Mumbai 25 LR -0.8406933094274319 XpVar
NON-RECURRENT-MMM Mumbai 25 RF -0.27403668755411864 XpVar
NON-RECURRENT-MMM Mumbai 25 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Mumbai 25 RLR -0.7763711340672668 XpVar
NON-RECURRENT-MMM Mumbai 25 LR 0.0285984939960546 MSE
NON-RECURRENT-MMM Mumbai 25 RF 0.021425492547149285 MSE
NON-RECURRENT-MMM Mumbai 25 LLR 0.02170633134547979 MSE
NON-RECURRENT-MMM Mumbai 25 RLR 0.02758972558379432 MSE
NON-RECURRENT-MMM Mumbai 25 LR -1.0670957127424043 R2
NON-RECURRENT-MMM Mumbai 25 RF -0.4037811839186061 R2
NON-RECURRENT-MMM Mumbai 25 LLR -0.13282095101809363 R2
NON-RECURRENT-MMM Mumbai 25 RLR -0.9979933098047699 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 29.255642652511597 seconds
sorted_percentage_nan_per_column : maxspeed                         72.682927
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (410, 14) (410,)
X.shape, Y.shape, "Inside the model-fitting function" : (410, 14) (410,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes -0.13067920655202359 0.008037272811227934 -0.06150383847049365
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0025957984590041544 0.0052302791856628774 2.0149018763457502
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.006606665109015042 0.009248071688695866 1.3998093646485161
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg 0.21222720605812856 0.00887928896031383 0.041838598948910496
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.02678981150407476 0.024482472268896195 -0.9138725095237189
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.02461551924527185 0.027195250219372177 -1.1048009976306246
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count 0.0073183416372842305 0.0006361554581906072 0.0869261766832026
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.0238358733727119 0.040581594554405895 -1.7025427984050734
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.031745340624993 0.013946457004947538 0.4393229598540688
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.029281761411672224 0.020941780059116184 0.715181705249754
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.01978940947555076 0.024419024754560665 -1.2339440843209426
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.016555107657344144 0.00956801801225124 -0.5779496098901352
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.01751226055223199 0.019834603419429445 -1.1326123980551137
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.007280183079497012 0.009557122246170648 1.312758503709353
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0040
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0018
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0046
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0045
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0126
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0097
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0003
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0163
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0069
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0096
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0110
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0048
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0080
SHAP-- non-recurrent-mmm-mumbai-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0047
NON-RECURRENT-MMM Mumbai 50 LR 0.010461418911941125 XpVar
NON-RECURRENT-MMM Mumbai 50 RF -0.09688348012362123 XpVar
NON-RECURRENT-MMM Mumbai 50 LLR 7.930164461608261e-17 XpVar
NON-RECURRENT-MMM Mumbai 50 RLR 0.015260469197013515 XpVar
NON-RECURRENT-MMM Mumbai 50 LR 0.027249135987781954 MSE
NON-RECURRENT-MMM Mumbai 50 RF 0.02839841186348922 MSE
NON-RECURRENT-MMM Mumbai 50 LLR 0.028760144982012452 MSE
NON-RECURRENT-MMM Mumbai 50 RLR 0.027215794623216303 MSE
NON-RECURRENT-MMM Mumbai 50 LR -0.0005200761578459311 R2
NON-RECURRENT-MMM Mumbai 50 RF -0.11282792121965259 R2
NON-RECURRENT-MMM Mumbai 50 LLR -0.01169884060411903 R2
NON-RECURRENT-MMM Mumbai 50 RLR 0.004963428095739623 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 52.7634060382843 seconds
sorted_percentage_nan_per_column : maxspeed                         86.298077
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Mumbai 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1248, 14) (1248,)
X.shape, Y.shape, "Inside the model-fitting function" : (1248, 14) (1248,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 mean_lanes 0.016105207556223505 0.012265221129033388 0.7615686470488089
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_5 0.0033812817535741934 0.0111110695710371 3.286052562550315
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 metered_count 0.008696786982571337 0.013278382823192807 1.5268147707657032
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_avg 0.027948601257038762 0.011940449915577751 0.42722889084013066
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.019678901051049035 0.024581368845167657 -1.2491230471356674
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_count_3 -0.0193179701186234 0.012738840224840968 -0.6594295439229482
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 non_metered_count -0.0207576317740629 0.00040183756898583094 -0.01935854597285686
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 n -0.0240258395782615 0.03833092851446594 -1.5954043308083867
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_count_2 0.011229602049406612 0.0129268956090048 1.15114458661408
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 circuity_avg 0.01989892510487503 0.016688817662216044 0.8386793545007845
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 m -0.016693459438861035 0.022283997306645018 -1.3348939078960265
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 betweenness -0.012651247401589464 0.011903813753944267 -0.940920161947723
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 -0.007727586530999218 0.008954799783069196 -1.1588093833885924
NON-RECURRENT-MMM non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 total_crossings 0.010157597814613648 0.01566715136381208 1.5424071369779853
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0058
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0017
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0064
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0056
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0121
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0057
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0002
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0133
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0063
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0082
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0105
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0060
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0043
SHAP-- non-recurrent-mmm-mumbai-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0076
NON-RECURRENT-MMM Mumbai 100 LR 0.04516065117485075 XpVar
NON-RECURRENT-MMM Mumbai 100 RF 0.07854025659405076 XpVar
NON-RECURRENT-MMM Mumbai 100 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Mumbai 100 RLR 0.045758745680185946 XpVar
NON-RECURRENT-MMM Mumbai 100 LR 0.025179406964719035 MSE
NON-RECURRENT-MMM Mumbai 100 RF 0.02461526269268993 MSE
NON-RECURRENT-MMM Mumbai 100 LLR 0.026586896439065703 MSE
NON-RECURRENT-MMM Mumbai 100 RLR 0.025168279775652287 MSE
NON-RECURRENT-MMM Mumbai 100 LR 0.03493192900566999 R2
NON-RECURRENT-MMM Mumbai 100 RF 0.07005584004844176 R2
NON-RECURRENT-MMM Mumbai 100 LLR -0.014841485966133343 R2
NON-RECURRENT-MMM Mumbai 100 RLR 0.03544438843584606 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 143.455717086792 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

