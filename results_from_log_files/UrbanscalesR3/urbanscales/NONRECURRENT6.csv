Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         30.434783
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (161, 14) (161,)
X.shape, Y.shape, "Inside the model-fitting function" : (161, 14) (161,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.01729627588710347 0.023785993891799258 1.3752089783405155
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.02668189853366892 0.03172459221904248 1.1889930613074766
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.017250865070034885 0.023838226312036616 -1.3818568642939604
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.026293333765163258 0.015760920562967646 -0.5994264821545646
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.01304812689957528 0.01667049228944177 1.2776157388524785
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.020655574127011946 0.027681485828228033 1.3401460379659977
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.03092183132849373 0.05439261281714358 1.7590359458115952
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.02599212670100082 0.032338403927949136 1.2441615224468705
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.007119312816646851 0.010348717484622471 1.4536118514731382
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m 0.01853005113838631 0.018121617019881953 0.9779582843320784
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.002598498261488938 0.0034761626299731705 -1.337758305053216
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.027222316158521127 0.025238888729526794 -0.9271396519883015
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.012906515829659954 0.007785922518172466 0.6032551790840364
NON-RECURRENT-MMM non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.012850217895487974 0.014309640797116864 1.1135718408433626
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0118
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0156
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0113
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0079
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0083
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0138
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0269
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0153
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0051
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0090
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0018
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0126
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0040
SHAP-- non-recurrent-mmm-bogota-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0072
NON-RECURRENT-MMM Bogota 20 LR 0.4513076441422503 XpVar
NON-RECURRENT-MMM Bogota 20 RF 0.48531305241884076 XpVar
NON-RECURRENT-MMM Bogota 20 LLR -1.2688263138573217e-16 XpVar
NON-RECURRENT-MMM Bogota 20 RLR 0.44463527006399406 XpVar
NON-RECURRENT-MMM Bogota 20 LR 0.01448597904168325 MSE
NON-RECURRENT-MMM Bogota 20 RF 0.013195094661666225 MSE
NON-RECURRENT-MMM Bogota 20 LLR 0.024609331709893014 MSE
NON-RECURRENT-MMM Bogota 20 RLR 0.014567741609727467 MSE
NON-RECURRENT-MMM Bogota 20 LR 0.3943031900773059 R2
NON-RECURRENT-MMM Bogota 20 RF 0.44503170587763385 R2
NON-RECURRENT-MMM Bogota 20 LLR -0.022923915809370143 R2
NON-RECURRENT-MMM Bogota 20 RLR 0.3924753400222342 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 25.589356899261475 seconds
sorted_percentage_nan_per_column : maxspeed                         33.333333
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (297, 14) (297,)
X.shape, Y.shape, "Inside the model-fitting function" : (297, 14) (297,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.04394790808578568 0.0550347150190339 1.2522715509372353
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.03962281721980968 0.03529047539984237 0.8906604294204166
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.01225885216808553 0.009241800884667143 -0.753887946273394
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.013362696229626063 0.017144647587614303 -1.2830230735623085
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.012184249637632956 0.015811705119055372 1.2977167728259977
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.036885957324818565 0.0436120262177266 1.1823476840706104
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.017005417914465047 0.02935356813708427 1.7261303594377244
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.01791432555541176 0.022789490138831737 1.2721377686444486
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.027151937618714542 0.03527394664607253 1.2991318388180102
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m -0.12852914178668046 0.012741403101661698 -0.09913240627412402
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.0017520985312375202 0.001674856191972 -0.9559143861555758
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.03357896427471149 0.02407872574279033 -0.7170776783286361
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.012931524356569515 0.017517846175826995 1.3546621181537288
NON-RECURRENT-MMM non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.013706604364674755 0.01683557075939973 1.2282816598098565
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0277
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0144
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0046
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0086
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0076
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0219
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0137
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0110
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0176
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0064
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0007
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0116
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0076
SHAP-- non-recurrent-mmm-bogota-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0081
NON-RECURRENT-MMM Bogota 30 LR 0.4960097326651404 XpVar
NON-RECURRENT-MMM Bogota 30 RF 0.614361002211407 XpVar
NON-RECURRENT-MMM Bogota 30 LLR -6.344131569286608e-17 XpVar
NON-RECURRENT-MMM Bogota 30 RLR 0.49265605262577383 XpVar
NON-RECURRENT-MMM Bogota 30 LR 0.012664070546250005 MSE
NON-RECURRENT-MMM Bogota 30 RF 0.009840219321436815 MSE
NON-RECURRENT-MMM Bogota 30 LLR 0.025004576232221524 MSE
NON-RECURRENT-MMM Bogota 30 RLR 0.012711571574388307 MSE
NON-RECURRENT-MMM Bogota 30 LR 0.477780748048282 R2
NON-RECURRENT-MMM Bogota 30 RF 0.5947693288227484 R2
NON-RECURRENT-MMM Bogota 30 LLR -0.041502489214770365 R2
NON-RECURRENT-MMM Bogota 30 RLR 0.47445605052703377 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 43.03282070159912 seconds
sorted_percentage_nan_per_column : maxspeed                         32.378855
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (454, 14) (454,)
X.shape, Y.shape, "Inside the model-fitting function" : (454, 14) (454,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 50}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.04266454665198737 0.053370965314082836 1.2509441562669632
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.0779888618489548 0.04103028026193202 0.526104360150781
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.02701962557362935 0.014932352920910559 -0.5526484029254741
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.022260583855896812 0.017917858749966972 -0.8049141417834171
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.016557200984439635 0.019877572657992157 1.200539431554463
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.039713928121159585 0.05031161127862792 1.266850539819099
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.01760947562427574 0.029333582702924917 1.6657839977067104
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.024137752390666588 0.03146730572526035 1.30365517120094
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.008740212902803607 0.01204278219534276 1.377859135614395
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m 0.06834868180431664 0.01905041655002012 0.2787239789724367
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.0016050702418925343 0.0021268856678216437 -1.3251044174327462
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.0339591703825957 0.02787727112828018 -0.8209055408069529
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.009262956350653984 0.007306029168865292 0.7887362190095466
NON-RECURRENT-MMM non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.01589638187278221 0.011284264195258496 0.709863683797092
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0267
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0181
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0071
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0090
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0099
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0258
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0134
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0146
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0059
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0096
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0010
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0139
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0037
SHAP-- non-recurrent-mmm-bogota-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0056
NON-RECURRENT-MMM Bogota 40 LR 0.39522358864773544 XpVar
NON-RECURRENT-MMM Bogota 40 RF 0.4332655075249915 XpVar
NON-RECURRENT-MMM Bogota 40 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Bogota 40 RLR 0.3936374310142877 XpVar
NON-RECURRENT-MMM Bogota 40 LR 0.01580182269792412 MSE
NON-RECURRENT-MMM Bogota 40 RF 0.014761819265664736 MSE
NON-RECURRENT-MMM Bogota 40 LLR 0.02618053405345978 MSE
NON-RECURRENT-MMM Bogota 40 RLR 0.015843178297413166 MSE
NON-RECURRENT-MMM Bogota 40 LR 0.3880849617357788 R2
NON-RECURRENT-MMM Bogota 40 RF 0.4275835294879798 R2
NON-RECURRENT-MMM Bogota 40 LLR -0.02152297430741717 R2
NON-RECURRENT-MMM Bogota 40 RLR 0.3864516358221618 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 33.73957705497742 seconds
sorted_percentage_nan_per_column : maxspeed                         33.533654
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (832, 14) (832,)
X.shape, Y.shape, "Inside the model-fitting function" : (832, 14) (832,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.04054593237206257 0.04939831928566023 1.2183298396585212
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.18094593348141108 0.05256355069801106 0.29049313066442034
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.011378244215162986 0.015104338298701912 -1.327475312805593
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.022248067454218312 0.02576406434607583 -1.1580360585966702
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.01658464904768271 0.02199075810304396 1.3259706635828161
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.019905936803359697 0.025465126743883893 1.2792729624051615
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.018063114737206648 0.03052557140545173 1.6899395176057175
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.02581750343543104 0.03263664164063736 1.264128490280279
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.026614596276555876 0.03469952056580887 1.3037778294752793
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m -0.03384574459930027 0.013212698057967915 -0.39037989012778507
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.001116980724117165 0.0014845473500494396 -1.3290715927285053
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.034515741733274145 0.009700523434256467 -0.28104635586912186
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.006969856735891608 0.006611737901155837 0.9486189102149516
NON-RECURRENT-MMM non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.015438295844957322 0.021120618196814128 1.3680666835849533
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0244
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0191
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0075
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0127
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0104
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0128
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0141
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0150
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0174
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0066
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0005
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0048
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0033
SHAP-- non-recurrent-mmm-bogota-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0096
NON-RECURRENT-MMM Bogota 60 LR 0.36752320194368177 XpVar
NON-RECURRENT-MMM Bogota 60 RF 0.4500749316322285 XpVar
NON-RECURRENT-MMM Bogota 60 LLR -9.516197353929913e-17 XpVar
NON-RECURRENT-MMM Bogota 60 RLR 0.36779359646167364 XpVar
NON-RECURRENT-MMM Bogota 60 LR 0.017473589579819707 MSE
NON-RECURRENT-MMM Bogota 60 RF 0.015196381342077552 MSE
NON-RECURRENT-MMM Bogota 60 LLR 0.02786776055259951 MSE
NON-RECURRENT-MMM Bogota 60 RLR 0.017472979261460655 MSE
NON-RECURRENT-MMM Bogota 60 LR 0.36469226712010105 R2
NON-RECURRENT-MMM Bogota 60 RF 0.44726684507083103 R2
NON-RECURRENT-MMM Bogota 60 LLR -0.010893543795241925 R2
NON-RECURRENT-MMM Bogota 60 RLR 0.36498305057770086 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 103.26596117019653 seconds
sorted_percentage_nan_per_column : maxspeed                         32.288699
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1053, 14) (1053,)
X.shape, Y.shape, "Inside the model-fitting function" : (1053, 14) (1053,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.046772310480251045 0.05741750127941589 1.2275960004939168
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.13462104568406916 0.042622372575105635 -0.31661002452122167
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.022122122885925383 0.025361454997492004 -1.1464295324761784
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.019635202299195964 0.02667785015402651 -1.3586745757704228
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.018725370607808142 0.02440363426414148 1.3032390533283011
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.007038117166925816 0.008063059360703262 1.1456273275179263
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.021614684412424524 0.036892411126565675 1.706821641372623
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.026558776144470157 0.03460745999107323 1.3030517597204456
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.03281136734173646 0.04309411595228172 1.3133898232112222
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m -0.012638238186142691 0.01015828588110996 -0.8037738909089484
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.0006832538595719459 0.0008624933395402727 -1.2623321880400633
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.02287275124651224 0.011327807250524572 -0.4952533750067297
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.007367841315631588 0.005861887840261528 0.7956045182223138
NON-RECURRENT-MMM non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.016040488504776882 0.022380490516652387 1.3952499333163977
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0283
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0182
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0108
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0135
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0108
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0039
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0166
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0163
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0217
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0054
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0003
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0056
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0029
SHAP-- non-recurrent-mmm-bogota-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0101
NON-RECURRENT-MMM Bogota 70 LR 0.3604026539206481 XpVar
NON-RECURRENT-MMM Bogota 70 RF 0.4317464724258341 XpVar
NON-RECURRENT-MMM Bogota 70 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Bogota 70 RLR 0.3604064902085087 XpVar
NON-RECURRENT-MMM Bogota 70 LR 0.018781309742458226 MSE
NON-RECURRENT-MMM Bogota 70 RF 0.016753071546671935 MSE
NON-RECURRENT-MMM Bogota 70 LLR 0.029251559671220995 MSE
NON-RECURRENT-MMM Bogota 70 RLR 0.018777855980356424 MSE
NON-RECURRENT-MMM Bogota 70 LR 0.3540159973463374 R2
NON-RECURRENT-MMM Bogota 70 RF 0.4210876491446958 R2
NON-RECURRENT-MMM Bogota 70 LLR -0.0035553252359075455 R2
NON-RECURRENT-MMM Bogota 70 RLR 0.3541779491162701 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 87.20302605628967 seconds
sorted_percentage_nan_per_column : maxspeed                         32.759969
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1279, 14) (1279,)
X.shape, Y.shape, "Inside the model-fitting function" : (1279, 14) (1279,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.048808712553139885 0.060718906133399114 1.2440177779180746
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -1.1921753832056117 0.04190680885721509 -0.03515154686765372
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.01892599569279492 0.022798268550415834 -1.2046007470610953
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.021768629498601144 0.0273625553774392 -1.2569718906372827
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.016350538140120777 0.020107984658451677 1.2298056789403717
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.009551549101500256 0.011536964639227236 1.2078631975430176
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.02115924071949786 0.036626787740293924 1.7310067136077807
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.02142046425943231 0.025310143738296584 1.1815870763469325
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.024375999190194664 0.03258083143215471 1.3365947044033573
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m -0.07015699096315167 0.01231855737591157 -0.17558560033427895
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.0009711571660937092 0.0020708617009506085 -2.1323651549421676
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.05730833860705171 0.011487877976015663 -0.20045735498955985
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.012264294306141987 0.0063047419516723754 0.5140729498406562
NON-RECURRENT-MMM non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.01418909202047007 0.01472218563694961 1.0375706645436131
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0299
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0156
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0113
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0137
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0095
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0057
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0167
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0115
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0164
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0062
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0006
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0053
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0031
SHAP-- non-recurrent-mmm-bogota-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0071
NON-RECURRENT-MMM Bogota 80 LR 0.31409230131527266 XpVar
NON-RECURRENT-MMM Bogota 80 RF 0.32304462087205915 XpVar
NON-RECURRENT-MMM Bogota 80 LLR 0.0 XpVar
NON-RECURRENT-MMM Bogota 80 RLR 0.31377811007214135 XpVar
NON-RECURRENT-MMM Bogota 80 LR 0.02069148189217838 MSE
NON-RECURRENT-MMM Bogota 80 RF 0.020317348296107336 MSE
NON-RECURRENT-MMM Bogota 80 LLR 0.030341944472995132 MSE
NON-RECURRENT-MMM Bogota 80 RLR 0.02069700134532666 MSE
NON-RECURRENT-MMM Bogota 80 LR 0.3112660189863209 R2
NON-RECURRENT-MMM Bogota 80 RF 0.32047907485162963 R2
NON-RECURRENT-MMM Bogota 80 LLR -0.009911560136504929 R2
NON-RECURRENT-MMM Bogota 80 RLR 0.31093125592042625 R2
t_spatial, t_non_spatial, "seconds" : 4.5299530029296875e-06 107.17251873016357 seconds
sorted_percentage_nan_per_column : maxspeed                         32.610125
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1521, 14) (1521,)
X.shape, Y.shape, "Inside the model-fitting function" : (1521, 14) (1521,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.05206979857218109 0.0640874393985737 1.2307986809231326
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 2.939939055294926 0.051730131592106834 0.01759564760328592
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.015707937587727223 0.01979136535934465 -1.2599595108404207
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.024078259750532474 0.03286595204431647 -1.3649637633629093
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.015758579831119147 0.020889472943220234 1.3255936237330785
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.012034730686457372 0.01615816366871796 1.3426277737066994
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.02191192848079654 0.037080276380965047 1.6922415757911013
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.024826813452478138 0.017449204655596285 0.7028370632017037
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.028432366490295884 0.03778511931317899 1.3289473926159205
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m -0.026349123978172243 0.01183962957249394 -0.44933674388195805
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0010270192079429672 0.0004944645868232393 0.4814560263323703
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.12833254376982361 0.011759955604093143 -0.09163658148307041
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.013048582935312079 0.007975390930368358 0.6112074368462918
NON-RECURRENT-MMM non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.02404120789633177 0.01956209434889012 0.8136901620436019
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0314
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0190
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0101
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0161
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0094
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0080
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0172
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0083
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0190
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0059
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0002
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0054
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0040
SHAP-- non-recurrent-mmm-bogota-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0090
NON-RECURRENT-MMM Bogota 90 LR 0.31812210882716896 XpVar
NON-RECURRENT-MMM Bogota 90 RF 0.41547535242027583 XpVar
NON-RECURRENT-MMM Bogota 90 LLR 6.344131569286608e-17 XpVar
NON-RECURRENT-MMM Bogota 90 RLR 0.3180918083695151 XpVar
NON-RECURRENT-MMM Bogota 90 LR 0.019964838662446614 MSE
NON-RECURRENT-MMM Bogota 90 RF 0.017129511414335136 MSE
NON-RECURRENT-MMM Bogota 90 LLR 0.02933442199397964 MSE
NON-RECURRENT-MMM Bogota 90 RLR 0.019964225386039095 MSE
NON-RECURRENT-MMM Bogota 90 LR 0.31675429975976355 R2
NON-RECURRENT-MMM Bogota 90 RF 0.41406659228465875 R2
NON-RECURRENT-MMM Bogota 90 LLR -0.0020413992106560475 R2
NON-RECURRENT-MMM Bogota 90 RLR 0.31672979930541684 R2
t_spatial, t_non_spatial, "seconds" : 2.384185791015625e-06 215.71585750579834 seconds
sorted_percentage_nan_per_column : maxspeed                         32.034632
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (231, 14) (231,)
X.shape, Y.shape, "Inside the model-fitting function" : (231, 14) (231,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.022053854343093246 0.03186203759318254 1.4447378266629838
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.03183301501757917 0.027969653137640466 0.8786366331368475
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.01954509077087144 0.029516009893698972 -1.5101495429065723
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.014155440367301894 0.019616297042082006 -1.3857779435385367
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.012362306198656355 0.015412907342408834 1.2467663472114972
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.025567262394211376 0.033424330199340956 1.3073097026965421
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.025169520869111752 0.043176338272849835 1.71542154089378
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.028804427418667122 0.03658219191083656 1.270019757001972
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.012428203399983009 0.01763669014418366 1.4190860558500171
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m 0.015816787099298985 0.01112665611017427 0.7034713207126253
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 0.0028337072571955574 0.0012531261737677405 0.4422214646857789
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.040756840018861235 0.0362267317314777 -0.8888503552952802
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.015792953257289275 0.026681115185305672 1.6894316566783316
NON-RECURRENT-MMM non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.00996677928593978 0.01265555843220341 1.2697741235282205
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0158
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0124
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0138
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0099
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0073
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0170
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0192
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0173
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0088
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0055
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0006
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0181
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0133
SHAP-- non-recurrent-mmm-bogota-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0060
NON-RECURRENT-MMM Bogota 25 LR 0.5319502769925419 XpVar
NON-RECURRENT-MMM Bogota 25 RF 0.5645585877497282 XpVar
NON-RECURRENT-MMM Bogota 25 LLR 0.0 XpVar
NON-RECURRENT-MMM Bogota 25 RLR 0.5336416317318962 XpVar
NON-RECURRENT-MMM Bogota 25 LR 0.012211398338776458 MSE
NON-RECURRENT-MMM Bogota 25 RF 0.011064485870439454 MSE
NON-RECURRENT-MMM Bogota 25 LLR 0.02482809038870758 MSE
NON-RECURRENT-MMM Bogota 25 RLR 0.012309603569118602 MSE
NON-RECURRENT-MMM Bogota 25 LR 0.5061457072966823 R2
NON-RECURRENT-MMM Bogota 25 RF 0.5463384816061302 R2
NON-RECURRENT-MMM Bogota 25 LLR -0.014010725396258281 R2
NON-RECURRENT-MMM Bogota 25 RLR 0.5033912509369046 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 29.77083992958069 seconds
sorted_percentage_nan_per_column : maxspeed                         32.86385
n                                 0.00000
lane_density                      0.00000
streets_per_node_proportion_6     0.00000
streets_per_node_proportion_5     0.00000
streets_per_node_proportion_4     0.00000
streets_per_node_proportion_3     0.00000
streets_per_node_proportion_2     0.00000
streets_per_node_proportion_1     0.00000
streets_per_node_count_6          0.00000
streets_per_node_count_5          0.00000
streets_per_node_count_4          0.00000
streets_per_node_count_3          0.00000
streets_per_node_count_2          0.00000
streets_per_node_count_1          0.00000
mean_lanes                        0.00000
m                                 0.00000
betweenness                       0.00000
total_crossings                   0.00000
non_metered_count                 0.00000
metered_count                     0.00000
self_loop_proportion              0.00000
circuity_avg                      0.00000
street_length_avg                 0.00000
street_segment_count              0.00000
street_length_total               0.00000
streets_per_node_avg              0.00000
edge_length_avg                   0.00000
edge_length_total                 0.00000
k_avg                             0.00000
global_betweenness                0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (639, 14) (639,)
X.shape, Y.shape, "Inside the model-fitting function" : (639, 14) (639,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 50}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.048375656355898994 0.06006923075656997 1.2417243564540297
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.3446108430798793 0.033654728477079565 -0.09766009733268474
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.017683597194313835 0.02415056410195919 -1.3657042646122255
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.016771030795310917 0.025473076042119368 -1.5188736072944002
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.034374983068634284 0.01699761362921339 0.49447627640355096
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.03479875607115623 0.04341011336386371 1.2474616413040467
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.030184022795354967 0.05186349002082351 1.7182431371872937
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.0186697509381293 0.022273371445640157 1.1930192062793494
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.013838394397203607 0.018702036549344915 1.351460004140663
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m 0.10358802356291882 0.012753019039669196 0.1231128715562671
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.002676355048303334 0.0028371589121595525 -1.0600831582334935
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg -0.03777610282835854 0.01618953439168465 -0.4285654998675818
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.010079667959725433 0.008209048475778764 0.8144165570313464
NON-RECURRENT-MMM non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.011396617285626453 0.012181218874456043 1.0688451291436398
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0298
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0140
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0116
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0128
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0085
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0219
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0231
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0105
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0094
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0064
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0010
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0078
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0043
SHAP-- non-recurrent-mmm-bogota-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0060
NON-RECURRENT-MMM Bogota 50 LR 0.40077359162239484 XpVar
NON-RECURRENT-MMM Bogota 50 RF 0.44004831615816803 XpVar
NON-RECURRENT-MMM Bogota 50 LLR 1.586032892321652e-17 XpVar
NON-RECURRENT-MMM Bogota 50 RLR 0.4009610047218209 XpVar
NON-RECURRENT-MMM Bogota 50 LR 0.016629040370621757 MSE
NON-RECURRENT-MMM Bogota 50 RF 0.01560603329279227 MSE
NON-RECURRENT-MMM Bogota 50 LLR 0.027878554909446723 MSE
NON-RECURRENT-MMM Bogota 50 RLR 0.01665098276871958 MSE
NON-RECURRENT-MMM Bogota 50 LR 0.3973965378076247 R2
NON-RECURRENT-MMM Bogota 50 RF 0.4355498174995125 R2
NON-RECURRENT-MMM Bogota 50 LLR -0.011452228590117772 R2
NON-RECURRENT-MMM Bogota 50 RLR 0.39696148975322626 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 37.05035448074341 seconds
sorted_percentage_nan_per_column : maxspeed                         33.258174
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Bogota 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1774, 14) (1774,)
X.shape, Y.shape, "Inside the model-fitting function" : (1774, 14) (1774,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.0454885462859214 0.05840683114845156 1.28398983738305
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes -0.05411852141726873 0.030513888278872206 -0.5638344781004216
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 betweenness -0.02178789949811276 0.030291726603001806 -1.3903004557931635
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 k_avg -0.02125987564015737 0.02661892457828155 -1.252073390683508
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.016032333814163014 0.02126681783652203 1.3264954486997305
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 metered_count 0.007661625884705962 0.009029232600705045 1.178500847806871
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.0162485013974259 0.027413080652961424 1.6871143979656011
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_4 0.025108489376394212 0.025033611968816684 0.9970178449824255
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 non_metered_count 0.02727020090854109 0.03701045911524725 1.357175887312788
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 m -0.02879351467694446 0.014663909661382226 -0.509278211635758
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_5 -0.0006213757805440932 0.0005168193997976296 -0.8317340584872632
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 circuity_avg 0.34520151506050145 0.010297915122366682 0.029831604651450697
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_2 0.0068638687965555546 0.0049879104063269945 0.7266908144908075
NON-RECURRENT-MMM non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 n 0.020999783856786403 0.02807752353253281 1.3370386916367774
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0287
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0140
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0152
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0133
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0096
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0044
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0124
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0112
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0187
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0074
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0002
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0047
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0025
SHAP-- non-recurrent-mmm-bogota-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0122
NON-RECURRENT-MMM Bogota 100 LR 0.28952585055114605 XpVar
NON-RECURRENT-MMM Bogota 100 RF 0.37101464528927425 XpVar
NON-RECURRENT-MMM Bogota 100 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Bogota 100 RLR 0.2895615675439687 XpVar
NON-RECURRENT-MMM Bogota 100 LR 0.02198029262107563 MSE
NON-RECURRENT-MMM Bogota 100 RF 0.019495131857036302 MSE
NON-RECURRENT-MMM Bogota 100 LLR 0.030985992392724 MSE
NON-RECURRENT-MMM Bogota 100 RLR 0.021980250908900472 MSE
NON-RECURRENT-MMM Bogota 100 LR 0.2877921898943458 R2
NON-RECURRENT-MMM Bogota 100 RF 0.368454479081264 R2
NON-RECURRENT-MMM Bogota 100 LLR -0.0037370798917522358 R2
NON-RECURRENT-MMM Bogota 100 RLR 0.28780935797798674 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 184.20416498184204 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

