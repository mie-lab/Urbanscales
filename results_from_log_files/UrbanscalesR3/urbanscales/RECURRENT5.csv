Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         6.666667
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (210, 14) (210,)
X.shape, Y.shape, "Inside the model-fitting function" : (210, 14) (210,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.1946901994536097 0.23551868266523504 1.2097100076234388
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.10446668571085026 0.16740328437702773 1.602456163301452
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.10713340855856889 0.11072171085628876 1.0334937751537905
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.051994506116311845 0.03916560197197124 0.7532642368860604
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.15239864976287526 0.18000798537325427 1.1811652245826179
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.08621191847759818 0.039597874237420755 -0.4593085844355743
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.09436904050294609 0.05030012758630227 0.5330151426593339
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.11570962721558284 0.10299857104320899 0.8901469438779591
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.3063764626010203 0.34222398680783955 1.117004824399653
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.08022442449595833 0.03871475065957665 -0.48258059690446364
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.10017177165056254 0.049046416571768475 -0.48962313198234264
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.17123642692048743 0.019168631560187204 0.11194248738376232
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.1459026448272904 0.21514754270350314 1.4745965911596746
RECURRENT recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.11890430765437233 0.167575401505976 -1.4093299461704905
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1175
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0741
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0522
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0183
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0787
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0191
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0253
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0506
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1713
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0193
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0245
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0099
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.1013
SHAP-- recurrent-mexicocity-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0828
RECURRENT MexicoCity 20 LR 0.49883523928009704 XpVar
RECURRENT MexicoCity 20 RF 0.6133480919768636 XpVar
RECURRENT MexicoCity 20 LLR -3.172065784643304e-17 XpVar
RECURRENT MexicoCity 20 RLR 0.5030862004335123 XpVar
RECURRENT MexicoCity 20 LR 0.40702059279955954 MSE
RECURRENT MexicoCity 20 RF 0.3118052587086885 MSE
RECURRENT MexicoCity 20 LLR 0.7778097718544165 MSE
RECURRENT MexicoCity 20 RLR 0.4014645826688899 MSE
RECURRENT MexicoCity 20 LR 0.4619066154331969 R2
RECURRENT MexicoCity 20 RF 0.5935772826668199 R2
RECURRENT MexicoCity 20 LLR -0.02700509918923458 R2
RECURRENT MexicoCity 20 RLR 0.47322672996216014 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 39.081467390060425 seconds
sorted_percentage_nan_per_column : maxspeed                         12.318841
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (414, 14) (414,)
X.shape, Y.shape, "Inside the model-fitting function" : (414, 14) (414,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.24940306561605674 0.27878077999298656 1.1177921141601175
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.09750557676868862 0.14438194796406667 1.4807557962205826
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.13865573998110609 0.1480820520227544 1.0679835688225585
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 -0.41122451295963364 0.031734084103414384 -0.07716972870858368
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.1264738598256843 0.10742993873692465 0.8494240539902285
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg 0.3075044386553065 0.04138047371568536 0.13456870377754226
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.06186016012769605 0.06397250622123704 1.034147116483057
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.11527396928177251 0.09030955323860873 0.7834340554185182
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.3223422175712649 0.39516712209383453 1.2259241903566949
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.07875604038147366 0.04120942565122952 -0.5232541586857572
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.0786766758234544 0.125332945094111 -1.5930127166957382
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.021045375827267898 0.03053005094027454 -1.4506773930222532
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.17460076968386204 0.23612744408221875 1.3523848979002724
RECURRENT recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.10129023523103609 0.11006590220335398 -1.0866388250782635
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1382
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0619
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0570
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0155
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0455
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0206
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0322
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0389
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1979
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0206
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0604
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0132
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.1039
SHAP-- recurrent-mexicocity-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0552
RECURRENT MexicoCity 30 LR 0.5280804488788016 XpVar
RECURRENT MexicoCity 30 RF 0.5786321593268176 XpVar
RECURRENT MexicoCity 30 LLR -1.586032892321652e-17 XpVar
RECURRENT MexicoCity 30 RLR 0.5264569289088593 XpVar
RECURRENT MexicoCity 30 LR 0.37002021719588957 MSE
RECURRENT MexicoCity 30 RF 0.33188193937445576 MSE
RECURRENT MexicoCity 30 LLR 0.7779543872085826 MSE
RECURRENT MexicoCity 30 RLR 0.37233846428505096 MSE
RECURRENT MexicoCity 30 LR 0.5211999443468216 R2
RECURRENT MexicoCity 30 RF 0.5709042387249116 R2
RECURRENT MexicoCity 30 LLR -0.02230716549329895 R2
RECURRENT MexicoCity 30 RLR 0.518819489885255 R2
t_spatial, t_non_spatial, "seconds" : 2.384185791015625e-06 57.571568727493286 seconds
sorted_percentage_nan_per_column : maxspeed                         18.373494
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (664, 14) (664,)
X.shape, Y.shape, "Inside the model-fitting function" : (664, 14) (664,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.21257164720725574 0.27398760781229836 1.2889188723516007
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.10930546132827705 0.17611743868213925 1.611240980477689
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.10873450693823603 0.10715519793938015 0.9854755491763717
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.01881131442493498 0.019000359404447307 1.0100495358932358
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.1296288136309049 0.09785856181743824 0.7549136575150119
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.07541940037218549 0.04729224083253643 -0.6270567068838392
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.10550928656471217 0.09993397939101975 0.9471581378737415
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.7127207885207516 0.05499166230326663 0.077157371005554
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.34269040033905573 0.42736026730335575 1.2470739386937253
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.1230513840400998 0.04210880736899089 -0.3422050690244048
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.08265971355067137 0.1226662656088961 -1.4839909351210157
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.015226664585494714 0.012975089299121658 -0.8521294487226073
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.14727897996150252 0.1889946965037143 1.2832428399023128
RECURRENT recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.09485250556241229 0.12563479200945254 -1.3245279211605616
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1368
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0713
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0449
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0090
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0445
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0235
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0489
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0271
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.2137
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0210
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0588
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0057
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0804
SHAP-- recurrent-mexicocity-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0601
RECURRENT MexicoCity 40 LR 0.44308874928170894 XpVar
RECURRENT MexicoCity 40 RF 0.5037069091693082 XpVar
RECURRENT MexicoCity 40 LLR 1.586032892321652e-17 XpVar
RECURRENT MexicoCity 40 RLR 0.4433344564642283 XpVar
RECURRENT MexicoCity 40 LR 0.45436179871988386 MSE
RECURRENT MexicoCity 40 RF 0.4059208055287728 MSE
RECURRENT MexicoCity 40 LLR 0.813013206168321 MSE
RECURRENT MexicoCity 40 RLR 0.45456488667076983 MSE
RECURRENT MexicoCity 40 LR 0.4411540139979343 R2
RECURRENT MexicoCity 40 RF 0.5002161100866453 R2
RECURRENT MexicoCity 40 LLR -0.005188755314393128 R2
RECURRENT MexicoCity 40 RLR 0.44131918329501413 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 59.929129123687744 seconds
sorted_percentage_nan_per_column : maxspeed                         26.904376
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1234, 14) (1234,)
X.shape, Y.shape, "Inside the model-fitting function" : (1234, 14) (1234,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.21904204559144083 0.2902562845284766 1.3251167543872615
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.12563354109099903 0.16038964221774019 1.276646672735003
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.1247551972946799 0.08907914591356213 0.7140315421340835
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.09951096334336916 0.013763407509176054 0.1383104639604835
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.17839665414923622 0.10317095926283194 0.5783233982433613
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.0724542723952219 0.047011417685287306 -0.6488425890035926
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.08603949124892281 0.1024073799070524 1.1902369298160456
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.5939005556383796 0.08146390764480882 0.13716758954240046
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.3157013106635343 0.40523320665078433 1.2835968460158553
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.5177295712856738 0.044471997097964955 -0.08589812049469764
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.07779193251294188 0.12437648370897003 -1.598835247964538
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.057877207702550254 0.009693113941784466 -0.16747722163101791
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.15430285394325957 0.19571521029532138 1.2683836059655125
RECURRENT recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.12177186893301618 0.15670812781801394 -1.286899258351823
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1447
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0638
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0382
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0069
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0435
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0235
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0514
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0384
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.2027
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0223
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0602
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0051
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0826
SHAP-- recurrent-mexicocity-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0715
RECURRENT MexicoCity 60 LR 0.42120916658788554 XpVar
RECURRENT MexicoCity 60 RF 0.4808621649322104 XpVar
RECURRENT MexicoCity 60 LLR 1.586032892321652e-17 XpVar
RECURRENT MexicoCity 60 RLR 0.42117443933332155 XpVar
RECURRENT MexicoCity 60 LR 0.4875571682871248 MSE
RECURRENT MexicoCity 60 RF 0.4363066848587434 MSE
RECURRENT MexicoCity 60 LLR 0.8475366224325346 MSE
RECURRENT MexicoCity 60 RLR 0.48758961818005225 MSE
RECURRENT MexicoCity 60 LR 0.4198959189797988 R2
RECURRENT MexicoCity 60 RF 0.48029922207944736 R2
RECURRENT MexicoCity 60 LLR -0.0038788446344423084 R2
RECURRENT MexicoCity 60 RLR 0.4199366083830375 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 132.32112503051758 seconds
sorted_percentage_nan_per_column : maxspeed                         30.700637
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1570, 14) (1570,)
X.shape, Y.shape, "Inside the model-fitting function" : (1570, 14) (1570,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.19303295426609196 0.2663015228371356 1.3795650791835492
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.10204661355300981 0.12220108358352805 1.1975025856203318
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.13470006684380292 0.09722565349951376 0.7217936544326724
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.011630130160839499 0.017542507709643794 1.5083672725101747
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.16310523322414608 0.10389016376164638 0.6369517501555338
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.07432000789801889 0.054157250258755965 -0.7287035051593369
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.11479523754613073 0.11986589176516343 1.0441712942751222
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.16339772306055708 0.06845290443432063 0.4189342614581673
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.2890095557454706 0.39021438378867335 1.3501781378202367
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness 0.6141985128929048 0.03386768354976953 0.05514126595691529
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.06869606043692925 0.11749209072091597 -1.710317738362697
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.04449470142881988 0.008440468408121887 -0.18969603429353207
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.17886737185800192 0.21615104648074288 1.2084431287576556
RECURRENT recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.13379642565692929 0.17310588688397566 -1.2938005334151506
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1319
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0516
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0406
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0065
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0464
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0271
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0600
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0324
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1941
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0168
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0536
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0043
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0869
SHAP-- recurrent-mexicocity-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0821
RECURRENT MexicoCity 70 LR 0.4053638719218834 XpVar
RECURRENT MexicoCity 70 RF 0.44911321266657006 XpVar
RECURRENT MexicoCity 70 LLR -6.344131569286608e-17 XpVar
RECURRENT MexicoCity 70 RLR 0.40536334890305376 XpVar
RECURRENT MexicoCity 70 LR 0.5173270743384377 MSE
RECURRENT MexicoCity 70 RF 0.4793684721239164 MSE
RECURRENT MexicoCity 70 LLR 0.870687093765337 MSE
RECURRENT MexicoCity 70 RLR 0.5173125401356538 MSE
RECURRENT MexicoCity 70 LR 0.4040451211625054 R2
RECURRENT MexicoCity 70 RF 0.44835878788675665 R2
RECURRENT MexicoCity 70 LLR -0.002782770280106333 R2
RECURRENT MexicoCity 70 RLR 0.4040610498854546 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 232.5323052406311 seconds
sorted_percentage_nan_per_column : maxspeed                         33.844527
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1891, 14) (1891,)
X.shape, Y.shape, "Inside the model-fitting function" : (1891, 14) (1891,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 200}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.21141712180761144 0.3071367600021807 1.4527525366733243
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.09660760921916271 0.11131244542241993 1.152211987462582
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.16356366628646968 0.08048848444166427 0.49209268946499796
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.010634043296313211 0.01564006545225164 1.4707543515150066
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.25044836540410087 0.06898941629909093 0.27546363174611194
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.29007632041875075 0.05932017087422943 -0.20449849470165482
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.11981234964120649 0.1396021126089507 1.1651729811409859
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes -0.4766452230303454 0.05890547072220026 -0.12358347021228841
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.2441599911143746 0.3575116442028626 1.464251544944517
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness 0.07920177710675765 0.03712120133111066 0.46869152040710216
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.09970919146473226 0.16139412424972588 -1.618648410230184
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.09292665336279715 0.009906659380168457 -0.10660729749398844
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.22794653018544234 0.2756798300986316 1.2094056877038515
RECURRENT recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.08377810445554053 0.11490803662286059 -1.3715759907630773
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1493
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0446
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0359
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0053
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0311
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0299
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0688
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0283
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1736
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0185
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0767
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0050
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.1154
SHAP-- recurrent-mexicocity-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0533
RECURRENT MexicoCity 80 LR 0.4002218332613439 XpVar
RECURRENT MexicoCity 80 RF 0.44274133773408647 XpVar
RECURRENT MexicoCity 80 LLR 4.7580986769649563e-17 XpVar
RECURRENT MexicoCity 80 RLR 0.4001702509601732 XpVar
RECURRENT MexicoCity 80 LR 0.5378819575731517 MSE
RECURRENT MexicoCity 80 RF 0.5006843390742153 MSE
RECURRENT MexicoCity 80 LLR 0.8937217547650603 MSE
RECURRENT MexicoCity 80 RLR 0.5379068698135548 MSE
RECURRENT MexicoCity 80 LR 0.3967707447872417 R2
RECURRENT MexicoCity 80 RF 0.4402353615456468 R2
RECURRENT MexicoCity 80 LLR -0.0031222864962759784 R2
RECURRENT MexicoCity 80 RLR 0.3967531839185333 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 133.86196517944336 seconds
sorted_percentage_nan_per_column : maxspeed                         35.454545
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2200, 14) (2200,)
X.shape, Y.shape, "Inside the model-fitting function" : (2200, 14) (2200,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.17159596256989665 0.2524303645401653 1.4710740320439775
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.0988036128904696 0.11587168493172316 1.1727474486198664
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.15063234112525065 0.07934175388010525 0.526724561853106
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.011498498410779932 0.019352186673137935 1.6830185978888432
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.16000972464173777 0.09732320819286386 0.6082330834002171
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.3193732937383025 0.0696550405494495 -0.21809913951830145
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.12126692332265379 0.17486704041094836 1.4420011295716741
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.8547306342304083 0.05091237363075503 0.05956540176730189
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.27711290512589926 0.395484349723745 1.4271596248614502
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness 0.09130289830953775 0.033122508450722454 0.3627760899597027
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.08170103634318668 0.14136282261665614 -1.7302451589825503
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.007975815022907716 0.012623410004599805 -1.5827109791718479
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.1608690150768321 0.22564316071720902 1.402651471505811
RECURRENT recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.1026502509036121 0.12905400885204218 -1.2572205885129597
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1222
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0439
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0360
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0063
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0405
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0350
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0771
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0255
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1934
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0166
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0629
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0048
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.1092
SHAP-- recurrent-mexicocity-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0587
RECURRENT MexicoCity 90 LR 0.39346570759373034 XpVar
RECURRENT MexicoCity 90 RF 0.42409912088354595 XpVar
RECURRENT MexicoCity 90 LLR -3.172065784643304e-17 XpVar
RECURRENT MexicoCity 90 RLR 0.3934587837063917 XpVar
RECURRENT MexicoCity 90 LR 0.5491017401806915 MSE
RECURRENT MexicoCity 90 RF 0.5225745560506945 MSE
RECURRENT MexicoCity 90 LLR 0.9053683142065926 MSE
RECURRENT MexicoCity 90 RLR 0.5491350698189382 MSE
RECURRENT MexicoCity 90 LR 0.39244639987693536 R2
RECURRENT MexicoCity 90 RF 0.42227656070332226 R2
RECURRENT MexicoCity 90 LLR -0.002993929316727595 R2
RECURRENT MexicoCity 90 RLR 0.3924249033436545 R2
t_spatial, t_non_spatial, "seconds" : 5.4836273193359375e-06 345.9372158050537 seconds
sorted_percentage_nan_per_column : maxspeed                         9.6875
n                                0.0000
lane_density                     0.0000
streets_per_node_proportion_6    0.0000
streets_per_node_proportion_5    0.0000
streets_per_node_proportion_4    0.0000
streets_per_node_proportion_3    0.0000
streets_per_node_proportion_2    0.0000
streets_per_node_proportion_1    0.0000
streets_per_node_count_6         0.0000
streets_per_node_count_5         0.0000
streets_per_node_count_4         0.0000
streets_per_node_count_3         0.0000
streets_per_node_count_2         0.0000
streets_per_node_count_1         0.0000
mean_lanes                       0.0000
m                                0.0000
betweenness                      0.0000
total_crossings                  0.0000
non_metered_count                0.0000
metered_count                    0.0000
self_loop_proportion             0.0000
circuity_avg                     0.0000
street_length_avg                0.0000
street_segment_count             0.0000
street_length_total              0.0000
streets_per_node_avg             0.0000
edge_length_avg                  0.0000
edge_length_total                0.0000
k_avg                            0.0000
global_betweenness               0.0000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (320, 14) (320,)
X.shape, Y.shape, "Inside the model-fitting function" : (320, 14) (320,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 50}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.19827328042924164 0.23426181238485017 1.1815097418961193
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.1298415897735976 0.1757527679000513 1.3535937768977426
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.11444593154209923 0.10926111630685119 0.9546963778844266
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.04125988274406435 0.030403678487524517 0.7368823289227208
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.13884642993523968 0.11512641294877346 0.829163652262938
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.28740338705912016 0.04365154739246403 -0.15188250855055063
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.11956342793979789 0.0653254431781974 0.546366429131572
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.09524698450208417 0.09366890758212604 0.983431738776742
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.2827919434355581 0.3573519895134769 1.2636568962047159
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -0.13885807789118274 0.06637273910585187 -0.47798975841985514
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.057584930363053996 0.06725840538132566 -1.1679862241264094
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.16701231969201052 0.015166882751433559 -0.09081295786683877
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.23179151911832294 0.2824339995703791 1.218482887746228
RECURRENT recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.07593651886094416 0.09627714231616548 -1.267863522852151
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1175
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0703
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0485
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0153
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0499
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0218
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0332
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0440
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1770
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0333
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0332
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0076
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.1204
SHAP-- recurrent-mexicocity-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0482
RECURRENT MexicoCity 25 LR 0.45899278251804043 XpVar
RECURRENT MexicoCity 25 RF 0.49989079163200534 XpVar
RECURRENT MexicoCity 25 LLR -3.172065784643304e-17 XpVar
RECURRENT MexicoCity 25 RLR 0.4575749935519586 XpVar
RECURRENT MexicoCity 25 LR 0.4058174907934607 MSE
RECURRENT MexicoCity 25 RF 0.3662104927902723 MSE
RECURRENT MexicoCity 25 LLR 0.7582607864277001 MSE
RECURRENT MexicoCity 25 RLR 0.40533233396323354 MSE
RECURRENT MexicoCity 25 LR 0.451935310098944 R2
RECURRENT MexicoCity 25 RF 0.49709393820445497 R2
RECURRENT MexicoCity 25 LLR -0.012504393519610904 R2
RECURRENT MexicoCity 25 RLR 0.4505689079180631 R2
t_spatial, t_non_spatial, "seconds" : 6.4373016357421875e-06 28.046122312545776 seconds
sorted_percentage_nan_per_column : maxspeed                         24.9742
n                                 0.0000
lane_density                      0.0000
streets_per_node_proportion_6     0.0000
streets_per_node_proportion_5     0.0000
streets_per_node_proportion_4     0.0000
streets_per_node_proportion_3     0.0000
streets_per_node_proportion_2     0.0000
streets_per_node_proportion_1     0.0000
streets_per_node_count_6          0.0000
streets_per_node_count_5          0.0000
streets_per_node_count_4          0.0000
streets_per_node_count_3          0.0000
streets_per_node_count_2          0.0000
streets_per_node_count_1          0.0000
mean_lanes                        0.0000
m                                 0.0000
betweenness                       0.0000
total_crossings                   0.0000
non_metered_count                 0.0000
metered_count                     0.0000
self_loop_proportion              0.0000
circuity_avg                      0.0000
street_length_avg                 0.0000
street_segment_count              0.0000
street_length_total               0.0000
streets_per_node_avg              0.0000
edge_length_avg                   0.0000
edge_length_total                 0.0000
k_avg                             0.0000
global_betweenness                0.0000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (969, 14) (969,)
X.shape, Y.shape, "Inside the model-fitting function" : (969, 14) (969,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.1774950076731242 0.23428874633230315 1.3199737243526906
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.11003121403430134 0.1402386040610003 1.2745347335464468
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.1274535716462927 0.12058943758017959 0.9461440430625017
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.03907810120557576 0.01208041078176993 0.30913505029886834
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.0848951460639069 0.0807061410191084 0.9506567190349715
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.1087589171911016 0.041766752550729924 -0.3840306030018767
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.09724216679497298 0.11908595081933426 1.2246328392745205
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes 0.10632101952816095 0.053210199823254874 0.5004673587536587
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.3369478090946221 0.41969864114317 1.245589464644092
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness 3.299221974040404 0.05915337218377199 0.017929491452595293
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.05748054673749343 0.08651254259765084 -1.505075151646399
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.037963633779607334 0.011169307609353574 -0.2942107089694168
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.19723355418389413 0.24628327628195262 1.2486885271677766
RECURRENT recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.09419752528827122 0.11769415489835776 -1.2494399883455556
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1168
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0594
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0468
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0059
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0355
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0207
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0558
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0257
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.2101
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0293
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0430
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0055
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.1001
SHAP-- recurrent-mexicocity-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0559
RECURRENT MexicoCity 50 LR 0.43638404274243786 XpVar
RECURRENT MexicoCity 50 RF 0.4891327694244376 XpVar
RECURRENT MexicoCity 50 LLR -3.172065784643304e-17 XpVar
RECURRENT MexicoCity 50 RLR 0.4361376475564595 XpVar
RECURRENT MexicoCity 50 LR 0.456759826507435 MSE
RECURRENT MexicoCity 50 RF 0.4150747220391876 MSE
RECURRENT MexicoCity 50 LLR 0.8174985931168137 MSE
RECURRENT MexicoCity 50 RLR 0.4570643704436354 MSE
RECURRENT MexicoCity 50 LR 0.431532839542573 R2
RECURRENT MexicoCity 50 RF 0.4836077161755751 R2
RECURRENT MexicoCity 50 LLR -0.009146866871675652 R2
RECURRENT MexicoCity 50 RLR 0.43121169767720635 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 127.93867540359497 seconds
sorted_percentage_nan_per_column : maxspeed                         37.490196
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : MexicoCity 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2550, 14) (2550,)
X.shape, Y.shape, "Inside the model-fitting function" : (2550, 14) (2550,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.16406125796823787 0.2510446557604624 1.5301885336577419
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 n 0.11044052915222631 0.1125234881331407 1.0188604581751264
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.3494275945933591 0.09139464591602618 0.26155531884190564
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 streets_per_node_count_5 0.012617018964196985 0.027934191637456224 2.2140088492158423
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 streets_per_node_count_3 0.18848152434872167 0.1029450277752154 0.5461810017238096
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.060273756570076276 0.05222013856433594 -0.8663826769055463
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_avg 0.09336984614222178 0.13149450283358705 1.4083187267256867
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 mean_lanes -0.23606453058606094 0.05301080252457809 -0.2245606419268997
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.279991832752139 0.40732428588523717 1.4547720263177046
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 betweenness -2.5698423836430737 0.040341279361668925 -0.01569795860572589
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 streets_per_node_count_2 -0.08623162227129484 0.1412695747377133 -1.6382571847397531
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.018751403665084636 0.005651517372215113 -0.301391697024704
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_4 0.1773818829320537 0.21636962064590273 1.2197954890848877
RECURRENT recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 circuity_avg -0.14997545626396544 0.173470036224071 -1.1566561659179335
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.1192
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0456
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0393
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0083
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0419
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0263
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0643
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0264
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.1984
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0201
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0663
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0027
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0935
SHAP-- recurrent-mexicocity-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0774
RECURRENT MexicoCity 100 LR 0.37112720097622354 XpVar
RECURRENT MexicoCity 100 RF 0.4149375471469004 XpVar
RECURRENT MexicoCity 100 LLR -3.172065784643304e-17 XpVar
RECURRENT MexicoCity 100 RLR 0.37114188291590994 XpVar
RECURRENT MexicoCity 100 LR 0.5695356313505548 MSE
RECURRENT MexicoCity 100 RF 0.5295534174994941 MSE
RECURRENT MexicoCity 100 LLR 0.9050035032842202 MSE
RECURRENT MexicoCity 100 RLR 0.5695265814238007 MSE
RECURRENT MexicoCity 100 LR 0.3705790653571217 R2
RECURRENT MexicoCity 100 RF 0.41434257135508407 R2
RECURRENT MexicoCity 100 LLR -0.0009078213773818788 R2
RECURRENT MexicoCity 100 RLR 0.37059203624313364 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 409.68597197532654 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

