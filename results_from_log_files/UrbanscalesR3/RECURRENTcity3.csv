X.shape, Y.shape, "Inside the model-fitting function" : (206, 14) (206,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.05587577865450727 0.06772611986648944 -1.2120836880906043
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.06398483121391088 0.08587591126438351 1.3421292146147494
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.042080981132133564 0.0617689709403142 1.4678595716758762
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.2779598900250597 0.023030051727974142 -0.08285386688668588
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness 0.2952102559922 0.0168997137329846 0.057246363871013756
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.028151556796994232 0.03922551039612219 1.3933691368823458
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.023558386532256174 0.03719197796134015 1.5787149901126227
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.017270109645879356 0.028642458021258622 1.6584989098834533
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.053418782308613626 0.07437454291715323 1.3922919936188913
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.049908951365130905 0.06036977495200528 1.2095981442355623
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.06383026671346818 0.10119223575825503 1.5853331181037267
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.01928474099764338 0.016181041575816207 0.8390593152271815
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.05067831852076183 0.07751960219412163 1.5296403759403243
RECURRENT recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.05624013214446392 0.02269165912486591 -0.40347805489819777
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0339
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0427
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0309
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0114
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0085
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0194
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0184
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0112
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0344
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0301
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0506
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0074
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0387
SHAP-- recurrent-auckland-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0104
RECURRENT Auckland 20 LR 0.5246363050117188 XpVar
RECURRENT Auckland 20 RF 0.5577322154111034 XpVar
RECURRENT Auckland 20 LLR 9.516197353929913e-17 XpVar
RECURRENT Auckland 20 RLR 0.5173719134344547 XpVar
RECURRENT Auckland 20 LR 0.05361101048190581 MSE
RECURRENT Auckland 20 RF 0.04912681340439152 MSE
RECURRENT Auckland 20 LLR 0.11247554751130452 MSE
RECURRENT Auckland 20 RLR 0.05412901049403087 MSE
RECURRENT Auckland 20 LR 0.5031653304923813 R2
RECURRENT Auckland 20 RF 0.5404314952250113 R2
RECURRENT Auckland 20 LLR -0.044261877698615226 R2
RECURRENT Auckland 20 RLR 0.4989067486898353 R2
t_spatial, t_non_spatial, "seconds" : 9.5367431640625e-07 29.6140878200531 seconds
sorted_percentage_nan_per_column : maxspeed                         4.938272
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (405, 14) (405,)
X.shape, Y.shape, "Inside the model-fitting function" : (405, 14) (405,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.08850151024198413 0.09979744334833679 -1.1276354841343035
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.10684857807913203 0.13712849218168383 1.2833908943563712
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.046307347536640286 0.07176569240524577 1.5497690155641455
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.032619468907979905 0.028929074556871263 -0.8868652839959071
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness 0.34627230340564236 0.0223307896536243 0.06448910130552599
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.02269018420309899 0.03090442206351239 1.362017240005108
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.02183816729381584 0.03305604816871651 1.5136823399130828
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.009902710515009544 0.021208541396836124 2.1416905366152355
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.029119675282617444 0.04530496959035296 1.555819876102708
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.04463808461313614 0.05900165373899295 1.321778348025934
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.05363942861311345 0.08246477525871782 1.537391008646153
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.009697443963685924 0.012435081316115645 1.2823050447810131
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.07435726430902352 0.10672204047395963 1.4352604478619653
RECURRENT recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.629753336982624 0.029885322970024285 -0.0474556008122413
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0497
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0685
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0357
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0149
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0113
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0153
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0167
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0065
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0201
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0296
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0407
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0055
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0524
SHAP-- recurrent-auckland-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0149
RECURRENT Auckland 30 LR 0.44618247317577503 XpVar
RECURRENT Auckland 30 RF 0.5257314317128601 XpVar
RECURRENT Auckland 30 LLR 1.586032892321652e-17 XpVar
RECURRENT Auckland 30 RLR 0.4471670446634466 XpVar
RECURRENT Auckland 30 LR 0.07820450220332797 MSE
RECURRENT Auckland 30 RF 0.06812453995469521 MSE
RECURRENT Auckland 30 LLR 0.13649582642974548 MSE
RECURRENT Auckland 30 RLR 0.07824312367237161 MSE
RECURRENT Auckland 30 LR 0.44118426416615125 R2
RECURRENT Auckland 30 RF 0.5182025312072581 R2
RECURRENT Auckland 30 LLR -0.007855330510541991 R2
RECURRENT Auckland 30 RLR 0.4416957130017708 R2
t_spatial, t_non_spatial, "seconds" : 9.5367431640625e-07 44.76178860664368 seconds
sorted_percentage_nan_per_column : maxspeed                         5.66343
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (618, 14) (618,)
X.shape, Y.shape, "Inside the model-fitting function" : (618, 14) (618,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.0748689126515037 0.0862588811366552 -1.1521321478003694
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.07008065426884008 0.09450415074751424 1.348505543127236
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.049578877497456264 0.07244677685562283 1.4612427814514324
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.04419406792033947 0.02502263741722511 -0.5661990080281549
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.04106508625050405 0.018188490020072886 -0.4429185880463025
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.02606527332770434 0.03611295765577224 1.3854816407157484
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.025057662182877735 0.03529018343713267 1.4083589753734875
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.009692358422776914 0.024867995740185715 2.565732162952853
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.05192704469984122 0.0920682883506063 1.773031546139344
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.02597899131162813 0.035455449336115316 1.3647739017582854
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.06854384794542102 0.10774993941793787 1.5719855632227597
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.03410144007973902 0.004962443356673257 0.1455200526743044
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.07786862699413036 0.1144549038233236 1.469846178640739
RECURRENT recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg 0.07587034892511925 0.021958303813416798 0.2894187798594243
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0431
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0466
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0353
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0123
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0090
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0181
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0177
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0062
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0345
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0177
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0528
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0025
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0551
SHAP-- recurrent-auckland-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0110
RECURRENT Auckland 40 LR 0.435014395831771 XpVar
RECURRENT Auckland 40 RF 0.5065249446096509 XpVar
RECURRENT Auckland 40 LLR 1.586032892321652e-17 XpVar
RECURRENT Auckland 40 RLR 0.43195149013733064 XpVar
RECURRENT Auckland 40 LR 0.07525059880818427 MSE
RECURRENT Auckland 40 RF 0.06627365421438625 MSE
RECURRENT Auckland 40 LLR 0.13441305468873813 MSE
RECURRENT Auckland 40 RLR 0.07561302415044445 MSE
RECURRENT Auckland 40 LR 0.4308467101640585 R2
RECURRENT Auckland 40 RF 0.502648088097964 R2
RECURRENT Auckland 40 LLR -0.014090972591771658 R2
RECURRENT Auckland 40 RLR 0.4277111925393253 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 61.69325566291809 seconds
sorted_percentage_nan_per_column : maxspeed                         5.136986
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1168, 14) (1168,)
X.shape, Y.shape, "Inside the model-fitting function" : (1168, 14) (1168,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.07927145039356413 0.08714362886577486 -1.099306603236439
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.05687593285167923 0.08177661427063632 1.4378069979773862
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.06353250121391377 0.09287585674334763 1.4618636913197367
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.03878483055594202 0.03548934530006344 -0.9150315933151938
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.03017509021878028 0.018868022312438434 -0.6252847025688564
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.026306357767978673 0.03544808817610327 1.3475103048758936
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.021010979182099387 0.027387348700184555 1.3034779799085998
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.009101121547326677 0.030566176993014303 3.3585066229549123
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.05106591822449582 0.10022997238072054 1.962756685194416
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.030598168912729432 0.045349939508046014 1.4821128557526055
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.07565397547500083 0.11830993037826909 1.5638296551562387
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.2989095627908308 0.004690269192349892 -0.01569126510559992
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.08991258439660343 0.12840450331211378 1.4281037985263878
RECURRENT recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg 0.040193734812590226 0.02779423152005256 0.6915065656288883
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0435
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0389
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0450
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0171
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0094
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0178
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0139
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0048
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0338
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0212
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0562
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0023
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0602
SHAP-- recurrent-auckland-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0140
RECURRENT Auckland 60 LR 0.3898281884497092 XpVar
RECURRENT Auckland 60 RF 0.4392403162438314 XpVar
RECURRENT Auckland 60 LLR 0.0 XpVar
RECURRENT Auckland 60 RLR 0.3904541766483454 XpVar
RECURRENT Auckland 60 LR 0.09876803680410633 MSE
RECURRENT Auckland 60 RF 0.09101092025993983 MSE
RECURRENT Auckland 60 LLR 0.15638911621520507 MSE
RECURRENT Auckland 60 RLR 0.09869149652687093 MSE
RECURRENT Auckland 60 LR 0.3846172923358259 R2
RECURRENT Auckland 60 RF 0.4342600665850558 R2
RECURRENT Auckland 60 LLR -0.008574008269406923 R2
RECURRENT Auckland 60 RLR 0.3851956221150532 R2
t_spatial, t_non_spatial, "seconds" : 3.337860107421875e-06 148.4054822921753 seconds
sorted_percentage_nan_per_column : maxspeed                         5.874409
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1481, 14) (1481,)
X.shape, Y.shape, "Inside the model-fitting function" : (1481, 14) (1481,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.0959372485116178 0.1040695478505208 -1.0847668602661478
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.05654760603567441 0.07114344892954325 1.2581160179382431
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.08514474780588231 0.12438093134903314 1.460817426256328
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.0323931912044498 0.030797336143377502 -0.9507348611935129
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.02224428133558349 0.024394567285347064 -1.0966669103543403
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.042219975231049416 0.0663081107397526 1.5705388356312509
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.03873442692492094 0.022531310159365624 0.5816869371280007
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.008251098158764816 0.03008620201117404 3.6463270018445555
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.06032041424920036 0.11932466295148295 1.9781804292410805
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.0315491083175673 0.04149831623554153 1.315356231872781
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.07072481478689904 0.10850443779885238 1.5341777581996803
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count -0.5630150131100797 0.005363889502860872 -0.009527080766871369
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.08760640720219946 0.12074042426528236 1.3782145407082855
RECURRENT recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.05074792283599763 0.0227182572421203 -0.44766871179218565
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0522
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0352
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0518
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0149
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0121
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0321
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0110
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0041
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0385
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0190
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0513
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0027
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0536
SHAP-- recurrent-auckland-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0113
RECURRENT Auckland 70 LR 0.305364507420444 XpVar
RECURRENT Auckland 70 RF 0.31927967511932426 XpVar
RECURRENT Auckland 70 LLR -3.172065784643304e-17 XpVar
RECURRENT Auckland 70 RLR 0.30562498962469037 XpVar
RECURRENT Auckland 70 LR 0.16325864815119903 MSE
RECURRENT Auckland 70 RF 0.16186953953163288 MSE
RECURRENT Auckland 70 LLR 0.21625137967479796 MSE
RECURRENT Auckland 70 RLR 0.16325928217828684 MSE
RECURRENT Auckland 70 LR 0.3024280577218435 R2
RECURRENT Auckland 70 RF 0.31483894960147335 R2
RECURRENT Auckland 70 LLR -0.0039591102264955646 R2
RECURRENT Auckland 70 RLR 0.3025850493731947 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 112.82257771492004 seconds
sorted_percentage_nan_per_column : maxspeed                         5.749718
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1774, 14) (1774,)
X.shape, Y.shape, "Inside the model-fitting function" : (1774, 14) (1774,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.11511967774663054 0.11593956925484994 -1.0071220795981024
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.05838651307723897 0.07474352818155894 1.2801505731757166
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.06460224604288345 0.08963126054125617 1.3874325744302802
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.04764939421408533 0.04488192190243078 -0.9419200945300481
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.06105982096679774 0.026337960305342984 -0.4313468314894777
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.03628154933485143 0.04797867385087083 1.3223987048641097
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.0355049903733324 0.03944929649974303 1.1110915982496135
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.013153804763965521 0.05310683760655881 4.037374627305059
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.06234237508910738 0.1327035894657563 2.1286258227422366
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.03365540352916185 0.050547946123827 1.5019266097947108
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.06873844955404093 0.10261532269777063 1.4928373183206047
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.012126445494037966 0.009044525962891632 0.7458513681802654
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.09507966468057985 0.13393395862392737 1.4086498840091468
RECURRENT recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.05654445196173936 0.03458669106054313 -0.6116725843226161
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0580
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0370
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0427
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0224
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0133
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0241
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0194
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0062
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0398
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0225
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0480
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0038
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0621
SHAP-- recurrent-auckland-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0174
RECURRENT Auckland 80 LR 0.3534290921499756 XpVar
RECURRENT Auckland 80 RF 0.3914166398086758 XpVar
RECURRENT Auckland 80 LLR -3.172065784643304e-17 XpVar
RECURRENT Auckland 80 RLR 0.35347975451706476 XpVar
RECURRENT Auckland 80 LR 0.11468694822776915 MSE
RECURRENT Auckland 80 RF 0.10752717976906556 MSE
RECURRENT Auckland 80 LLR 0.17187835317841466 MSE
RECURRENT Auckland 80 RLR 0.11460382413020266 MSE
RECURRENT Auckland 80 LR 0.34856918732451314 R2
RECURRENT Auckland 80 RF 0.38738951251070214 R2
RECURRENT Auckland 80 LLR -0.005874655183872487 R2
RECURRENT Auckland 80 RLR 0.34867215952690944 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 778.2382588386536 seconds
sorted_percentage_nan_per_column : maxspeed                         5.982101
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2123, 14) (2123,)
X.shape, Y.shape, "Inside the model-fitting function" : (2123, 14) (2123,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.0837021595207345 0.09341917516807294 -1.1160903816935734
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.05610799229961627 0.07200747817344773 1.2833729246437533
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.05676321581296762 0.08410487986825857 1.4816792647086903
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.036095567835312675 0.040609636488444886 -1.125058807046001
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.029869979773751363 0.02159284307604748 -0.7228944659354097
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.03515911332345883 0.05287147187559421 1.5037771683598562
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.02283327959482779 0.030813205170659864 1.3494866141629385
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.009077268381290386 0.03758097263872643 4.140119148199525
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.04484154613857428 0.09795595270890602 2.1844909719703187
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.048485263086727765 0.07292702900721729 1.504107111407634
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.06906540008991123 0.10723251307007328 1.552622773928408
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.00996324333726977 0.010543098689667046 1.058199457021008
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.09334679954787166 0.13120989088977197 1.4056174558237826
RECURRENT recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg -0.9974858727505522 0.024735766325667357 -0.024798111934617034
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0467
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0352
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0404
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0202
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0108
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0260
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0150
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0036
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0293
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0327
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0519
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0043
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0598
SHAP-- recurrent-auckland-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0112
RECURRENT Auckland 90 LR 0.29525411905556503 XpVar
RECURRENT Auckland 90 RF 0.33158809179388876 XpVar
RECURRENT Auckland 90 LLR 0.0 XpVar
RECURRENT Auckland 90 RLR 0.29530597925933194 XpVar
RECURRENT Auckland 90 LR 0.14009278187955504 MSE
RECURRENT Auckland 90 RF 0.1342134757267211 MSE
RECURRENT Auckland 90 LLR 0.19267916410472835 MSE
RECURRENT Auckland 90 RLR 0.14008706256008646 MSE
RECURRENT Auckland 90 LR 0.2946192021239189 R2
RECURRENT Auckland 90 RF 0.3311052789218913 R2
RECURRENT Auckland 90 LLR -0.0018914619802259075 R2
RECURRENT Auckland 90 RLR 0.2946784794649835 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 172.04192543029785 seconds
sorted_percentage_nan_per_column : maxspeed                         4.901961
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (306, 14) (306,)
X.shape, Y.shape, "Inside the model-fitting function" : (306, 14) (306,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 50}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.06663659386105732 0.07689228706643778 -1.1539048233282212
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.05983551526473974 0.07561938566216325 1.2637876573401003
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.053737228140063355 0.08287212565791996 1.5421734340654485
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.29002858436489065 0.019178712821641505 -0.06612697456576346
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.03022047972180389 0.02572735058529796 -0.851321713689933
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.03773288990517946 0.061628206498087104 1.6332755496055344
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.029262783581194378 0.030852918638263793 1.0543398427103603
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.012995335210927774 0.02204637773350981 1.6964839594880952
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.04888981737633966 0.07640681066109198 1.5628369006358618
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.04459166428988927 0.05536434113357146 1.2415849916174757
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.03880200370562711 0.05489888291706936 1.4148465974479525
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.015137365217433332 0.011504255249847065 0.7599905984033402
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.07275327880218246 0.10869365299936115 1.4940034976966639
RECURRENT recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg 0.4421154228787729 0.029227217299062403 0.06610766281066029
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0384
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0378
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0410
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0096
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0128
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0306
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0154
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0079
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0341
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0275
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0282
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0053
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0525
SHAP-- recurrent-auckland-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0146
RECURRENT Auckland 25 LR 0.4603382620511796 XpVar
RECURRENT Auckland 25 RF 0.45438270197928565 XpVar
RECURRENT Auckland 25 LLR 6.344131569286608e-17 XpVar
RECURRENT Auckland 25 RLR 0.45344020644050254 XpVar
RECURRENT Auckland 25 LR 0.06994657949653714 MSE
RECURRENT Auckland 25 RF 0.0713000799290674 MSE
RECURRENT Auckland 25 LLR 0.12948315897927137 MSE
RECURRENT Auckland 25 RLR 0.07113410723989463 MSE
RECURRENT Auckland 25 LR 0.4569433680236033 R2
RECURRENT Auckland 25 RF 0.4518054471106213 R2
RECURRENT Auckland 25 LLR -0.023649158433522017 R2
RECURRENT Auckland 25 RLR 0.44818796293662544 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 27.189364433288574 seconds
sorted_percentage_nan_per_column : maxspeed                         6.03352
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (895, 14) (895,)
X.shape, Y.shape, "Inside the model-fitting function" : (895, 14) (895,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.09840826792134243 0.11083661503457817 -1.126293728929054
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.06159477005131218 0.08102353353274655 1.3154287850291353
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.05090600147521698 0.07036465299920512 1.382246708837687
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.060388846111924833 0.03496049303373373 -0.5789230178191825
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.07714389930368924 0.027284709460712375 -0.3536859000774873
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.04077391156804318 0.05884466036937805 1.443193897921188
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.04761174758388667 0.026614221563634653 0.5589843455492433
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.0051943635864572955 0.01137752241897704 2.190359267233512
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.0648433524004771 0.12225994840677638 1.8854661870609397
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.046537180428288874 0.062380168905118105 1.3404372231197454
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.06794981201513503 0.10317521984178307 1.5184033153587237
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.015564252085213346 0.010633448394968402 0.6831968755550161
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.08526980965143043 0.12144675457257723 1.4242644034158451
RECURRENT recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg 0.07872659105493363 0.027433126362874566 0.3484607423650842
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0553
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0403
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0340
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0174
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0136
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0294
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0134
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0026
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0424
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0299
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0492
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0046
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0569
SHAP-- recurrent-auckland-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0139
RECURRENT Auckland 50 LR 0.38778584471471644 XpVar
RECURRENT Auckland 50 RF 0.43199668901945426 XpVar
RECURRENT Auckland 50 LLR 4.7580986769649563e-17 XpVar
RECURRENT Auckland 50 RLR 0.3871866307269184 XpVar
RECURRENT Auckland 50 LR 0.10303787061212343 MSE
RECURRENT Auckland 50 RF 0.09648364519967186 MSE
RECURRENT Auckland 50 LLR 0.16213363054194724 MSE
RECURRENT Auckland 50 RLR 0.10311637132521487 MSE
RECURRENT Auckland 50 LR 0.38370806129661494 R2
RECURRENT Auckland 50 RF 0.42680767902902694 R2
RECURRENT Auckland 50 LLR -0.007838223976980403 R2
RECURRENT Auckland 50 RLR 0.3829206294957771 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 150.24489545822144 seconds
sorted_percentage_nan_per_column : maxspeed                         5.638945
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Auckland 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2465, 14) (2465,)
X.shape, Y.shape, "Inside the model-fitting function" : (2465, 14) (2465,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 circuity_avg -0.09795627495891324 0.10012855876013953 -1.022176055613971
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 streets_per_node_count_4 0.04417546435285253 0.059454003791630024 1.345860301925517
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 m 0.07790455552774168 0.11309725791184277 1.451741263982554
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 mean_lanes -0.033953960477871525 0.03486151434922713 -1.026728954695788
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 betweenness -0.10784344546263804 0.024110058511409592 -0.22356535817248563
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 streets_per_node_avg 0.027685950865567584 0.04228560376535655 1.5273307379139445
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.02323176607291999 0.02445437204828413 1.052626475814478
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 streets_per_node_count_5 0.009064173542617331 0.03867891873819607 4.267230603688035
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 metered_count 0.06354486619031066 0.1461312608864039 2.299654868243094
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 total_crossings 0.03779828332448618 0.05910382041557399 1.5636641460191878
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.09352434594629337 0.14208387457648058 1.5192180510738098
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 non_metered_count 0.008473433121817453 0.0048371589140962365 0.5708617563336267
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 streets_per_node_count_3 0.06991339464380239 0.09679028462017297 1.3844311968157754
RECURRENT recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 k_avg 0.04712855102026007 0.020998960156930598 0.44556770158079684
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0502
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0289
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0489
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0172
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0120
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0211
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0121
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0035
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0405
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0246
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0607
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0022
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0437
SHAP-- recurrent-auckland-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0104
RECURRENT Auckland 100 LR 0.3005198864999571 XpVar
RECURRENT Auckland 100 RF 0.3567504888449977 XpVar
RECURRENT Auckland 100 LLR 0.0 XpVar
RECURRENT Auckland 100 RLR 0.30060512517971166 XpVar
RECURRENT Auckland 100 LR 0.1361725372515519 MSE
RECURRENT Auckland 100 RF 0.12711543845605372 MSE
RECURRENT Auckland 100 LLR 0.1897416538680983 MSE
RECURRENT Auckland 100 RLR 0.13615153008179842 MSE
RECURRENT Auckland 100 LR 0.2988093907331372 R2
RECURRENT Auckland 100 RF 0.3551108286523383 R2
RECURRENT Auckland 100 LLR -0.0029857574037351104 R2
RECURRENT Auckland 100 RLR 0.29889792019127764 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 230.3869504928589 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

