Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         61.111111
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 150 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (5094, 14) (5094,)
X.shape, Y.shape, "Inside the model-fitting function" : (5094, 14) (5094,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.001278729666814488 0.0032554549550520805 2.545850807670646
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.03250712043110299 0.0264638735992739 0.8140946736688841
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.004848369969650803 0.01232654145124982 2.5424094135575266
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg -0.014409290661423284 0.006101404185952391 -0.4234354299123925
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.005669444963126669 0.015539687713859676 2.7409539760819235
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.01125638415339561 0.017331876330695776 -1.5397374587173651
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.014633787417654044 0.018367455429808315 1.2551402385174746
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.012232472569603685 0.02539767629498787 2.076250418750027
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.017753189855270805 0.02993913959624666 1.6864090251002373
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.010751851834353773 0.004717217419185495 0.4387353445583467
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.012318211913706738 0.017567156509947328 1.4261125423893688
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.00808626219410372 0.009730853546804993 1.2033809086601799
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.013685897895318261 0.019582260381725194 -1.4308349025769065
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.013223072775292832 0.017987080522997183 1.3602799310464242
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0008
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0124
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0024
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0030
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0027
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0087
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0087
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0069
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0138
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0024
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0080
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0043
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0094
SHAP-- non-recurrent-mmm-istanbul-150-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0082
NON-RECURRENT-MMM Istanbul 150 LR 0.16890650008741068 XpVar
NON-RECURRENT-MMM Istanbul 150 RF 0.1826914450490625 XpVar
NON-RECURRENT-MMM Istanbul 150 LLR 4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Istanbul 150 RLR 0.16892246663567345 XpVar
NON-RECURRENT-MMM Istanbul 150 LR 0.014218466293872337 MSE
NON-RECURRENT-MMM Istanbul 150 RF 0.013983184972469214 MSE
NON-RECURRENT-MMM Istanbul 150 LLR 0.017032545927380998 MSE
NON-RECURRENT-MMM Istanbul 150 RLR 0.014217993048239981 MSE
NON-RECURRENT-MMM Istanbul 150 LR 0.16790633494850643 R2
NON-RECURRENT-MMM Istanbul 150 RF 0.18168579190818265 R2
NON-RECURRENT-MMM Istanbul 150 LLR -0.001574350825436602 R2
NON-RECURRENT-MMM Istanbul 150 RLR 0.16791197408320846 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 797.3669064044952 seconds
sorted_percentage_nan_per_column : maxspeed                         50.086059
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 75 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1743, 14) (1743,)
X.shape, Y.shape, "Inside the model-fitting function" : (1743, 14) (1743,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.006272229551495772 0.011156395263607686 1.778696900681379
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.029858153517213104 0.021726294389048335 0.7276503008306664
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.004544247437642138 0.009389769721181454 2.066298072460046
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg -0.014042956441731763 0.006312912679471231 -0.4495429937182608
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.005812600583345709 0.011813860382261407 2.0324569377965753
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.011490316716021534 0.01848695440321646 -1.6089159994553637
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.020481317672817762 0.026324865332220396 1.2853111187840238
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.014695611788068635 0.023581624583974923 1.6046711715071869
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.020127669104167606 0.03466893239253017 1.7224514280867063
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.006069646910256864 0.008137271543786649 1.3406499033800112
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.009817697656139587 0.013998455776860538 1.4258389560516234
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.011022615802011448 0.005063888856445544 0.45940899577770516
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.010368822240448522 0.011594867025112952 -1.118243398935094
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.009218347823672321 0.013005698396439922 1.4108491722390695
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0045
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0109
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0029
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0031
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0029
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0096
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0127
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0090
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0165
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0041
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0070
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0027
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0054
SHAP-- non-recurrent-mmm-istanbul-75-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0065
NON-RECURRENT-MMM Istanbul 75 LR 0.2505123591824144 XpVar
NON-RECURRENT-MMM Istanbul 75 RF 0.25784631841724537 XpVar
NON-RECURRENT-MMM Istanbul 75 LLR 3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Istanbul 75 RLR 0.2505287757608409 XpVar
NON-RECURRENT-MMM Istanbul 75 LR 0.009808349741567579 MSE
NON-RECURRENT-MMM Istanbul 75 RF 0.009697262475858058 MSE
NON-RECURRENT-MMM Istanbul 75 LLR 0.012984207229178346 MSE
NON-RECURRENT-MMM Istanbul 75 RLR 0.009806155870629874 MSE
NON-RECURRENT-MMM Istanbul 75 LR 0.2472028406699657 R2
NON-RECURRENT-MMM Istanbul 75 RF 0.2540054041698795 R2
NON-RECURRENT-MMM Istanbul 75 LLR -0.0033545523767052493 R2
NON-RECURRENT-MMM Istanbul 75 RLR 0.24727630287592156 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 195.52353358268738 seconds
sorted_percentage_nan_per_column : maxspeed                         34.601449
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 37 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (552, 14) (552,)
X.shape, Y.shape, "Inside the model-fitting function" : (552, 14) (552,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.009754893853134668 0.012910416520793635 1.323480984536286
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.022886183782557672 0.01820820047560008 0.7955979314243365
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.005515155079910251 0.011365917136653766 2.0608517751487643
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg 0.019449126113589132 0.004958090058205325 0.25492610975158936
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.008736403248164756 0.01239726969540918 1.4190358827602718
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.010246514463209363 0.01250610515896216 -1.2205228620782191
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.021093805696764157 0.028924821809118685 1.3712471909967308
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.01638045336884094 0.02480151282054406 1.5140919644948134
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.0158467439619554 0.025920343161707257 1.635688897601702
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.013836534788726115 0.010156459743793016 0.7340320317821489
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.008777498485330224 0.01099772510744846 1.252945258359074
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.012080279134009643 0.006494435095561529 0.5376063767663884
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.014188665270594042 0.008903907623208364 -0.6275366606654454
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.012835676306229078 0.01738966206244736 1.3547912589544082
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0065
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0091
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0040
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0025
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0042
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0063
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0145
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0099
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0127
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0051
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0056
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0033
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0043
SHAP-- non-recurrent-mmm-istanbul-37-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0086
NON-RECURRENT-MMM Istanbul 37 LR 0.37400729107202724 XpVar
NON-RECURRENT-MMM Istanbul 37 RF 0.36344250931928623 XpVar
NON-RECURRENT-MMM Istanbul 37 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Istanbul 37 RLR 0.36908595027369995 XpVar
NON-RECURRENT-MMM Istanbul 37 LR 0.006260057327849193 MSE
NON-RECURRENT-MMM Istanbul 37 RF 0.006296411669554753 MSE
NON-RECURRENT-MMM Istanbul 37 LLR 0.009617981965702068 MSE
NON-RECURRENT-MMM Istanbul 37 RLR 0.006304685803299794 MSE
NON-RECURRENT-MMM Istanbul 37 LR 0.3628302144644823 R2
NON-RECURRENT-MMM Istanbul 37 RF 0.3452955366610648 R2
NON-RECURRENT-MMM Istanbul 37 LLR -0.007742426974939384 R2
NON-RECURRENT-MMM Istanbul 37 RLR 0.357874306040387 R2
t_spatial, t_non_spatial, "seconds" : 1.1920928955078125e-06 92.41759490966797 seconds
sorted_percentage_nan_per_column : maxspeed                         58.956082
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 135 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (4349, 14) (4349,)
X.shape, Y.shape, "Inside the model-fitting function" : (4349, 14) (4349,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.003994448673606223 0.009625990243009858 2.4098420156490405
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.033157646444362046 0.026154674412623903 0.788797674663399
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.004160889598680373 0.010469832346632235 2.5162485325139956
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg -0.014621960784378881 0.008154929983187927 -0.5577179492848938
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.005533181022274221 0.015047554238574809 2.7195123705513677
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.011449794741453913 0.016943850909881243 -1.4798388348863698
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.013782327143400039 0.017425793760100887 1.2643578677818281
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.013801932892514664 0.028299515379890387 2.050402331345803
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.017004220280715278 0.02890347664101714 1.6997825342098734
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.005015616025366572 0.004781214181966622 0.9532655924587412
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.011951284746660561 0.017832121343633933 1.492067315073938
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.005517600609183066 0.005296188938630573 0.9598717474795125
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.012372115325135316 0.01793421981489294 -1.4495677855877722
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.012308852266550695 0.01616772608151837 1.313503950766731
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0024
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0124
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0023
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0040
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0024
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0085
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0084
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0081
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0139
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0024
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0087
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0028
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0089
SHAP-- non-recurrent-mmm-istanbul-135-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0081
NON-RECURRENT-MMM Istanbul 135 LR 0.18298076780010925 XpVar
NON-RECURRENT-MMM Istanbul 135 RF 0.18629688789212948 XpVar
NON-RECURRENT-MMM Istanbul 135 LLR 0.0 XpVar
NON-RECURRENT-MMM Istanbul 135 RLR 0.18303109885349084 XpVar
NON-RECURRENT-MMM Istanbul 135 LR 0.013028011402629228 MSE
NON-RECURRENT-MMM Istanbul 135 RF 0.012985410211071014 MSE
NON-RECURRENT-MMM Istanbul 135 LLR 0.015872800313782912 MSE
NON-RECURRENT-MMM Istanbul 135 RLR 0.013026974672188139 MSE
NON-RECURRENT-MMM Istanbul 135 LR 0.182493492229924 R2
NON-RECURRENT-MMM Istanbul 135 RF 0.18581358725497074 R2
NON-RECURRENT-MMM Istanbul 135 LLR -0.0004606946717828908 R2
NON-RECURRENT-MMM Istanbul 135 RLR 0.18254316113266914 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 644.3280334472656 seconds
sorted_percentage_nan_per_column : maxspeed                         57.690172
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 120 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (3602, 14) (3602,)
X.shape, Y.shape, "Inside the model-fitting function" : (3602, 14) (3602,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.0019564448272648173 0.004438519698927226 2.2686659174194257
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.03704340921057301 0.02920711910519867 0.7884565629251616
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.004380204534093357 0.010097048658758932 2.305154606404444
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg 0.10465000975593919 0.0056304978084896025 0.05380312741127151
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.007664499086653148 0.019410299580041732 2.532494212680194
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.010951450583149207 0.01690244012320861 -1.5433973787194986
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.017069673906237315 0.02225961155974597 1.3040443351183315
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.013118367787739794 0.025122950309907414 1.9150972679228357
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.019767453548172387 0.034503799858481676 1.7454853137455202
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.015960386935482674 0.006081569608062258 0.3810414893226609
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.009287937671818682 0.014166372528278692 1.5252441423311962
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.005728906265626151 0.005428457931424234 0.9475557252516718
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.01357773629331952 0.019918636960337726 -1.4670072042964952
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.01295537144000749 0.01861203894733259 1.4366271961803228
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0014
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0139
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0021
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0027
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0037
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0086
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0108
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0075
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0154
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0031
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0070
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0027
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0099
SHAP-- non-recurrent-mmm-istanbul-120-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0090
NON-RECURRENT-MMM Istanbul 120 LR 0.20748317642419417 XpVar
NON-RECURRENT-MMM Istanbul 120 RF 0.21521113201816713 XpVar
NON-RECURRENT-MMM Istanbul 120 LLR -4.7580986769649563e-17 XpVar
NON-RECURRENT-MMM Istanbul 120 RLR 0.2074693057646926 XpVar
NON-RECURRENT-MMM Istanbul 120 LR 0.011638897176672273 MSE
NON-RECURRENT-MMM Istanbul 120 RF 0.011504589991553531 MSE
NON-RECURRENT-MMM Istanbul 120 LLR 0.01461220450209247 MSE
NON-RECURRENT-MMM Istanbul 120 RLR 0.011638710426000681 MSE
NON-RECURRENT-MMM Istanbul 120 LR 0.20577993269090952 R2
NON-RECURRENT-MMM Istanbul 120 RF 0.21403581044466566 R2
NON-RECURRENT-MMM Istanbul 120 LLR -0.0010077088275751553 R2
NON-RECURRENT-MMM Istanbul 120 RLR 0.205774814045977 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 372.1879346370697 seconds
sorted_percentage_nan_per_column : maxspeed                         55.113829
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 105 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2943, 14) (2943,)
X.shape, Y.shape, "Inside the model-fitting function" : (2943, 14) (2943,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.002087340449538242 0.004405037814492028 2.1103590530555296
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.04125878756384134 0.028057158908277827 0.6800286815230303
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.003693409827505383 0.008177507691639205 2.2140807745569053
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg -1.0456888794286399 0.005343620903330848 -0.005110144143686964
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.005423483422710687 0.013567433939011234 2.5016088151386207
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.011202279608084169 0.017646398955478447 -1.5752507143942251
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.01661799729350389 0.021497275636210976 1.2936141014184925
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.014042990191725275 0.026239858868388154 1.8685378619611792
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.022307331059509813 0.03823137372519983 1.7138479553295307
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.015836190490604824 0.0097452604650288 0.6153790882226629
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.009190276806251068 0.013414985758621285 1.4596933304007385
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m -0.033785868900081145 0.00488008337368887 -0.14444155300907918
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.01067777363518521 0.01291644119024595 -1.2096567722398537
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.013981134100738268 0.020015047745742264 1.431575407368804
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0016
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0138
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0020
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0025
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0024
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0090
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0103
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0083
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0180
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0048
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0068
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0025
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0063
SHAP-- non-recurrent-mmm-istanbul-105-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0097
NON-RECURRENT-MMM Istanbul 105 LR 0.2010149788827264 XpVar
NON-RECURRENT-MMM Istanbul 105 RF 0.2237517540802718 XpVar
NON-RECURRENT-MMM Istanbul 105 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Istanbul 105 RLR 0.20104215540032921 XpVar
NON-RECURRENT-MMM Istanbul 105 LR 0.012327549841176112 MSE
NON-RECURRENT-MMM Istanbul 105 RF 0.011992112159313811 MSE
NON-RECURRENT-MMM Istanbul 105 LLR 0.015233945616305044 MSE
NON-RECURRENT-MMM Istanbul 105 RLR 0.012327325288089904 MSE
NON-RECURRENT-MMM Istanbul 105 LR 0.19882044800626814 R2
NON-RECURRENT-MMM Istanbul 105 RF 0.22125098874356786 R2
NON-RECURRENT-MMM Istanbul 105 LLR -0.0015241866635814347 R2
NON-RECURRENT-MMM Istanbul 105 RLR 0.19885996512173262 R2
t_spatial, t_non_spatial, "seconds" : 3.5762786865234375e-06 380.34290170669556 seconds
sorted_percentage_nan_per_column : maxspeed                         52.697998
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2298, 14) (2298,)
X.shape, Y.shape, "Inside the model-fitting function" : (2298, 14) (2298,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.0026992509668289314 0.005277142365627845 1.9550395389234259
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.04659847684256609 0.03306457028731371 0.7095633275530235
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.005121640865632664 0.01141445890534876 2.2286722565696255
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg -0.03389778489782434 0.0075562343731366225 -0.22291233471192398
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.005244486507946278 0.012126501439096916 2.312238084838855
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.011861807661010238 0.017510113426433868 -1.476175801095613
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.019945183884916996 0.025652158225809928 1.2861329518856268
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.015951644264579075 0.028499099908100213 1.786593246150994
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.01754989734148968 0.029857935234843383 1.7013168028200538
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.00598429125718877 0.007516867706278796 1.2560999094502598
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.012355956865479226 0.0160766799335738 1.3011278777194297
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.00866579583889835 0.006128330827880555 0.707186153679294
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.00935990922283876 0.011379486548640606 -1.2157689009284356
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.009835546384523308 0.013404639064508391 1.3628769099804376
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0021
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0164
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0029
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0038
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0027
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0087
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0122
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0099
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0145
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0038
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0075
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0032
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0056
SHAP-- non-recurrent-mmm-istanbul-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0066
NON-RECURRENT-MMM Istanbul 90 LR 0.234466048756107 XpVar
NON-RECURRENT-MMM Istanbul 90 RF 0.2494522128537197 XpVar
NON-RECURRENT-MMM Istanbul 90 LLR 0.0 XpVar
NON-RECURRENT-MMM Istanbul 90 RLR 0.23441878511676556 XpVar
NON-RECURRENT-MMM Istanbul 90 LR 0.010844234078401748 MSE
NON-RECURRENT-MMM Istanbul 90 RF 0.010628130711361214 MSE
NON-RECURRENT-MMM Istanbul 90 LLR 0.013987556188130476 MSE
NON-RECURRENT-MMM Istanbul 90 RLR 0.010843563197215798 MSE
NON-RECURRENT-MMM Istanbul 90 LR 0.22959179807601307 R2
NON-RECURRENT-MMM Istanbul 90 RF 0.24474736740714872 R2
NON-RECURRENT-MMM Istanbul 90 LLR -0.004961770656994087 R2
NON-RECURRENT-MMM Istanbul 90 RLR 0.22957554939730376 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 305.8886535167694 seconds
sorted_percentage_nan_per_column : maxspeed                         45.454545
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1210, 14) (1210,)
X.shape, Y.shape, "Inside the model-fitting function" : (1210, 14) (1210,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.008090881521540824 0.013309734534905967 1.6450289748367575
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.034048660164507 0.032111410067501664 0.9431034851989635
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.0049450241978487965 0.008907476328026038 1.8013008575167342
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg -0.03542883065033039 0.005531039975016888 -0.156116921543537
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.004662570818938503 0.008455047184011221 1.813387402003285
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.009138491224251609 0.013575382763451334 -1.4855168572493849
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.02211642272755511 0.027745840966181205 1.254535659223602
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.011166764652355193 0.016733828058041866 1.4985386169585402
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.017816175048563282 0.030176868909741042 1.6937905486157951
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.008334726591343582 0.009620763116033108 1.1542985856338945
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.0111454700101367 0.014649675866915072 1.3144062882580394
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.009807950650357628 0.0062178982284836 0.6339650809985342
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.010452112152246253 0.011627943788969418 -1.1124970359670765
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.007863165990482094 0.009754358842642193 1.240512899568606
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0064
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0158
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0026
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0027
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0025
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0069
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0133
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0069
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0149
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0048
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0072
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0032
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0053
SHAP-- non-recurrent-mmm-istanbul-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0050
NON-RECURRENT-MMM Istanbul 60 LR 0.2577550812012337 XpVar
NON-RECURRENT-MMM Istanbul 60 RF 0.2912103645972568 XpVar
NON-RECURRENT-MMM Istanbul 60 LLR 0.0 XpVar
NON-RECURRENT-MMM Istanbul 60 RLR 0.2576434032432446 XpVar
NON-RECURRENT-MMM Istanbul 60 LR 0.009150492929692482 MSE
NON-RECURRENT-MMM Istanbul 60 RF 0.008703094571348836 MSE
NON-RECURRENT-MMM Istanbul 60 LLR 0.012132562623050474 MSE
NON-RECURRENT-MMM Istanbul 60 RLR 0.009152975522434532 MSE
NON-RECURRENT-MMM Istanbul 60 LR 0.25058183039507886 R2
NON-RECURRENT-MMM Istanbul 60 RF 0.285100581349718 R2
NON-RECURRENT-MMM Istanbul 60 LLR -0.0072357293719789795 R2
NON-RECURRENT-MMM Istanbul 60 RLR 0.2505227178090517 R2
t_spatial, t_non_spatial, "seconds" : 3.0994415283203125e-06 123.89443325996399 seconds
sorted_percentage_nan_per_column : maxspeed                         41.16095
n                                 0.00000
lane_density                      0.00000
streets_per_node_proportion_6     0.00000
streets_per_node_proportion_5     0.00000
streets_per_node_proportion_4     0.00000
streets_per_node_proportion_3     0.00000
streets_per_node_proportion_2     0.00000
streets_per_node_proportion_1     0.00000
streets_per_node_count_6          0.00000
streets_per_node_count_5          0.00000
streets_per_node_count_4          0.00000
streets_per_node_count_3          0.00000
streets_per_node_count_2          0.00000
streets_per_node_count_1          0.00000
mean_lanes                        0.00000
m                                 0.00000
betweenness                       0.00000
total_crossings                   0.00000
non_metered_count                 0.00000
metered_count                     0.00000
self_loop_proportion              0.00000
circuity_avg                      0.00000
street_length_avg                 0.00000
street_segment_count              0.00000
street_length_total               0.00000
streets_per_node_avg              0.00000
edge_length_avg                   0.00000
edge_length_total                 0.00000
k_avg                             0.00000
global_betweenness                0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 45 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (758, 14) (758,)
X.shape, Y.shape, "Inside the model-fitting function" : (758, 14) (758,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.010203912554433349 0.014651954506490001 1.435915334272841
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.025412789928419346 0.022817265419957572 0.8978654246238751
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.007872153290042119 0.014678329930446144 1.864588936423977
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg 0.015103549589011828 0.009942933192094819 0.6583176447031052
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.0031566109616513456 0.004941333617157491 1.5653920223898885
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.009956337211150402 0.014952021499492832 -1.5017592496513288
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.01706729779496095 0.02360232401315747 1.3828975328552573
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.014433271368149512 0.02014665747578212 1.395848311993951
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.01850046835594933 0.031698339084969177 1.7133803574640698
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.007221732188056232 0.01067666253214837 1.478407431087811
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.009329163762904586 0.013781900952985184 1.477292210024863
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m -0.04237677595472084 0.00512409804141945 -0.12091759993479677
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.006201712702880784 0.00577422684777346 -0.931069709999828
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.009285914992417297 0.013313718029925313 1.4337540286333703
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0072
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0114
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0049
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0045
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0017
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0076
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0118
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0088
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0157
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0050
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0069
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0031
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0029
SHAP-- non-recurrent-mmm-istanbul-45-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0066
NON-RECURRENT-MMM Istanbul 45 LR 0.32302906766160877 XpVar
NON-RECURRENT-MMM Istanbul 45 RF 0.33651434181473255 XpVar
NON-RECURRENT-MMM Istanbul 45 LLR -1.586032892321652e-17 XpVar
NON-RECURRENT-MMM Istanbul 45 RLR 0.32393903364295484 XpVar
NON-RECURRENT-MMM Istanbul 45 LR 0.007400885998051485 MSE
NON-RECURRENT-MMM Istanbul 45 RF 0.007236510651373337 MSE
NON-RECURRENT-MMM Istanbul 45 LLR 0.010932972060257857 MSE
NON-RECURRENT-MMM Istanbul 45 RLR 0.007395798927896662 MSE
NON-RECURRENT-MMM Istanbul 45 LR 0.3166987940690521 R2
NON-RECURRENT-MMM Istanbul 45 RF 0.32999085079752283 R2
NON-RECURRENT-MMM Istanbul 45 LLR -0.014731129186977832 R2
NON-RECURRENT-MMM Istanbul 45 RLR 0.31717684773141225 R2
t_spatial, t_non_spatial, "seconds" : 1.6689300537109375e-06 87.41860818862915 seconds
sorted_percentage_nan_per_column : maxspeed                         32.207792
n                                 0.000000
lane_density                      0.000000
streets_per_node_proportion_6     0.000000
streets_per_node_proportion_5     0.000000
streets_per_node_proportion_4     0.000000
streets_per_node_proportion_3     0.000000
streets_per_node_proportion_2     0.000000
streets_per_node_proportion_1     0.000000
streets_per_node_count_6          0.000000
streets_per_node_count_5          0.000000
streets_per_node_count_4          0.000000
streets_per_node_count_3          0.000000
streets_per_node_count_2          0.000000
streets_per_node_count_1          0.000000
mean_lanes                        0.000000
m                                 0.000000
betweenness                       0.000000
total_crossings                   0.000000
non_metered_count                 0.000000
metered_count                     0.000000
self_loop_proportion              0.000000
circuity_avg                      0.000000
street_length_avg                 0.000000
street_segment_count              0.000000
street_length_total               0.000000
streets_per_node_avg              0.000000
edge_length_avg                   0.000000
edge_length_total                 0.000000
k_avg                             0.000000
global_betweenness                0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Istanbul 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (385, 14) (385,)
X.shape, Y.shape, "Inside the model-fitting function" : (385, 14) (385,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 100}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 streets_per_node_count_5 0.007836701419071048 0.009881114821929724 1.2608767762777693
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 mean_lanes 0.03725745143160347 0.034106946985236836 0.915439614753299
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 non_metered_count 0.007808314248412297 0.013031685756755328 1.6689499605379132
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 circuity_avg -0.009833569253250032 0.0041351213769457475 -0.4205107291616494
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 metered_count 0.008583733721652987 0.01124527681578153 1.3100682267688057
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 k_avg -0.00897643314391861 0.011843808112627245 -1.3194336684444907
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_4 0.01879250958354437 0.022171974062841004 1.1798303980781712
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 total_crossings 0.01449648403661361 0.0194590282914159 1.3423274390030333
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 streets_per_node_avg 0.013481533805686018 0.0228408568211016 1.694232803946103
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_count_2 0.00734153202584342 0.009801339321484519 1.3350536763964478
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 n 0.006291465888038395 0.007269574192875348 1.1554658838247178
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 m 0.010556653466353264 0.006043491738164989 0.5724817772438142
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 betweenness -0.059878084203774794 0.007553921872438791 -0.12615503606848166
NON-RECURRENT-MMM non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.008702377294275542 0.010548471703758663 1.212136792862048
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0050
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0170
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0048
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0021
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0043
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0061
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0105
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0087
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0114
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0048
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0036
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0031
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0038
SHAP-- non-recurrent-mmm-istanbul-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0053
NON-RECURRENT-MMM Istanbul 30 LR 0.41875419193242613 XpVar
NON-RECURRENT-MMM Istanbul 30 RF 0.40750825398551366 XpVar
NON-RECURRENT-MMM Istanbul 30 LLR -3.172065784643304e-17 XpVar
NON-RECURRENT-MMM Istanbul 30 RLR 0.42264731830154034 XpVar
NON-RECURRENT-MMM Istanbul 30 LR 0.005535043508490681 MSE
NON-RECURRENT-MMM Istanbul 30 RF 0.005576389120855794 MSE
NON-RECURRENT-MMM Istanbul 30 LLR 0.008993102790290673 MSE
NON-RECURRENT-MMM Istanbul 30 RLR 0.005503951063584996 MSE
NON-RECURRENT-MMM Istanbul 30 LR 0.3927411471737292 R2
NON-RECURRENT-MMM Istanbul 30 RF 0.38713030849767194 R2
NON-RECURRENT-MMM Istanbul 30 LLR -0.004901428235608288 R2
NON-RECURRENT-MMM Istanbul 30 RLR 0.3969776839529392 R2
t_spatial, t_non_spatial, "seconds" : 1.430511474609375e-06 29.173656940460205 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

