Loaded config file: Prefix for name of road network object pickle file!
os.getcwd() : /home/niskumar/WCS/urbanscales/modelling
sorted_percentage_nan_per_column : maxspeed                         1.025641
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 20 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (195, 15) (195,)
X.shape, Y.shape, "Inside the model-fitting function" : (195, 15) (195,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 20,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 50}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.072573122287173 0.10939958991055644 1.5074394825905455
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.07755475445478252 0.1138114621920846 1.4674981952066029
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.038564736119231516 0.0650749515318165 1.6874211541503283
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.028709452367403007 0.03495510087208047 1.2175467656000585
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.13912911492539462 0.016063432874222128 -0.11545701906344939
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg -0.03890191141356908 0.023541419916932357 -0.6051481549752605
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 -5.634119784264263 0.011012930276742324 -0.001954685150198747
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.02655254843068561 0.02788169218326275 -1.0500571067988753
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.03724692389300333 0.01883481842889115 0.5056744681251164
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.020824010117572116 0.030919081045867238 1.4847803507248831
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.028850468053944842 0.023456412992191276 -0.8130340536705429
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.032733071807503226 0.05649985952451317 1.7260787455811588
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.06482349138877332 0.09182372575462547 1.4165192862556657
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.021221012813055252 0.02776187870836827 1.3082259057536147
RECURRENT recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.026540053934768104 0.043479598949563165 1.638263398274555
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0538
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0547
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0322
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0154
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0078
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0112
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0058
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0141
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0094
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0156
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0118
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0271
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0453
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0140
SHAP-- recurrent-capetown-20-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0218
RECURRENT Capetown 20 LR 0.5604760476982601 XpVar
RECURRENT Capetown 20 RF 0.6313433102486993 XpVar
RECURRENT Capetown 20 LLR -4.7580986769649563e-17 XpVar
RECURRENT Capetown 20 RLR 0.5722315344408836 XpVar
RECURRENT Capetown 20 LR 0.050681291773425854 MSE
RECURRENT Capetown 20 RF 0.04393597776864226 MSE
RECURRENT Capetown 20 LLR 0.11419690472585271 MSE
RECURRENT Capetown 20 RLR 0.04966320170969717 MSE
RECURRENT Capetown 20 LR 0.5515291542169917 R2
RECURRENT Capetown 20 RF 0.6176266874703407 R2
RECURRENT Capetown 20 LLR -0.025257500561968436 R2
RECURRENT Capetown 20 RLR 0.5637093781431595 R2
t_spatial, t_non_spatial, "seconds" : 7.152557373046875e-07 24.226876497268677 seconds
sorted_percentage_nan_per_column : maxspeed                         3.157895
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 30 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (380, 15) (380,)
X.shape, Y.shape, "Inside the model-fitting function" : (380, 15) (380,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.10264952768395763 0.14006356963265892 1.3644833326841355
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.07673650338210405 0.09285343382495265 1.21002951310663
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.0274538746246546 0.03851729537008153 1.4029821253533215
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.0210945065196519 0.02511996731601504 1.1908298159339719
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.0314726844187267 0.016345926289272474 0.5193686713150663
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg -0.5872396504274634 0.016569590118452427 -0.02821606154555656
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.1484485898367589 0.013338624028081848 0.08985349098128605
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness 0.051629595674598544 0.017592412506631804 0.34074279057907025
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.05714518732043253 0.021720387010600042 0.38009127328267267
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.04144945871815203 0.06485121879256066 1.5645854203678722
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.024504246200728257 0.017788650481985146 -0.7259415505487564
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.05566369660942228 0.08351545523199849 1.5003576894650885
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.07396512300964038 0.10275282771730185 1.3892064737580356
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.01757654831418017 0.023042845034401772 1.3109994421266193
RECURRENT recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.02612621110745013 0.03856323476684038 1.4760362537162428
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0694
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0455
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0191
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0125
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0080
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0081
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0074
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0094
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0108
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0319
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0089
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0417
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0511
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0116
SHAP-- recurrent-capetown-30-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0193
RECURRENT Capetown 30 LR 0.4662437422803342 XpVar
RECURRENT Capetown 30 RF 0.5393022196860799 XpVar
RECURRENT Capetown 30 LLR 1.586032892321652e-17 XpVar
RECURRENT Capetown 30 RLR 0.473651382532514 XpVar
RECURRENT Capetown 30 LR 0.07518650185031883 MSE
RECURRENT Capetown 30 RF 0.0662291292700549 MSE
RECURRENT Capetown 30 LLR 0.13975166064099068 MSE
RECURRENT Capetown 30 RLR 0.07392514390888141 MSE
RECURRENT Capetown 30 LR 0.4553856949352131 R2
RECURRENT Capetown 30 RF 0.5176683916752364 R2
RECURRENT Capetown 30 LLR -0.015091637037559526 R2
RECURRENT Capetown 30 RLR 0.46197194596666014 R2
t_spatial, t_non_spatial, "seconds" : 2.1457672119140625e-06 63.166561126708984 seconds
sorted_percentage_nan_per_column : maxspeed                         2.755267
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 40 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (617, 15) (617,)
X.shape, Y.shape, "Inside the model-fitting function" : (617, 15) (617,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.12331760162921664 0.14434036796534264 1.1704766072189425
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.12255710799466975 0.13056662930124102 1.0653533804577016
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.022595798582382504 0.03331234648596679 1.4742717042954951
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.01802782535596599 0.02172864765214013 1.2052838999213744
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.02838113776359244 0.021765426499187925 0.7668976022204718
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg 0.03319993144573555 0.015706943735331547 0.4731016918213867
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 -0.029382915443747902 0.013093447029467464 -0.44561429088050175
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.025290008355977164 0.02536563301704161 -1.0029902979864604
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.09278830570381032 0.018307557899447557 0.1973045823025063
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.05393361125016957 0.07987302899356934 1.4809508790924548
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.039930011197666926 0.014352947783416874 -0.3594526360727769
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.07764424216681061 0.10407932747313595 1.3404642065992773
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.0632646813852878 0.07447458166862322 1.177190496148492
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.01996482270342835 0.013570451859852742 0.6797181252965713
RECURRENT recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.015181741284538518 0.01617514160967662 1.0654338857789525
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0722
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0648
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0166
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0107
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0099
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0078
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0065
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0120
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0086
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0395
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0072
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0518
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0372
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0069
SHAP-- recurrent-capetown-40-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0084
RECURRENT Capetown 40 LR 0.3478994304586443 XpVar
RECURRENT Capetown 40 RF 0.47390808621027275 XpVar
RECURRENT Capetown 40 LLR 0.0 XpVar
RECURRENT Capetown 40 RLR 0.3574458664795267 XpVar
RECURRENT Capetown 40 LR 0.1050802124971606 MSE
RECURRENT Capetown 40 RF 0.08505889308669216 MSE
RECURRENT Capetown 40 LLR 0.16115143654581257 MSE
RECURRENT Capetown 40 RLR 0.10365449829657584 MSE
RECURRENT Capetown 40 LR 0.33726863966118803 R2
RECURRENT Capetown 40 RF 0.46560456763710956 R2
RECURRENT Capetown 40 LLR -0.010882069819374436 R2
RECURRENT Capetown 40 RLR 0.34712926538503336 R2
t_spatial, t_non_spatial, "seconds" : 8.106231689453125e-06 70.4572525024414 seconds
sorted_percentage_nan_per_column : maxspeed                         3.599649
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 60 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1139, 15) (1139,)
X.shape, Y.shape, "Inside the model-fitting function" : (1139, 15) (1139,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.1293814358464214 0.159601472020522 1.233573201413319
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.14799871884445348 0.15696615925065988 1.0605913380617245
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.038618253667019424 0.05741928510943402 1.4868431287578123
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.02207597424945271 0.028700013091721405 1.3000564671537842
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.04305913773157601 0.025589244330947412 0.5942813924994689
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg -0.04095117703554639 0.012591560921324029 -0.3074773872896087
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.22315762400557687 0.009068557621271267 0.04063745373559201
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.02299891484867892 0.01817352879143396 -0.7901907073010388
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.05595322125196922 0.026788817783202926 0.47877168076824744
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.038135257334939915 0.052432771408711144 1.3749158934000874
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.13879847944675644 0.017437669329947888 -0.12563299972343744
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.05412968876855531 0.07923010969258742 1.4637089459604153
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.05878595592708355 0.07595491411765543 1.2920588416027081
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.02278219761141482 0.028472663040877158 1.2497768444696127
RECURRENT recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.027219885331828786 0.039757707506176604 1.4606126007330045
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0793
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0785
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0282
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0143
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0124
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0062
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0045
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0092
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0128
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0251
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0087
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0393
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0377
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0139
SHAP-- recurrent-capetown-60-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0195
RECURRENT Capetown 60 LR 0.33312288573849064 XpVar
RECURRENT Capetown 60 RF 0.4344628571453741 XpVar
RECURRENT Capetown 60 LLR 6.344131569286608e-17 XpVar
RECURRENT Capetown 60 RLR 0.3324789619857814 XpVar
RECURRENT Capetown 60 LR 0.12728482844896616 MSE
RECURRENT Capetown 60 RF 0.10698986263199432 MSE
RECURRENT Capetown 60 LLR 0.18970652178462122 MSE
RECURRENT Capetown 60 RLR 0.12739013917096914 MSE
RECURRENT Capetown 60 LR 0.32985433251163176 R2
RECURRENT Capetown 60 RF 0.4322343581587146 R2
RECURRENT Capetown 60 LLR -0.004596086948100574 R2
RECURRENT Capetown 60 RLR 0.3292774686795363 R2
t_spatial, t_non_spatial, "seconds" : 3.0994415283203125e-06 154.55314111709595 seconds
sorted_percentage_nan_per_column : maxspeed                         4.132231
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 70 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1452, 15) (1452,)
X.shape, Y.shape, "Inside the model-fitting function" : (1452, 15) (1452,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.12257639274692664 0.1439085335936272 1.1740313968183358
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.1545771842755869 0.1729874934183845 1.1191010771031702
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.03880954315019786 0.05948439250854255 1.532725914302325
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.020658579092592517 0.029080122270438234 1.4076535535236983
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.23495540313380436 0.020615663244384123 0.08774287787986618
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg 0.06352042917312044 0.01532820367830835 0.24131139977868246
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 -0.024317250033783662 0.010834518231730594 -0.4455486626439391
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.021892112918784578 0.032335846763502894 -1.4770546307458996
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 1.1090548226214507 0.01931823171525935 0.01741864452615357
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.04827648045666767 0.06776625459689137 1.4037115787203556
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.07760555992771813 0.01890218658153127 -0.24356742737423426
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.0694867237995067 0.09579661942220219 1.3786319772192552
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.061337001303547814 0.07249590353409868 1.181927743342507
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.021797485071099167 0.022032020669456857 1.010759754971396
RECURRENT recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.0220723836375952 0.03240318358716678 1.4680418807135744
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0720
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0861
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0294
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0145
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0102
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0074
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0055
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0149
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0097
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0338
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0095
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0479
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0364
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0110
SHAP-- recurrent-capetown-70-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0162
RECURRENT Capetown 70 LR 0.3119710298898334 XpVar
RECURRENT Capetown 70 RF 0.42075453454778605 XpVar
RECURRENT Capetown 70 LLR -7.930164461608261e-17 XpVar
RECURRENT Capetown 70 RLR 0.31210769687828543 XpVar
RECURRENT Capetown 70 LR 0.14523441253601738 MSE
RECURRENT Capetown 70 RF 0.12208971561654688 MSE
RECURRENT Capetown 70 LLR 0.21047036596516436 MSE
RECURRENT Capetown 70 RLR 0.14520469763507485 MSE
RECURRENT Capetown 70 LR 0.3103381088116544 R2
RECURRENT Capetown 70 RF 0.41947146793371853 R2
RECURRENT Capetown 70 LLR -0.002540756895248083 R2
RECURRENT Capetown 70 RLR 0.31048565255823396 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 182.51576280593872 seconds
sorted_percentage_nan_per_column : maxspeed                         4.089862
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 80 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (1736, 15) (1736,)
X.shape, Y.shape, "Inside the model-fitting function" : (1736, 15) (1736,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 600}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.12520805263910117 0.14968384621068118 1.1954809858925677
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.15941556641002186 0.1782974112819269 1.1184441726558894
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.04495115517008235 0.06890722951298134 1.5329356776762697
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.02137892950320645 0.029793678423075315 1.393600106058014
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.13645921795456945 0.03457335928551758 0.2533603797804842
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg 0.040630472439662134 0.018726680102023243 0.4609023468735961
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.019444224345259078 0.008602068104000217 0.442397081583642
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.021231680106536113 0.023849895667977628 -1.1233164567431244
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.05066377235983884 0.02230013570624226 0.4401594012355774
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.04075914026997589 0.05264247814631247 1.291550258362297
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.132820718321687 0.01910438514596967 -0.14383588183659374
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.07165220722652743 0.09295894239395217 1.2973632773106876
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.05545293956553196 0.0694221992470666 1.251911977813662
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.020658661341380762 0.02243170092833771 1.085825482961252
RECURRENT recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.02649900224147549 0.038377595838592835 1.4482656927559825
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0742
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0883
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0344
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0149
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0149
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0090
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0044
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0110
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0110
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0261
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0095
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0462
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0346
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0113
SHAP-- recurrent-capetown-80-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0192
RECURRENT Capetown 80 LR 0.27286666831345935 XpVar
RECURRENT Capetown 80 RF 0.40064569162707725 XpVar
RECURRENT Capetown 80 LLR 1.586032892321652e-17 XpVar
RECURRENT Capetown 80 RLR 0.275021386867362 XpVar
RECURRENT Capetown 80 LR 0.15693590159848034 MSE
RECURRENT Capetown 80 RF 0.1305313249998953 MSE
RECURRENT Capetown 80 LLR 0.21589950102094752 MSE
RECURRENT Capetown 80 RLR 0.15645390912449056 MSE
RECURRENT Capetown 80 LR 0.267909488529572 R2
RECURRENT Capetown 80 RF 0.395686935984223 R2
RECURRENT Capetown 80 LLR -0.004104857850860487 R2
RECURRENT Capetown 80 RLR 0.2700907263225747 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 262.4516661167145 seconds
sorted_percentage_nan_per_column : maxspeed                         4.53202
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 90 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2030, 15) (2030,)
X.shape, Y.shape, "Inside the model-fitting function" : (2030, 15) (2030,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 500}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.115758134395555 0.12736845828864365 1.1002981255158728
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.1616632146728305 0.18906055280594614 1.1694716895773822
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.03876608063597 0.05951640551154457 1.5352701262330064
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.026782042970959995 0.039961811998168534 1.4921121604315055
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.02531526075711512 0.026208214172983316 1.0352733248310397
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg 0.24082530843486222 0.018531421556425065 0.07694964319515195
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.0195663704423436 0.008554254116652622 0.4371916672976994
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.022251354878615917 0.029420221868346506 -1.3221766507629629
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.11148108257215697 0.02534875052056494 0.22738163225278846
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.04195909747526344 0.05608004458016981 1.336540773147736
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes 0.2337650692166295 0.02035250362599439 0.08706392145840136
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.07150525055586297 0.09827681720897535 1.3744000118172761
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.049028166915039535 0.07014733303272655 1.4307557766596541
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.03093216836543208 0.021034168174082275 0.6800094945037474
RECURRENT recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.02286051049943922 0.03314972767790745 1.4500869382912787
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0637
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0931
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0295
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0198
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0126
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0088
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0043
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0132
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0123
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0281
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0102
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0492
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0330
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0105
SHAP-- recurrent-capetown-90-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0164
RECURRENT Capetown 90 LR 0.2683261362041024 XpVar
RECURRENT Capetown 90 RF 0.3894855734309391 XpVar
RECURRENT Capetown 90 LLR 0.0 XpVar
RECURRENT Capetown 90 RLR 0.2699950798592028 XpVar
RECURRENT Capetown 90 LR 0.164348565038925 MSE
RECURRENT Capetown 90 RF 0.1373402109203098 MSE
RECURRENT Capetown 90 LLR 0.2247946035582928 MSE
RECURRENT Capetown 90 RLR 0.16399450239829896 MSE
RECURRENT Capetown 90 LR 0.2675498632199365 R2
RECURRENT Capetown 90 RF 0.3884035474089883 R2
RECURRENT Capetown 90 LLR -0.0012457145780376663 R2
RECURRENT Capetown 90 RLR 0.2692060294650188 R2
t_spatial, t_non_spatial, "seconds" : 2.86102294921875e-06 272.07294273376465 seconds
sorted_percentage_nan_per_column : maxspeed                         2.631579
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 25 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (304, 15) (304,)
X.shape, Y.shape, "Inside the model-fitting function" : (304, 15) (304,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 50,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.10225403676412154 0.13253755824411304 1.2961596670246789
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.08973891983544723 0.10411586202903891 1.16020854964551
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.02432843581527911 0.039047097657146076 1.6049982807617713
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.01671634441811342 0.022592798450607035 1.3515394206717848
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg -0.04523744286731895 0.014469338790841339 -0.31985315423950444
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg -0.06404234709467566 0.013364723085747782 -0.20868571643681838
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.03893140589854678 0.011193996561375468 0.2875312694986264
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.06323105868110547 0.016966251623330764 -0.2683214859472307
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.03248796113920647 0.018752805272931154 0.5772232117792172
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.032463001233949185 0.04944011656741288 1.5229681387471148
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.024372185075847264 0.017818316889293535 -0.7310923018942366
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.0493949971072179 0.07523195134588298 1.5230682407488112
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.05902809012935925 0.08047216321987297 1.3632859041097098
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.021883892205545808 0.03190930274408158 1.458118256312519
RECURRENT recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.029283846940924903 0.047650453402747775 1.627192407434526
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0663
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0519
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0193
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0113
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0072
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0065
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0060
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0090
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0093
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0242
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0089
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0375
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0403
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0160
SHAP-- recurrent-capetown-25-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0234
RECURRENT Capetown 25 LR 0.4529255263226006 XpVar
RECURRENT Capetown 25 RF 0.5491192133908794 XpVar
RECURRENT Capetown 25 LLR 3.172065784643304e-17 XpVar
RECURRENT Capetown 25 RLR 0.45231832913494546 XpVar
RECURRENT Capetown 25 LR 0.07008761262278287 MSE
RECURRENT Capetown 25 RF 0.05729878516561089 MSE
RECURRENT Capetown 25 LLR 0.12760092348369792 MSE
RECURRENT Capetown 25 RLR 0.07007207922291067 MSE
RECURRENT Capetown 25 LR 0.4371217286371123 R2
RECURRENT Capetown 25 RF 0.5370967616974641 R2
RECURRENT Capetown 25 LLR -0.016680372792287006 R2
RECURRENT Capetown 25 RLR 0.4383347079855447 R2
t_spatial, t_non_spatial, "seconds" : 2.384185791015625e-06 40.865888357162476 seconds
sorted_percentage_nan_per_column : maxspeed                         3.378378
n                                0.000000
lane_density                     0.000000
streets_per_node_proportion_6    0.000000
streets_per_node_proportion_5    0.000000
streets_per_node_proportion_4    0.000000
streets_per_node_proportion_3    0.000000
streets_per_node_proportion_2    0.000000
streets_per_node_proportion_1    0.000000
streets_per_node_count_6         0.000000
streets_per_node_count_5         0.000000
streets_per_node_count_4         0.000000
streets_per_node_count_3         0.000000
streets_per_node_count_2         0.000000
streets_per_node_count_1         0.000000
mean_lanes                       0.000000
m                                0.000000
betweenness                      0.000000
total_crossings                  0.000000
non_metered_count                0.000000
metered_count                    0.000000
self_loop_proportion             0.000000
circuity_avg                     0.000000
street_length_avg                0.000000
street_segment_count             0.000000
street_length_total              0.000000
streets_per_node_avg             0.000000
edge_length_avg                  0.000000
edge_length_total                0.000000
k_avg                            0.000000
global_betweenness               0.000000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 50 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (888, 15) (888,)
X.shape, Y.shape, "Inside the model-fitting function" : (888, 15) (888,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 400}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.12160258403031501 0.15109285022674931 1.2425134830118618
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.12963437734292477 0.13830026273299442 1.0668486675193076
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.042884000104014455 0.06648476526571895 1.5503396395966145
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.019702862344104375 0.026024675082487604 1.3208575803847549
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.0393479393697595 0.01974576639012213 0.5018246623938218
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg 0.0253278648949899 0.013437769360151317 0.5305527890276073
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 0.020412528654260662 0.013540422434057012 0.6633388084053344
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.025143646148683037 0.016944356410741233 -0.6739021186721854
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.06975875435184758 0.024591594075387052 0.35252341163307677
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.047630784276723105 0.07023176271298892 1.474503596349783
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes 0.5209002875007976 0.018832542340758075 0.0361538336465772
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.049368037617101616 0.06985078972815831 1.414899054119203
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.061541580252402486 0.07750335820623963 1.2593657473268087
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.019058651257035056 0.01935632541852192 1.0156188471824303
RECURRENT recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.022979154938081506 0.03314098625684217 1.442219539671595
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0748
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0691
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0332
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0125
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0095
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0066
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0063
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0084
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0115
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0351
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0094
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0346
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0387
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0097
SHAP-- recurrent-capetown-50-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0166
RECURRENT Capetown 50 LR 0.36378579883589246 XpVar
RECURRENT Capetown 50 RF 0.47107276943866505 XpVar
RECURRENT Capetown 50 LLR -6.344131569286608e-17 XpVar
RECURRENT Capetown 50 RLR 0.3628629658822657 XpVar
RECURRENT Capetown 50 LR 0.11429316471765734 MSE
RECURRENT Capetown 50 RF 0.09429696095869555 MSE
RECURRENT Capetown 50 LLR 0.1783202403795326 MSE
RECURRENT Capetown 50 RLR 0.11431658040230053 MSE
RECURRENT Capetown 50 LR 0.3616852855106952 R2
RECURRENT Capetown 50 RF 0.4700826742196918 R2
RECURRENT Capetown 50 LLR -0.004967666940128591 R2
RECURRENT Capetown 50 RLR 0.3609856126064534 R2
t_spatial, t_non_spatial, "seconds" : 2.6226043701171875e-06 91.67265677452087 seconds
sorted_percentage_nan_per_column : maxspeed                         5.21666
n                                0.00000
lane_density                     0.00000
streets_per_node_proportion_6    0.00000
streets_per_node_proportion_5    0.00000
streets_per_node_proportion_4    0.00000
streets_per_node_proportion_3    0.00000
streets_per_node_proportion_2    0.00000
streets_per_node_proportion_1    0.00000
streets_per_node_count_6         0.00000
streets_per_node_count_5         0.00000
streets_per_node_count_4         0.00000
streets_per_node_count_3         0.00000
streets_per_node_count_2         0.00000
streets_per_node_count_1         0.00000
mean_lanes                       0.00000
m                                0.00000
betweenness                      0.00000
total_crossings                  0.00000
non_metered_count                0.00000
metered_count                    0.00000
self_loop_proportion             0.00000
circuity_avg                     0.00000
street_length_avg                0.00000
street_segment_count             0.00000
street_length_total              0.00000
streets_per_node_avg             0.00000
edge_length_avg                  0.00000
edge_length_total                0.00000
k_avg                            0.00000
global_betweenness               0.00000
dtype: float64
city, scale, tod, config.shift_tile_marker, X.shape, Y.shape : Capetown 100 [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24] 3 (2377, 15) (2377,)
X.shape, Y.shape, "Inside the model-fitting function" : (2377, 15) (2377,) Inside the model-fitting function
Dict: model_trials.best_params_
Key: Value
{'randomforestregressor__max_depth': 10,
 'randomforestregressor__max_features': 'sqrt',
 'randomforestregressor__n_estimators': 300}
Matplotlib is currently using agg, which is a non-GUI backend, so cannot show the figure.
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 0 total_crossings 0.12292456339668283 0.14611676651066552 1.1886702093798818
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 1 metered_count 0.15971917266617536 0.1964213765388793 1.2297920985942885
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 2 streets_per_node_count_4 0.037919910071817865 0.05742132154743049 1.5142789484120138
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 3 m 0.023154385162197037 0.03290714188454766 1.4212056011866574
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 4 k_avg 0.041673977301314086 0.031038220197443414 0.7447866080318832
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 5 circuity_avg 0.09221716763833186 0.016094001036884298 0.17452282963193627
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 6 streets_per_node_count_2 -1.6336481863946497 0.01095275036989123 -0.006704473130205104
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 7 betweenness -0.024932496386779773 0.025519016013467836 -1.0235243040885011
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 8 global_betweenness 0.07134277919442486 0.02207906879141726 0.3094786752173883
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 9 streets_per_node_avg 0.05840149469088127 0.08150401129369028 1.3955809132127608
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 10 mean_lanes -0.043959650084428 0.021609825063847315 -0.49158319100229253
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 11 streets_per_node_count_5 0.04880823663628475 0.06400315332199388 1.3113186980906621
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 12 non_metered_count 0.061865399615512316 0.08308215002618877 1.3429501877064818
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 13 streets_per_node_count_3 0.02210352069178189 0.02607297412401704 1.1795846683243993
RECURRENT recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 14 n 0.026001630209994964 0.037501274613373735 1.4422662852484662
SHAP Values for each feature:
Slug                           Feature Name         Mean Abs SHAP Value
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 total_crossings               0.0725
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 metered_count                 0.0951
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_4          0.0289
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 m                             0.0165
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 k_avg                         0.0147
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 circuity_avg                  0.0074
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_2          0.0055
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 betweenness                   0.0122
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 global_betweenness            0.0107
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_avg          0.0403
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 mean_lanes                    0.0108
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_5          0.0320
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 non_metered_count             0.0403
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 streets_per_node_count_3          0.0123
SHAP-- recurrent-capetown-100-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-18-19-20-21-22-23-24 n                             0.0185
RECURRENT Capetown 100 LR 0.27923669545466234 XpVar
RECURRENT Capetown 100 RF 0.37213436281094286 XpVar
RECURRENT Capetown 100 LLR 0.0 XpVar
RECURRENT Capetown 100 RLR 0.27929510469762175 XpVar
RECURRENT Capetown 100 LR 0.1681467538526383 MSE
RECURRENT Capetown 100 RF 0.1470376003630424 MSE
RECURRENT Capetown 100 LLR 0.23408502520711752 MSE
RECURRENT Capetown 100 RLR 0.1680979194816373 MSE
RECURRENT Capetown 100 LR 0.2788300418029461 R2
RECURRENT Capetown 100 RF 0.3715862154131019 R2
RECURRENT Capetown 100 LLR -0.000866413396748105 R2
RECURRENT Capetown 100 RLR 0.27890947654672393 R2
t_spatial, t_non_spatial, "seconds" : 1.9073486328125e-06 223.54296255111694 seconds

 Complete: python urbanscales/modelling/SHAP_analysis.py

